;{try{(function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="384ac801-0e4f-45f7-acf5-ae6c5d823f01",e._sentryDebugIdIdentifier="sentry-dbid-384ac801-0e4f-45f7-acf5-ae6c5d823f01");})();}catch(e){}};
!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"00ee96a191eaa70b72f3e18304fd7a157fe83a8e"};}();
(self["webpackChunk_hydrooj_ui_default"] = self["webpackChunk_hydrooj_ui_default"] || []).push([["n.moment"],{

/***/ "../../node_modules/@types/node lazy-once recursive \\.d\\.ts$":
/*!**********************************************************!*\
  !*** ../../node_modules/@types/node/ lazy-once \.d\.ts$ ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./assert.d.ts": "../../node_modules/@types/node/assert.d.ts",
	"./assert/strict.d.ts": "../../node_modules/@types/node/assert/strict.d.ts",
	"./async_hooks.d.ts": "../../node_modules/@types/node/async_hooks.d.ts",
	"./buffer.buffer.d.ts": "../../node_modules/@types/node/buffer.buffer.d.ts",
	"./buffer.d.ts": "../../node_modules/@types/node/buffer.d.ts",
	"./child_process.d.ts": "../../node_modules/@types/node/child_process.d.ts",
	"./cluster.d.ts": "../../node_modules/@types/node/cluster.d.ts",
	"./compatibility/iterators.d.ts": "../../node_modules/@types/node/compatibility/iterators.d.ts",
	"./console.d.ts": "../../node_modules/@types/node/console.d.ts",
	"./constants.d.ts": "../../node_modules/@types/node/constants.d.ts",
	"./crypto.d.ts": "../../node_modules/@types/node/crypto.d.ts",
	"./dgram.d.ts": "../../node_modules/@types/node/dgram.d.ts",
	"./diagnostics_channel.d.ts": "../../node_modules/@types/node/diagnostics_channel.d.ts",
	"./dns.d.ts": "../../node_modules/@types/node/dns.d.ts",
	"./dns/promises.d.ts": "../../node_modules/@types/node/dns/promises.d.ts",
	"./dom-events.d.ts": "../../node_modules/@types/node/dom-events.d.ts",
	"./domain.d.ts": "../../node_modules/@types/node/domain.d.ts",
	"./events.d.ts": "../../node_modules/@types/node/events.d.ts",
	"./fs.d.ts": "../../node_modules/@types/node/fs.d.ts",
	"./fs/promises.d.ts": "../../node_modules/@types/node/fs/promises.d.ts",
	"./globals.d.ts": "../../node_modules/@types/node/globals.d.ts",
	"./globals.typedarray.d.ts": "../../node_modules/@types/node/globals.typedarray.d.ts",
	"./http.d.ts": "../../node_modules/@types/node/http.d.ts",
	"./http2.d.ts": "../../node_modules/@types/node/http2.d.ts",
	"./https.d.ts": "../../node_modules/@types/node/https.d.ts",
	"./index.d.ts": "../../node_modules/@types/node/index.d.ts",
	"./inspector.d.ts": "../../node_modules/@types/node/inspector.d.ts",
	"./module.d.ts": "../../node_modules/@types/node/module.d.ts",
	"./net.d.ts": "../../node_modules/@types/node/net.d.ts",
	"./os.d.ts": "../../node_modules/@types/node/os.d.ts",
	"./path.d.ts": "../../node_modules/@types/node/path.d.ts",
	"./perf_hooks.d.ts": "../../node_modules/@types/node/perf_hooks.d.ts",
	"./process.d.ts": "../../node_modules/@types/node/process.d.ts",
	"./punycode.d.ts": "../../node_modules/@types/node/punycode.d.ts",
	"./querystring.d.ts": "../../node_modules/@types/node/querystring.d.ts",
	"./readline.d.ts": "../../node_modules/@types/node/readline.d.ts",
	"./readline/promises.d.ts": "../../node_modules/@types/node/readline/promises.d.ts",
	"./repl.d.ts": "../../node_modules/@types/node/repl.d.ts",
	"./sea.d.ts": "../../node_modules/@types/node/sea.d.ts",
	"./sqlite.d.ts": "../../node_modules/@types/node/sqlite.d.ts",
	"./stream.d.ts": "../../node_modules/@types/node/stream.d.ts",
	"./stream/consumers.d.ts": "../../node_modules/@types/node/stream/consumers.d.ts",
	"./stream/promises.d.ts": "../../node_modules/@types/node/stream/promises.d.ts",
	"./stream/web.d.ts": "../../node_modules/@types/node/stream/web.d.ts",
	"./string_decoder.d.ts": "../../node_modules/@types/node/string_decoder.d.ts",
	"./test.d.ts": "../../node_modules/@types/node/test.d.ts",
	"./timers.d.ts": "../../node_modules/@types/node/timers.d.ts",
	"./timers/promises.d.ts": "../../node_modules/@types/node/timers/promises.d.ts",
	"./tls.d.ts": "../../node_modules/@types/node/tls.d.ts",
	"./trace_events.d.ts": "../../node_modules/@types/node/trace_events.d.ts",
	"./ts5.1/compatibility/disposable.d.ts": "../../node_modules/@types/node/ts5.1/compatibility/disposable.d.ts",
	"./ts5.1/index.d.ts": "../../node_modules/@types/node/ts5.1/index.d.ts",
	"./ts5.6/buffer.buffer.d.ts": "../../node_modules/@types/node/ts5.6/buffer.buffer.d.ts",
	"./ts5.6/compatibility/float16array.d.ts": "../../node_modules/@types/node/ts5.6/compatibility/float16array.d.ts",
	"./ts5.6/globals.typedarray.d.ts": "../../node_modules/@types/node/ts5.6/globals.typedarray.d.ts",
	"./ts5.6/index.d.ts": "../../node_modules/@types/node/ts5.6/index.d.ts",
	"./ts5.7/compatibility/float16array.d.ts": "../../node_modules/@types/node/ts5.7/compatibility/float16array.d.ts",
	"./ts5.7/index.d.ts": "../../node_modules/@types/node/ts5.7/index.d.ts",
	"./tty.d.ts": "../../node_modules/@types/node/tty.d.ts",
	"./url.d.ts": "../../node_modules/@types/node/url.d.ts",
	"./util.d.ts": "../../node_modules/@types/node/util.d.ts",
	"./v8.d.ts": "../../node_modules/@types/node/v8.d.ts",
	"./vm.d.ts": "../../node_modules/@types/node/vm.d.ts",
	"./wasi.d.ts": "../../node_modules/@types/node/wasi.d.ts",
	"./worker_threads.d.ts": "../../node_modules/@types/node/worker_threads.d.ts",
	"./zlib.d.ts": "../../node_modules/@types/node/zlib.d.ts"
};


function webpackAsyncContext(req) {
	return webpackAsyncContextResolve(req).then(__webpack_require__);
}
function webpackAsyncContextResolve(req) {
	return __webpack_require__.e(/*! lazy-once context */ "n.types").then(() => {
		if(!__webpack_require__.o(map, req)) {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		}
		return map[req];
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.resolve = webpackAsyncContextResolve;
webpackAsyncContext.id = "../../node_modules/@types/node lazy-once recursive \\.d\\.ts$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "../../node_modules/ajv/node_modules/json-schema-traverse/index.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/ajv/node_modules/json-schema-traverse/index.js ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";

var traverse = module.exports = function(schema, opts, cb) {
  if (typeof opts == "function") {
    cb = opts;
    opts = {};
  }
  cb = opts.cb || cb;
  var pre = typeof cb == "function" ? cb : cb.pre || function() {
  };
  var post = cb.post || function() {
  };
  _traverse(opts, pre, post, schema, "", schema);
};
traverse.keywords = {
  additionalItems: true,
  items: true,
  contains: true,
  additionalProperties: true,
  propertyNames: true,
  not: true,
  if: true,
  then: true,
  else: true
};
traverse.arrayKeywords = {
  items: true,
  allOf: true,
  anyOf: true,
  oneOf: true
};
traverse.propsKeywords = {
  $defs: true,
  definitions: true,
  properties: true,
  patternProperties: true,
  dependencies: true
};
traverse.skipKeywords = {
  default: true,
  enum: true,
  const: true,
  required: true,
  maximum: true,
  minimum: true,
  exclusiveMaximum: true,
  exclusiveMinimum: true,
  multipleOf: true,
  maxLength: true,
  minLength: true,
  pattern: true,
  format: true,
  maxItems: true,
  minItems: true,
  uniqueItems: true,
  maxProperties: true,
  minProperties: true
};
function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
  if (schema && typeof schema == "object" && !Array.isArray(schema)) {
    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
    for (var key in schema) {
      var sch = schema[key];
      if (Array.isArray(sch)) {
        if (key in traverse.arrayKeywords) {
          for (var i = 0; i < sch.length; i++)
            _traverse(opts, pre, post, sch[i], jsonPtr + "/" + key + "/" + i, rootSchema, jsonPtr, key, schema, i);
        }
      } else if (key in traverse.propsKeywords) {
        if (sch && typeof sch == "object") {
          for (var prop in sch)
            _traverse(opts, pre, post, sch[prop], jsonPtr + "/" + key + "/" + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);
        }
      } else if (key in traverse.keywords || opts.allKeys && !(key in traverse.skipKeywords)) {
        _traverse(opts, pre, post, sch, jsonPtr + "/" + key, rootSchema, jsonPtr, key, schema);
      }
    }
    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
  }
}
function escapeJsonPtr(str) {
  return str.replace(/~/g, "~0").replace(/\//g, "~1");
}


/***/ }),

/***/ "../../node_modules/fast-uri/index.js":
/*!********************************************!*\
  !*** ../../node_modules/fast-uri/index.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

const { normalizeIPv6, normalizeIPv4, removeDotSegments, recomposeAuthority, normalizeComponentEncoding } = __webpack_require__(/*! ./lib/utils */ "../../node_modules/fast-uri/lib/utils.js");
const SCHEMES = __webpack_require__(/*! ./lib/schemes */ "../../node_modules/fast-uri/lib/schemes.js");
function normalize(uri, options) {
  if (typeof uri === "string") {
    uri = serialize(parse(uri, options), options);
  } else if (typeof uri === "object") {
    uri = parse(serialize(uri, options), options);
  }
  return uri;
}
function resolve(baseURI, relativeURI, options) {
  const schemelessOptions = Object.assign({ scheme: "null" }, options);
  const resolved = resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true);
  return serialize(resolved, { ...schemelessOptions, skipEscape: true });
}
function resolveComponents(base, relative, options, skipNormalization) {
  const target = {};
  if (!skipNormalization) {
    base = parse(serialize(base, options), options);
    relative = parse(serialize(relative, options), options);
  }
  options = options || {};
  if (!options.tolerant && relative.scheme) {
    target.scheme = relative.scheme;
    target.userinfo = relative.userinfo;
    target.host = relative.host;
    target.port = relative.port;
    target.path = removeDotSegments(relative.path || "");
    target.query = relative.query;
  } else {
    if (relative.userinfo !== void 0 || relative.host !== void 0 || relative.port !== void 0) {
      target.userinfo = relative.userinfo;
      target.host = relative.host;
      target.port = relative.port;
      target.path = removeDotSegments(relative.path || "");
      target.query = relative.query;
    } else {
      if (!relative.path) {
        target.path = base.path;
        if (relative.query !== void 0) {
          target.query = relative.query;
        } else {
          target.query = base.query;
        }
      } else {
        if (relative.path.charAt(0) === "/") {
          target.path = removeDotSegments(relative.path);
        } else {
          if ((base.userinfo !== void 0 || base.host !== void 0 || base.port !== void 0) && !base.path) {
            target.path = "/" + relative.path;
          } else if (!base.path) {
            target.path = relative.path;
          } else {
            target.path = base.path.slice(0, base.path.lastIndexOf("/") + 1) + relative.path;
          }
          target.path = removeDotSegments(target.path);
        }
        target.query = relative.query;
      }
      target.userinfo = base.userinfo;
      target.host = base.host;
      target.port = base.port;
    }
    target.scheme = base.scheme;
  }
  target.fragment = relative.fragment;
  return target;
}
function equal(uriA, uriB, options) {
  if (typeof uriA === "string") {
    uriA = unescape(uriA);
    uriA = serialize(normalizeComponentEncoding(parse(uriA, options), true), { ...options, skipEscape: true });
  } else if (typeof uriA === "object") {
    uriA = serialize(normalizeComponentEncoding(uriA, true), { ...options, skipEscape: true });
  }
  if (typeof uriB === "string") {
    uriB = unescape(uriB);
    uriB = serialize(normalizeComponentEncoding(parse(uriB, options), true), { ...options, skipEscape: true });
  } else if (typeof uriB === "object") {
    uriB = serialize(normalizeComponentEncoding(uriB, true), { ...options, skipEscape: true });
  }
  return uriA.toLowerCase() === uriB.toLowerCase();
}
function serialize(cmpts, opts) {
  const components = {
    host: cmpts.host,
    scheme: cmpts.scheme,
    userinfo: cmpts.userinfo,
    port: cmpts.port,
    path: cmpts.path,
    query: cmpts.query,
    nid: cmpts.nid,
    nss: cmpts.nss,
    uuid: cmpts.uuid,
    fragment: cmpts.fragment,
    reference: cmpts.reference,
    resourceName: cmpts.resourceName,
    secure: cmpts.secure,
    error: ""
  };
  const options = Object.assign({}, opts);
  const uriTokens = [];
  const schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
  if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);
  if (components.path !== void 0) {
    if (!options.skipEscape) {
      components.path = escape(components.path);
      if (components.scheme !== void 0) {
        components.path = components.path.split("%3A").join(":");
      }
    } else {
      components.path = unescape(components.path);
    }
  }
  if (options.reference !== "suffix" && components.scheme) {
    uriTokens.push(components.scheme, ":");
  }
  const authority = recomposeAuthority(components);
  if (authority !== void 0) {
    if (options.reference !== "suffix") {
      uriTokens.push("//");
    }
    uriTokens.push(authority);
    if (components.path && components.path.charAt(0) !== "/") {
      uriTokens.push("/");
    }
  }
  if (components.path !== void 0) {
    let s = components.path;
    if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {
      s = removeDotSegments(s);
    }
    if (authority === void 0) {
      s = s.replace(/^\/\//u, "/%2F");
    }
    uriTokens.push(s);
  }
  if (components.query !== void 0) {
    uriTokens.push("?", components.query);
  }
  if (components.fragment !== void 0) {
    uriTokens.push("#", components.fragment);
  }
  return uriTokens.join("");
}
const hexLookUp = Array.from({ length: 127 }, (_v, k) => /[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(k)));
function nonSimpleDomain(value) {
  let code = 0;
  for (let i = 0, len = value.length; i < len; ++i) {
    code = value.charCodeAt(i);
    if (code > 126 || hexLookUp[code]) {
      return true;
    }
  }
  return false;
}
const URI_PARSE = /^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;
function parse(uri, opts) {
  const options = Object.assign({}, opts);
  const parsed = {
    scheme: void 0,
    userinfo: void 0,
    host: "",
    port: void 0,
    path: "",
    query: void 0,
    fragment: void 0
  };
  const gotEncoding = uri.indexOf("%") !== -1;
  let isIP = false;
  if (options.reference === "suffix") uri = (options.scheme ? options.scheme + ":" : "") + "//" + uri;
  const matches = uri.match(URI_PARSE);
  if (matches) {
    parsed.scheme = matches[1];
    parsed.userinfo = matches[3];
    parsed.host = matches[4];
    parsed.port = parseInt(matches[5], 10);
    parsed.path = matches[6] || "";
    parsed.query = matches[7];
    parsed.fragment = matches[8];
    if (isNaN(parsed.port)) {
      parsed.port = matches[5];
    }
    if (parsed.host) {
      const ipv4result = normalizeIPv4(parsed.host);
      if (ipv4result.isIPV4 === false) {
        const ipv6result = normalizeIPv6(ipv4result.host);
        parsed.host = ipv6result.host.toLowerCase();
        isIP = ipv6result.isIPV6;
      } else {
        parsed.host = ipv4result.host;
        isIP = true;
      }
    }
    if (parsed.scheme === void 0 && parsed.userinfo === void 0 && parsed.host === void 0 && parsed.port === void 0 && parsed.query === void 0 && !parsed.path) {
      parsed.reference = "same-document";
    } else if (parsed.scheme === void 0) {
      parsed.reference = "relative";
    } else if (parsed.fragment === void 0) {
      parsed.reference = "absolute";
    } else {
      parsed.reference = "uri";
    }
    if (options.reference && options.reference !== "suffix" && options.reference !== parsed.reference) {
      parsed.error = parsed.error || "URI is not a " + options.reference + " reference.";
    }
    const schemeHandler = SCHEMES[(options.scheme || parsed.scheme || "").toLowerCase()];
    if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {
      if (parsed.host && (options.domainHost || schemeHandler && schemeHandler.domainHost) && isIP === false && nonSimpleDomain(parsed.host)) {
        try {
          parsed.host = URL.domainToASCII(parsed.host.toLowerCase());
        } catch (e) {
          parsed.error = parsed.error || "Host's domain name can not be converted to ASCII: " + e;
        }
      }
    }
    if (!schemeHandler || schemeHandler && !schemeHandler.skipNormalize) {
      if (gotEncoding && parsed.scheme !== void 0) {
        parsed.scheme = unescape(parsed.scheme);
      }
      if (gotEncoding && parsed.host !== void 0) {
        parsed.host = unescape(parsed.host);
      }
      if (parsed.path) {
        parsed.path = escape(unescape(parsed.path));
      }
      if (parsed.fragment) {
        parsed.fragment = encodeURI(decodeURIComponent(parsed.fragment));
      }
    }
    if (schemeHandler && schemeHandler.parse) {
      schemeHandler.parse(parsed, options);
    }
  } else {
    parsed.error = parsed.error || "URI can not be parsed.";
  }
  return parsed;
}
const fastUri = {
  SCHEMES,
  normalize,
  resolve,
  resolveComponents,
  equal,
  serialize,
  parse
};
module.exports = fastUri;
module.exports["default"] = fastUri;
module.exports.fastUri = fastUri;


/***/ }),

/***/ "../../node_modules/fast-uri/lib/schemes.js":
/*!**************************************************!*\
  !*** ../../node_modules/fast-uri/lib/schemes.js ***!
  \**************************************************/
/***/ ((module) => {

"use strict";

const UUID_REG = /^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu;
const URN_REG = /([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;
function isSecure(wsComponents) {
  return typeof wsComponents.secure === "boolean" ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === "wss";
}
function httpParse(components) {
  if (!components.host) {
    components.error = components.error || "HTTP URIs must have a host.";
  }
  return components;
}
function httpSerialize(components) {
  const secure = String(components.scheme).toLowerCase() === "https";
  if (components.port === (secure ? 443 : 80) || components.port === "") {
    components.port = void 0;
  }
  if (!components.path) {
    components.path = "/";
  }
  return components;
}
function wsParse(wsComponents) {
  wsComponents.secure = isSecure(wsComponents);
  wsComponents.resourceName = (wsComponents.path || "/") + (wsComponents.query ? "?" + wsComponents.query : "");
  wsComponents.path = void 0;
  wsComponents.query = void 0;
  return wsComponents;
}
function wsSerialize(wsComponents) {
  if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === "") {
    wsComponents.port = void 0;
  }
  if (typeof wsComponents.secure === "boolean") {
    wsComponents.scheme = wsComponents.secure ? "wss" : "ws";
    wsComponents.secure = void 0;
  }
  if (wsComponents.resourceName) {
    const [path, query] = wsComponents.resourceName.split("?");
    wsComponents.path = path && path !== "/" ? path : void 0;
    wsComponents.query = query;
    wsComponents.resourceName = void 0;
  }
  wsComponents.fragment = void 0;
  return wsComponents;
}
function urnParse(urnComponents, options) {
  if (!urnComponents.path) {
    urnComponents.error = "URN can not be parsed";
    return urnComponents;
  }
  const matches = urnComponents.path.match(URN_REG);
  if (matches) {
    const scheme = options.scheme || urnComponents.scheme || "urn";
    urnComponents.nid = matches[1].toLowerCase();
    urnComponents.nss = matches[2];
    const urnScheme = `${scheme}:${options.nid || urnComponents.nid}`;
    const schemeHandler = SCHEMES[urnScheme];
    urnComponents.path = void 0;
    if (schemeHandler) {
      urnComponents = schemeHandler.parse(urnComponents, options);
    }
  } else {
    urnComponents.error = urnComponents.error || "URN can not be parsed.";
  }
  return urnComponents;
}
function urnSerialize(urnComponents, options) {
  const scheme = options.scheme || urnComponents.scheme || "urn";
  const nid = urnComponents.nid.toLowerCase();
  const urnScheme = `${scheme}:${options.nid || nid}`;
  const schemeHandler = SCHEMES[urnScheme];
  if (schemeHandler) {
    urnComponents = schemeHandler.serialize(urnComponents, options);
  }
  const uriComponents = urnComponents;
  const nss = urnComponents.nss;
  uriComponents.path = `${nid || options.nid}:${nss}`;
  options.skipEscape = true;
  return uriComponents;
}
function urnuuidParse(urnComponents, options) {
  const uuidComponents = urnComponents;
  uuidComponents.uuid = uuidComponents.nss;
  uuidComponents.nss = void 0;
  if (!options.tolerant && (!uuidComponents.uuid || !UUID_REG.test(uuidComponents.uuid))) {
    uuidComponents.error = uuidComponents.error || "UUID is not valid.";
  }
  return uuidComponents;
}
function urnuuidSerialize(uuidComponents) {
  const urnComponents = uuidComponents;
  urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();
  return urnComponents;
}
const http = {
  scheme: "http",
  domainHost: true,
  parse: httpParse,
  serialize: httpSerialize
};
const https = {
  scheme: "https",
  domainHost: http.domainHost,
  parse: httpParse,
  serialize: httpSerialize
};
const ws = {
  scheme: "ws",
  domainHost: true,
  parse: wsParse,
  serialize: wsSerialize
};
const wss = {
  scheme: "wss",
  domainHost: ws.domainHost,
  parse: ws.parse,
  serialize: ws.serialize
};
const urn = {
  scheme: "urn",
  parse: urnParse,
  serialize: urnSerialize,
  skipNormalize: true
};
const urnuuid = {
  scheme: "urn:uuid",
  parse: urnuuidParse,
  serialize: urnuuidSerialize,
  skipNormalize: true
};
const SCHEMES = {
  http,
  https,
  ws,
  wss,
  urn,
  "urn:uuid": urnuuid
};
module.exports = SCHEMES;


/***/ }),

/***/ "../../node_modules/fast-uri/lib/scopedChars.js":
/*!******************************************************!*\
  !*** ../../node_modules/fast-uri/lib/scopedChars.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";

const HEX = {
  0: 0,
  1: 1,
  2: 2,
  3: 3,
  4: 4,
  5: 5,
  6: 6,
  7: 7,
  8: 8,
  9: 9,
  a: 10,
  A: 10,
  b: 11,
  B: 11,
  c: 12,
  C: 12,
  d: 13,
  D: 13,
  e: 14,
  E: 14,
  f: 15,
  F: 15
};
module.exports = {
  HEX
};


/***/ }),

/***/ "../../node_modules/fast-uri/lib/utils.js":
/*!************************************************!*\
  !*** ../../node_modules/fast-uri/lib/utils.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

const { HEX } = __webpack_require__(/*! ./scopedChars */ "../../node_modules/fast-uri/lib/scopedChars.js");
const IPV4_REG = /^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;
function normalizeIPv4(host) {
  if (findToken(host, ".") < 3) {
    return { host, isIPV4: false };
  }
  const matches = host.match(IPV4_REG) || [];
  const [address] = matches;
  if (address) {
    return { host: stripLeadingZeros(address, "."), isIPV4: true };
  } else {
    return { host, isIPV4: false };
  }
}
function stringArrayToHexStripped(input, keepZero = false) {
  let acc = "";
  let strip = true;
  for (const c of input) {
    if (HEX[c] === void 0) return void 0;
    if (c !== "0" && strip === true) strip = false;
    if (!strip) acc += c;
  }
  if (keepZero && acc.length === 0) acc = "0";
  return acc;
}
function getIPV6(input) {
  let tokenCount = 0;
  const output = { error: false, address: "", zone: "" };
  const address = [];
  const buffer = [];
  let isZone = false;
  let endipv6Encountered = false;
  let endIpv6 = false;
  function consume() {
    if (buffer.length) {
      if (isZone === false) {
        const hex = stringArrayToHexStripped(buffer);
        if (hex !== void 0) {
          address.push(hex);
        } else {
          output.error = true;
          return false;
        }
      }
      buffer.length = 0;
    }
    return true;
  }
  for (let i = 0; i < input.length; i++) {
    const cursor = input[i];
    if (cursor === "[" || cursor === "]") {
      continue;
    }
    if (cursor === ":") {
      if (endipv6Encountered === true) {
        endIpv6 = true;
      }
      if (!consume()) {
        break;
      }
      tokenCount++;
      address.push(":");
      if (tokenCount > 7) {
        output.error = true;
        break;
      }
      if (i - 1 >= 0 && input[i - 1] === ":") {
        endipv6Encountered = true;
      }
      continue;
    } else if (cursor === "%") {
      if (!consume()) {
        break;
      }
      isZone = true;
    } else {
      buffer.push(cursor);
      continue;
    }
  }
  if (buffer.length) {
    if (isZone) {
      output.zone = buffer.join("");
    } else if (endIpv6) {
      address.push(buffer.join(""));
    } else {
      address.push(stringArrayToHexStripped(buffer));
    }
  }
  output.address = address.join("");
  return output;
}
function normalizeIPv6(host) {
  if (findToken(host, ":") < 2) {
    return { host, isIPV6: false };
  }
  const ipv6 = getIPV6(host);
  if (!ipv6.error) {
    let newHost = ipv6.address;
    let escapedHost = ipv6.address;
    if (ipv6.zone) {
      newHost += "%" + ipv6.zone;
      escapedHost += "%25" + ipv6.zone;
    }
    return { host: newHost, escapedHost, isIPV6: true };
  } else {
    return { host, isIPV6: false };
  }
}
function stripLeadingZeros(str, token) {
  let out = "";
  let skip = true;
  const l = str.length;
  for (let i = 0; i < l; i++) {
    const c = str[i];
    if (c === "0" && skip) {
      if (i + 1 <= l && str[i + 1] === token || i + 1 === l) {
        out += c;
        skip = false;
      }
    } else {
      if (c === token) {
        skip = true;
      } else {
        skip = false;
      }
      out += c;
    }
  }
  return out;
}
function findToken(str, token) {
  let ind = 0;
  for (let i = 0; i < str.length; i++) {
    if (str[i] === token) ind++;
  }
  return ind;
}
const RDS1 = /^\.\.?\//u;
const RDS2 = /^\/\.(?:\/|$)/u;
const RDS3 = /^\/\.\.(?:\/|$)/u;
const RDS5 = /^\/?(?:.|\n)*?(?=\/|$)/u;
function removeDotSegments(input) {
  const output = [];
  while (input.length) {
    if (input.match(RDS1)) {
      input = input.replace(RDS1, "");
    } else if (input.match(RDS2)) {
      input = input.replace(RDS2, "/");
    } else if (input.match(RDS3)) {
      input = input.replace(RDS3, "/");
      output.pop();
    } else if (input === "." || input === "..") {
      input = "";
    } else {
      const im = input.match(RDS5);
      if (im) {
        const s = im[0];
        input = input.slice(s.length);
        output.push(s);
      } else {
        throw new Error("Unexpected dot segment condition");
      }
    }
  }
  return output.join("");
}
function normalizeComponentEncoding(components, esc) {
  const func = esc !== true ? escape : unescape;
  if (components.scheme !== void 0) {
    components.scheme = func(components.scheme);
  }
  if (components.userinfo !== void 0) {
    components.userinfo = func(components.userinfo);
  }
  if (components.host !== void 0) {
    components.host = func(components.host);
  }
  if (components.path !== void 0) {
    components.path = func(components.path);
  }
  if (components.query !== void 0) {
    components.query = func(components.query);
  }
  if (components.fragment !== void 0) {
    components.fragment = func(components.fragment);
  }
  return components;
}
function recomposeAuthority(components) {
  const uriTokens = [];
  if (components.userinfo !== void 0) {
    uriTokens.push(components.userinfo);
    uriTokens.push("@");
  }
  if (components.host !== void 0) {
    let host = unescape(components.host);
    const ipV4res = normalizeIPv4(host);
    if (ipV4res.isIPV4) {
      host = ipV4res.host;
    } else {
      const ipV6res = normalizeIPv6(ipV4res.host);
      if (ipV6res.isIPV6 === true) {
        host = `[${ipV6res.escapedHost}]`;
      } else {
        host = components.host;
      }
    }
    uriTokens.push(host);
  }
  if (typeof components.port === "number" || typeof components.port === "string") {
    uriTokens.push(":");
    uriTokens.push(String(components.port));
  }
  return uriTokens.length ? uriTokens.join("") : void 0;
}
;
module.exports = {
  recomposeAuthority,
  normalizeComponentEncoding,
  removeDotSegments,
  normalizeIPv4,
  normalizeIPv6,
  stringArrayToHexStripped
};


/***/ }),

/***/ "../../node_modules/moment/moment.js":
/*!*******************************************!*\
  !*** ../../node_modules/moment/moment.js ***!
  \*******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
;
(function(global, factory) {
   true ? module.exports = factory() : 0;
})(this, function() {
  "use strict";
  var hookCallback;
  function hooks() {
    return hookCallback.apply(null, arguments);
  }
  function setHookCallback(callback) {
    hookCallback = callback;
  }
  function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === "[object Array]";
  }
  function isObject(input) {
    return input != null && Object.prototype.toString.call(input) === "[object Object]";
  }
  function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
  }
  function isObjectEmpty(obj) {
    if (Object.getOwnPropertyNames) {
      return Object.getOwnPropertyNames(obj).length === 0;
    } else {
      var k;
      for (k in obj) {
        if (hasOwnProp(obj, k)) {
          return false;
        }
      }
      return true;
    }
  }
  function isUndefined(input) {
    return input === void 0;
  }
  function isNumber(input) {
    return typeof input === "number" || Object.prototype.toString.call(input) === "[object Number]";
  }
  function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === "[object Date]";
  }
  function map(arr, fn) {
    var res = [], i, arrLen = arr.length;
    for (i = 0; i < arrLen; ++i) {
      res.push(fn(arr[i], i));
    }
    return res;
  }
  function extend(a, b) {
    for (var i in b) {
      if (hasOwnProp(b, i)) {
        a[i] = b[i];
      }
    }
    if (hasOwnProp(b, "toString")) {
      a.toString = b.toString;
    }
    if (hasOwnProp(b, "valueOf")) {
      a.valueOf = b.valueOf;
    }
    return a;
  }
  function createUTC(input, format2, locale2, strict) {
    return createLocalOrUTC(input, format2, locale2, strict, true).utc();
  }
  function defaultParsingFlags() {
    return {
      empty: false,
      unusedTokens: [],
      unusedInput: [],
      overflow: -2,
      charsLeftOver: 0,
      nullInput: false,
      invalidEra: null,
      invalidMonth: null,
      invalidFormat: false,
      userInvalidated: false,
      iso: false,
      parsedDateParts: [],
      era: null,
      meridiem: null,
      rfc2822: false,
      weekdayMismatch: false
    };
  }
  function getParsingFlags(m) {
    if (m._pf == null) {
      m._pf = defaultParsingFlags();
    }
    return m._pf;
  }
  var some;
  if (Array.prototype.some) {
    some = Array.prototype.some;
  } else {
    some = function(fun) {
      var t = Object(this), len = t.length >>> 0, i;
      for (i = 0; i < len; i++) {
        if (i in t && fun.call(this, t[i], i, t)) {
          return true;
        }
      }
      return false;
    };
  }
  function isValid(m) {
    var flags = null, parsedParts = false, isNowValid = m._d && !isNaN(m._d.getTime());
    if (isNowValid) {
      flags = getParsingFlags(m);
      parsedParts = some.call(flags.parsedDateParts, function(i) {
        return i != null;
      });
      isNowValid = flags.overflow < 0 && !flags.empty && !flags.invalidEra && !flags.invalidMonth && !flags.invalidWeekday && !flags.weekdayMismatch && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || flags.meridiem && parsedParts);
      if (m._strict) {
        isNowValid = isNowValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === void 0;
      }
    }
    if (Object.isFrozen == null || !Object.isFrozen(m)) {
      m._isValid = isNowValid;
    } else {
      return isNowValid;
    }
    return m._isValid;
  }
  function createInvalid(flags) {
    var m = createUTC(NaN);
    if (flags != null) {
      extend(getParsingFlags(m), flags);
    } else {
      getParsingFlags(m).userInvalidated = true;
    }
    return m;
  }
  var momentProperties = hooks.momentProperties = [], updateInProgress = false;
  function copyConfig(to2, from2) {
    var i, prop, val, momentPropertiesLen = momentProperties.length;
    if (!isUndefined(from2._isAMomentObject)) {
      to2._isAMomentObject = from2._isAMomentObject;
    }
    if (!isUndefined(from2._i)) {
      to2._i = from2._i;
    }
    if (!isUndefined(from2._f)) {
      to2._f = from2._f;
    }
    if (!isUndefined(from2._l)) {
      to2._l = from2._l;
    }
    if (!isUndefined(from2._strict)) {
      to2._strict = from2._strict;
    }
    if (!isUndefined(from2._tzm)) {
      to2._tzm = from2._tzm;
    }
    if (!isUndefined(from2._isUTC)) {
      to2._isUTC = from2._isUTC;
    }
    if (!isUndefined(from2._offset)) {
      to2._offset = from2._offset;
    }
    if (!isUndefined(from2._pf)) {
      to2._pf = getParsingFlags(from2);
    }
    if (!isUndefined(from2._locale)) {
      to2._locale = from2._locale;
    }
    if (momentPropertiesLen > 0) {
      for (i = 0; i < momentPropertiesLen; i++) {
        prop = momentProperties[i];
        val = from2[prop];
        if (!isUndefined(val)) {
          to2[prop] = val;
        }
      }
    }
    return to2;
  }
  function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (!this.isValid()) {
      this._d = /* @__PURE__ */ new Date(NaN);
    }
    if (updateInProgress === false) {
      updateInProgress = true;
      hooks.updateOffset(this);
      updateInProgress = false;
    }
  }
  function isMoment(obj) {
    return obj instanceof Moment || obj != null && obj._isAMomentObject != null;
  }
  function warn(msg) {
    if (hooks.suppressDeprecationWarnings === false && typeof console !== "undefined" && console.warn) {
      console.warn("Deprecation warning: " + msg);
    }
  }
  function deprecate(msg, fn) {
    var firstTime = true;
    return extend(function() {
      if (hooks.deprecationHandler != null) {
        hooks.deprecationHandler(null, msg);
      }
      if (firstTime) {
        var args = [], arg, i, key, argLen = arguments.length;
        for (i = 0; i < argLen; i++) {
          arg = "";
          if (typeof arguments[i] === "object") {
            arg += "\n[" + i + "] ";
            for (key in arguments[0]) {
              if (hasOwnProp(arguments[0], key)) {
                arg += key + ": " + arguments[0][key] + ", ";
              }
            }
            arg = arg.slice(0, -2);
          } else {
            arg = arguments[i];
          }
          args.push(arg);
        }
        warn(
          msg + "\nArguments: " + Array.prototype.slice.call(args).join("") + "\n" + new Error().stack
        );
        firstTime = false;
      }
      return fn.apply(this, arguments);
    }, fn);
  }
  var deprecations = {};
  function deprecateSimple(name, msg) {
    if (hooks.deprecationHandler != null) {
      hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
      warn(msg);
      deprecations[name] = true;
    }
  }
  hooks.suppressDeprecationWarnings = false;
  hooks.deprecationHandler = null;
  function isFunction(input) {
    return typeof Function !== "undefined" && input instanceof Function || Object.prototype.toString.call(input) === "[object Function]";
  }
  function set(config) {
    var prop, i;
    for (i in config) {
      if (hasOwnProp(config, i)) {
        prop = config[i];
        if (isFunction(prop)) {
          this[i] = prop;
        } else {
          this["_" + i] = prop;
        }
      }
    }
    this._config = config;
    this._dayOfMonthOrdinalParseLenient = new RegExp(
      (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source
    );
  }
  function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig), prop;
    for (prop in childConfig) {
      if (hasOwnProp(childConfig, prop)) {
        if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
          res[prop] = {};
          extend(res[prop], parentConfig[prop]);
          extend(res[prop], childConfig[prop]);
        } else if (childConfig[prop] != null) {
          res[prop] = childConfig[prop];
        } else {
          delete res[prop];
        }
      }
    }
    for (prop in parentConfig) {
      if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {
        res[prop] = extend({}, res[prop]);
      }
    }
    return res;
  }
  function Locale(config) {
    if (config != null) {
      this.set(config);
    }
  }
  var keys;
  if (Object.keys) {
    keys = Object.keys;
  } else {
    keys = function(obj) {
      var i, res = [];
      for (i in obj) {
        if (hasOwnProp(obj, i)) {
          res.push(i);
        }
      }
      return res;
    };
  }
  var defaultCalendar = {
    sameDay: "[Today at] LT",
    nextDay: "[Tomorrow at] LT",
    nextWeek: "dddd [at] LT",
    lastDay: "[Yesterday at] LT",
    lastWeek: "[Last] dddd [at] LT",
    sameElse: "L"
  };
  function calendar(key, mom, now2) {
    var output = this._calendar[key] || this._calendar["sameElse"];
    return isFunction(output) ? output.call(mom, now2) : output;
  }
  function zeroFill(number, targetLength, forceSign) {
    var absNumber = "" + Math.abs(number), zerosToFill = targetLength - absNumber.length, sign2 = number >= 0;
    return (sign2 ? forceSign ? "+" : "" : "-") + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
  }
  var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, formatFunctions = {}, formatTokenFunctions = {};
  function addFormatToken(token2, padded, ordinal2, callback) {
    var func = callback;
    if (typeof callback === "string") {
      func = function() {
        return this[callback]();
      };
    }
    if (token2) {
      formatTokenFunctions[token2] = func;
    }
    if (padded) {
      formatTokenFunctions[padded[0]] = function() {
        return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
      };
    }
    if (ordinal2) {
      formatTokenFunctions[ordinal2] = function() {
        return this.localeData().ordinal(
          func.apply(this, arguments),
          token2
        );
      };
    }
  }
  function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
      return input.replace(/^\[|\]$/g, "");
    }
    return input.replace(/\\/g, "");
  }
  function makeFormatFunction(format2) {
    var array = format2.match(formattingTokens), i, length;
    for (i = 0, length = array.length; i < length; i++) {
      if (formatTokenFunctions[array[i]]) {
        array[i] = formatTokenFunctions[array[i]];
      } else {
        array[i] = removeFormattingTokens(array[i]);
      }
    }
    return function(mom) {
      var output = "", i2;
      for (i2 = 0; i2 < length; i2++) {
        output += isFunction(array[i2]) ? array[i2].call(mom, format2) : array[i2];
      }
      return output;
    };
  }
  function formatMoment(m, format2) {
    if (!m.isValid()) {
      return m.localeData().invalidDate();
    }
    format2 = expandFormat(format2, m.localeData());
    formatFunctions[format2] = formatFunctions[format2] || makeFormatFunction(format2);
    return formatFunctions[format2](m);
  }
  function expandFormat(format2, locale2) {
    var i = 5;
    function replaceLongDateFormatTokens(input) {
      return locale2.longDateFormat(input) || input;
    }
    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format2)) {
      format2 = format2.replace(
        localFormattingTokens,
        replaceLongDateFormatTokens
      );
      localFormattingTokens.lastIndex = 0;
      i -= 1;
    }
    return format2;
  }
  var defaultLongDateFormat = {
    LTS: "h:mm:ss A",
    LT: "h:mm A",
    L: "MM/DD/YYYY",
    LL: "MMMM D, YYYY",
    LLL: "MMMM D, YYYY h:mm A",
    LLLL: "dddd, MMMM D, YYYY h:mm A"
  };
  function longDateFormat(key) {
    var format2 = this._longDateFormat[key], formatUpper = this._longDateFormat[key.toUpperCase()];
    if (format2 || !formatUpper) {
      return format2;
    }
    this._longDateFormat[key] = formatUpper.match(formattingTokens).map(function(tok) {
      if (tok === "MMMM" || tok === "MM" || tok === "DD" || tok === "dddd") {
        return tok.slice(1);
      }
      return tok;
    }).join("");
    return this._longDateFormat[key];
  }
  var defaultInvalidDate = "Invalid date";
  function invalidDate() {
    return this._invalidDate;
  }
  var defaultOrdinal = "%d", defaultDayOfMonthOrdinalParse = /\d{1,2}/;
  function ordinal(number) {
    return this._ordinal.replace("%d", number);
  }
  var defaultRelativeTime = {
    future: "in %s",
    past: "%s ago",
    s: "a few seconds",
    ss: "%d seconds",
    m: "a minute",
    mm: "%d minutes",
    h: "an hour",
    hh: "%d hours",
    d: "a day",
    dd: "%d days",
    w: "a week",
    ww: "%d weeks",
    M: "a month",
    MM: "%d months",
    y: "a year",
    yy: "%d years"
  };
  function relativeTime(number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return isFunction(output) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
  }
  function pastFuture(diff2, output) {
    var format2 = this._relativeTime[diff2 > 0 ? "future" : "past"];
    return isFunction(format2) ? format2(output) : format2.replace(/%s/i, output);
  }
  var aliases = {
    D: "date",
    dates: "date",
    date: "date",
    d: "day",
    days: "day",
    day: "day",
    e: "weekday",
    weekdays: "weekday",
    weekday: "weekday",
    E: "isoWeekday",
    isoweekdays: "isoWeekday",
    isoweekday: "isoWeekday",
    DDD: "dayOfYear",
    dayofyears: "dayOfYear",
    dayofyear: "dayOfYear",
    h: "hour",
    hours: "hour",
    hour: "hour",
    ms: "millisecond",
    milliseconds: "millisecond",
    millisecond: "millisecond",
    m: "minute",
    minutes: "minute",
    minute: "minute",
    M: "month",
    months: "month",
    month: "month",
    Q: "quarter",
    quarters: "quarter",
    quarter: "quarter",
    s: "second",
    seconds: "second",
    second: "second",
    gg: "weekYear",
    weekyears: "weekYear",
    weekyear: "weekYear",
    GG: "isoWeekYear",
    isoweekyears: "isoWeekYear",
    isoweekyear: "isoWeekYear",
    w: "week",
    weeks: "week",
    week: "week",
    W: "isoWeek",
    isoweeks: "isoWeek",
    isoweek: "isoWeek",
    y: "year",
    years: "year",
    year: "year"
  };
  function normalizeUnits(units) {
    return typeof units === "string" ? aliases[units] || aliases[units.toLowerCase()] : void 0;
  }
  function normalizeObjectUnits(inputObject) {
    var normalizedInput = {}, normalizedProp, prop;
    for (prop in inputObject) {
      if (hasOwnProp(inputObject, prop)) {
        normalizedProp = normalizeUnits(prop);
        if (normalizedProp) {
          normalizedInput[normalizedProp] = inputObject[prop];
        }
      }
    }
    return normalizedInput;
  }
  var priorities = {
    date: 9,
    day: 11,
    weekday: 11,
    isoWeekday: 11,
    dayOfYear: 4,
    hour: 13,
    millisecond: 16,
    minute: 14,
    month: 8,
    quarter: 7,
    second: 15,
    weekYear: 1,
    isoWeekYear: 1,
    week: 5,
    isoWeek: 5,
    year: 1
  };
  function getPrioritizedUnits(unitsObj) {
    var units = [], u;
    for (u in unitsObj) {
      if (hasOwnProp(unitsObj, u)) {
        units.push({ unit: u, priority: priorities[u] });
      }
    }
    units.sort(function(a, b) {
      return a.priority - b.priority;
    });
    return units;
  }
  var match1 = /\d/, match2 = /\d\d/, match3 = /\d{3}/, match4 = /\d{4}/, match6 = /[+-]?\d{6}/, match1to2 = /\d\d?/, match3to4 = /\d\d\d\d?/, match5to6 = /\d\d\d\d\d\d?/, match1to3 = /\d{1,3}/, match1to4 = /\d{1,4}/, match1to6 = /[+-]?\d{1,6}/, matchUnsigned = /\d+/, matchSigned = /[+-]?\d+/, matchOffset = /Z|[+-]\d\d:?\d\d/gi, matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi, matchTimestamp = /[+-]?\d+(\.\d{1,3})?/, matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, match1to2NoLeadingZero = /^[1-9]\d?/, match1to2HasZero = /^([1-9]\d|\d)/, regexes;
  regexes = {};
  function addRegexToken(token2, regex, strictRegex) {
    regexes[token2] = isFunction(regex) ? regex : function(isStrict, localeData2) {
      return isStrict && strictRegex ? strictRegex : regex;
    };
  }
  function getParseRegexForToken(token2, config) {
    if (!hasOwnProp(regexes, token2)) {
      return new RegExp(unescapeFormat(token2));
    }
    return regexes[token2](config._strict, config._locale);
  }
  function unescapeFormat(s) {
    return regexEscape(
      s.replace("\\", "").replace(
        /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
        function(matched, p1, p2, p3, p4) {
          return p1 || p2 || p3 || p4;
        }
      )
    );
  }
  function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
  }
  function absFloor(number) {
    if (number < 0) {
      return Math.ceil(number) || 0;
    } else {
      return Math.floor(number);
    }
  }
  function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion, value = 0;
    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
      value = absFloor(coercedNumber);
    }
    return value;
  }
  var tokens = {};
  function addParseToken(token2, callback) {
    var i, func = callback, tokenLen;
    if (typeof token2 === "string") {
      token2 = [token2];
    }
    if (isNumber(callback)) {
      func = function(input, array) {
        array[callback] = toInt(input);
      };
    }
    tokenLen = token2.length;
    for (i = 0; i < tokenLen; i++) {
      tokens[token2[i]] = func;
    }
  }
  function addWeekParseToken(token2, callback) {
    addParseToken(token2, function(input, array, config, token3) {
      config._w = config._w || {};
      callback(input, config._w, config, token3);
    });
  }
  function addTimeToArrayFromToken(token2, input, config) {
    if (input != null && hasOwnProp(tokens, token2)) {
      tokens[token2](input, config._a, config, token2);
    }
  }
  function isLeapYear(year) {
    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
  }
  var YEAR = 0, MONTH = 1, DATE = 2, HOUR = 3, MINUTE = 4, SECOND = 5, MILLISECOND = 6, WEEK = 7, WEEKDAY = 8;
  addFormatToken("Y", 0, 0, function() {
    var y = this.year();
    return y <= 9999 ? zeroFill(y, 4) : "+" + y;
  });
  addFormatToken(0, ["YY", 2], 0, function() {
    return this.year() % 100;
  });
  addFormatToken(0, ["YYYY", 4], 0, "year");
  addFormatToken(0, ["YYYYY", 5], 0, "year");
  addFormatToken(0, ["YYYYYY", 6, true], 0, "year");
  addRegexToken("Y", matchSigned);
  addRegexToken("YY", match1to2, match2);
  addRegexToken("YYYY", match1to4, match4);
  addRegexToken("YYYYY", match1to6, match6);
  addRegexToken("YYYYYY", match1to6, match6);
  addParseToken(["YYYYY", "YYYYYY"], YEAR);
  addParseToken("YYYY", function(input, array) {
    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
  });
  addParseToken("YY", function(input, array) {
    array[YEAR] = hooks.parseTwoDigitYear(input);
  });
  addParseToken("Y", function(input, array) {
    array[YEAR] = parseInt(input, 10);
  });
  function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
  }
  hooks.parseTwoDigitYear = function(input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2e3);
  };
  var getSetYear = makeGetSet("FullYear", true);
  function getIsLeapYear() {
    return isLeapYear(this.year());
  }
  function makeGetSet(unit, keepTime) {
    return function(value) {
      if (value != null) {
        set$1(this, unit, value);
        hooks.updateOffset(this, keepTime);
        return this;
      } else {
        return get(this, unit);
      }
    };
  }
  function get(mom, unit) {
    if (!mom.isValid()) {
      return NaN;
    }
    var d = mom._d, isUTC = mom._isUTC;
    switch (unit) {
      case "Milliseconds":
        return isUTC ? d.getUTCMilliseconds() : d.getMilliseconds();
      case "Seconds":
        return isUTC ? d.getUTCSeconds() : d.getSeconds();
      case "Minutes":
        return isUTC ? d.getUTCMinutes() : d.getMinutes();
      case "Hours":
        return isUTC ? d.getUTCHours() : d.getHours();
      case "Date":
        return isUTC ? d.getUTCDate() : d.getDate();
      case "Day":
        return isUTC ? d.getUTCDay() : d.getDay();
      case "Month":
        return isUTC ? d.getUTCMonth() : d.getMonth();
      case "FullYear":
        return isUTC ? d.getUTCFullYear() : d.getFullYear();
      default:
        return NaN;
    }
  }
  function set$1(mom, unit, value) {
    var d, isUTC, year, month, date;
    if (!mom.isValid() || isNaN(value)) {
      return;
    }
    d = mom._d;
    isUTC = mom._isUTC;
    switch (unit) {
      case "Milliseconds":
        return void (isUTC ? d.setUTCMilliseconds(value) : d.setMilliseconds(value));
      case "Seconds":
        return void (isUTC ? d.setUTCSeconds(value) : d.setSeconds(value));
      case "Minutes":
        return void (isUTC ? d.setUTCMinutes(value) : d.setMinutes(value));
      case "Hours":
        return void (isUTC ? d.setUTCHours(value) : d.setHours(value));
      case "Date":
        return void (isUTC ? d.setUTCDate(value) : d.setDate(value));
      // case 'Day': // Not real
      //    return void (isUTC ? d.setUTCDay(value) : d.setDay(value));
      // case 'Month': // Not used because we need to pass two variables
      //     return void (isUTC ? d.setUTCMonth(value) : d.setMonth(value));
      case "FullYear":
        break;
      // See below ...
      default:
        return;
    }
    year = value;
    month = mom.month();
    date = mom.date();
    date = date === 29 && month === 1 && !isLeapYear(year) ? 28 : date;
    void (isUTC ? d.setUTCFullYear(year, month, date) : d.setFullYear(year, month, date));
  }
  function stringGet(units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
      return this[units]();
    }
    return this;
  }
  function stringSet(units, value) {
    if (typeof units === "object") {
      units = normalizeObjectUnits(units);
      var prioritized = getPrioritizedUnits(units), i, prioritizedLen = prioritized.length;
      for (i = 0; i < prioritizedLen; i++) {
        this[prioritized[i].unit](units[prioritized[i].unit]);
      }
    } else {
      units = normalizeUnits(units);
      if (isFunction(this[units])) {
        return this[units](value);
      }
    }
    return this;
  }
  function mod(n, x) {
    return (n % x + x) % x;
  }
  var indexOf;
  if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
  } else {
    indexOf = function(o) {
      var i;
      for (i = 0; i < this.length; ++i) {
        if (this[i] === o) {
          return i;
        }
      }
      return -1;
    };
  }
  function daysInMonth(year, month) {
    if (isNaN(year) || isNaN(month)) {
      return NaN;
    }
    var modMonth = mod(month, 12);
    year += (month - modMonth) / 12;
    return modMonth === 1 ? isLeapYear(year) ? 29 : 28 : 31 - modMonth % 7 % 2;
  }
  addFormatToken("M", ["MM", 2], "Mo", function() {
    return this.month() + 1;
  });
  addFormatToken("MMM", 0, 0, function(format2) {
    return this.localeData().monthsShort(this, format2);
  });
  addFormatToken("MMMM", 0, 0, function(format2) {
    return this.localeData().months(this, format2);
  });
  addRegexToken("M", match1to2, match1to2NoLeadingZero);
  addRegexToken("MM", match1to2, match2);
  addRegexToken("MMM", function(isStrict, locale2) {
    return locale2.monthsShortRegex(isStrict);
  });
  addRegexToken("MMMM", function(isStrict, locale2) {
    return locale2.monthsRegex(isStrict);
  });
  addParseToken(["M", "MM"], function(input, array) {
    array[MONTH] = toInt(input) - 1;
  });
  addParseToken(["MMM", "MMMM"], function(input, array, config, token2) {
    var month = config._locale.monthsParse(input, token2, config._strict);
    if (month != null) {
      array[MONTH] = month;
    } else {
      getParsingFlags(config).invalidMonth = input;
    }
  });
  var defaultLocaleMonths = "January_February_March_April_May_June_July_August_September_October_November_December".split(
    "_"
  ), defaultLocaleMonthsShort = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, defaultMonthsShortRegex = matchWord, defaultMonthsRegex = matchWord;
  function localeMonths(m, format2) {
    if (!m) {
      return isArray(this._months) ? this._months : this._months["standalone"];
    }
    return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format2) ? "format" : "standalone"][m.month()];
  }
  function localeMonthsShort(m, format2) {
    if (!m) {
      return isArray(this._monthsShort) ? this._monthsShort : this._monthsShort["standalone"];
    }
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format2) ? "format" : "standalone"][m.month()];
  }
  function handleStrictParse(monthName, format2, strict) {
    var i, ii, mom, llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
      for (i = 0; i < 12; ++i) {
        mom = createUTC([2e3, i]);
        this._shortMonthsParse[i] = this.monthsShort(
          mom,
          ""
        ).toLocaleLowerCase();
        this._longMonthsParse[i] = this.months(mom, "").toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format2 === "MMM") {
        ii = indexOf.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format2 === "MMM") {
        ii = indexOf.call(this._shortMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._longMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeMonthsParse(monthName, format2, strict) {
    var i, mom, regex;
    if (this._monthsParseExact) {
      return handleStrictParse.call(this, monthName, format2, strict);
    }
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
    }
    for (i = 0; i < 12; i++) {
      mom = createUTC([2e3, i]);
      if (strict && !this._longMonthsParse[i]) {
        this._longMonthsParse[i] = new RegExp(
          "^" + this.months(mom, "").replace(".", "") + "$",
          "i"
        );
        this._shortMonthsParse[i] = new RegExp(
          "^" + this.monthsShort(mom, "").replace(".", "") + "$",
          "i"
        );
      }
      if (!strict && !this._monthsParse[i]) {
        regex = "^" + this.months(mom, "") + "|^" + this.monthsShort(mom, "");
        this._monthsParse[i] = new RegExp(regex.replace(".", ""), "i");
      }
      if (strict && format2 === "MMMM" && this._longMonthsParse[i].test(monthName)) {
        return i;
      } else if (strict && format2 === "MMM" && this._shortMonthsParse[i].test(monthName)) {
        return i;
      } else if (!strict && this._monthsParse[i].test(monthName)) {
        return i;
      }
    }
  }
  function setMonth(mom, value) {
    if (!mom.isValid()) {
      return mom;
    }
    if (typeof value === "string") {
      if (/^\d+$/.test(value)) {
        value = toInt(value);
      } else {
        value = mom.localeData().monthsParse(value);
        if (!isNumber(value)) {
          return mom;
        }
      }
    }
    var month = value, date = mom.date();
    date = date < 29 ? date : Math.min(date, daysInMonth(mom.year(), month));
    void (mom._isUTC ? mom._d.setUTCMonth(month, date) : mom._d.setMonth(month, date));
    return mom;
  }
  function getSetMonth(value) {
    if (value != null) {
      setMonth(this, value);
      hooks.updateOffset(this, true);
      return this;
    } else {
      return get(this, "Month");
    }
  }
  function getDaysInMonth() {
    return daysInMonth(this.year(), this.month());
  }
  function monthsShortRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, "_monthsRegex")) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsShortStrictRegex;
      } else {
        return this._monthsShortRegex;
      }
    } else {
      if (!hasOwnProp(this, "_monthsShortRegex")) {
        this._monthsShortRegex = defaultMonthsShortRegex;
      }
      return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;
    }
  }
  function monthsRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, "_monthsRegex")) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsStrictRegex;
      } else {
        return this._monthsRegex;
      }
    } else {
      if (!hasOwnProp(this, "_monthsRegex")) {
        this._monthsRegex = defaultMonthsRegex;
      }
      return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;
    }
  }
  function computeMonthsParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var shortPieces = [], longPieces = [], mixedPieces = [], i, mom, shortP, longP;
    for (i = 0; i < 12; i++) {
      mom = createUTC([2e3, i]);
      shortP = regexEscape(this.monthsShort(mom, ""));
      longP = regexEscape(this.months(mom, ""));
      shortPieces.push(shortP);
      longPieces.push(longP);
      mixedPieces.push(longP);
      mixedPieces.push(shortP);
    }
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    this._monthsRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp(
      "^(" + longPieces.join("|") + ")",
      "i"
    );
    this._monthsShortStrictRegex = new RegExp(
      "^(" + shortPieces.join("|") + ")",
      "i"
    );
  }
  function createDate(y, m, d, h, M, s, ms) {
    var date;
    if (y < 100 && y >= 0) {
      date = new Date(y + 400, m, d, h, M, s, ms);
      if (isFinite(date.getFullYear())) {
        date.setFullYear(y);
      }
    } else {
      date = new Date(y, m, d, h, M, s, ms);
    }
    return date;
  }
  function createUTCDate(y) {
    var date, args;
    if (y < 100 && y >= 0) {
      args = Array.prototype.slice.call(arguments);
      args[0] = y + 400;
      date = new Date(Date.UTC.apply(null, args));
      if (isFinite(date.getUTCFullYear())) {
        date.setUTCFullYear(y);
      }
    } else {
      date = new Date(Date.UTC.apply(null, arguments));
    }
    return date;
  }
  function firstWeekOffset(year, dow, doy) {
    var fwd = 7 + dow - doy, fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;
    return -fwdlw + fwd - 1;
  }
  function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7, weekOffset = firstWeekOffset(year, dow, doy), dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset, resYear, resDayOfYear;
    if (dayOfYear <= 0) {
      resYear = year - 1;
      resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
      resYear = year + 1;
      resDayOfYear = dayOfYear - daysInYear(year);
    } else {
      resYear = year;
      resDayOfYear = dayOfYear;
    }
    return {
      year: resYear,
      dayOfYear: resDayOfYear
    };
  }
  function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy), week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1, resWeek, resYear;
    if (week < 1) {
      resYear = mom.year() - 1;
      resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
      resWeek = week - weeksInYear(mom.year(), dow, doy);
      resYear = mom.year() + 1;
    } else {
      resYear = mom.year();
      resWeek = week;
    }
    return {
      week: resWeek,
      year: resYear
    };
  }
  function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy), weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
  }
  addFormatToken("w", ["ww", 2], "wo", "week");
  addFormatToken("W", ["WW", 2], "Wo", "isoWeek");
  addRegexToken("w", match1to2, match1to2NoLeadingZero);
  addRegexToken("ww", match1to2, match2);
  addRegexToken("W", match1to2, match1to2NoLeadingZero);
  addRegexToken("WW", match1to2, match2);
  addWeekParseToken(
    ["w", "ww", "W", "WW"],
    function(input, week, config, token2) {
      week[token2.substr(0, 1)] = toInt(input);
    }
  );
  function localeWeek(mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
  }
  var defaultLocaleWeek = {
    dow: 0,
    // Sunday is the first day of the week.
    doy: 6
    // The week that contains Jan 6th is the first week of the year.
  };
  function localeFirstDayOfWeek() {
    return this._week.dow;
  }
  function localeFirstDayOfYear() {
    return this._week.doy;
  }
  function getSetWeek(input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, "d");
  }
  function getSetISOWeek(input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, "d");
  }
  addFormatToken("d", 0, "do", "day");
  addFormatToken("dd", 0, 0, function(format2) {
    return this.localeData().weekdaysMin(this, format2);
  });
  addFormatToken("ddd", 0, 0, function(format2) {
    return this.localeData().weekdaysShort(this, format2);
  });
  addFormatToken("dddd", 0, 0, function(format2) {
    return this.localeData().weekdays(this, format2);
  });
  addFormatToken("e", 0, 0, "weekday");
  addFormatToken("E", 0, 0, "isoWeekday");
  addRegexToken("d", match1to2);
  addRegexToken("e", match1to2);
  addRegexToken("E", match1to2);
  addRegexToken("dd", function(isStrict, locale2) {
    return locale2.weekdaysMinRegex(isStrict);
  });
  addRegexToken("ddd", function(isStrict, locale2) {
    return locale2.weekdaysShortRegex(isStrict);
  });
  addRegexToken("dddd", function(isStrict, locale2) {
    return locale2.weekdaysRegex(isStrict);
  });
  addWeekParseToken(["dd", "ddd", "dddd"], function(input, week, config, token2) {
    var weekday = config._locale.weekdaysParse(input, token2, config._strict);
    if (weekday != null) {
      week.d = weekday;
    } else {
      getParsingFlags(config).invalidWeekday = input;
    }
  });
  addWeekParseToken(["d", "e", "E"], function(input, week, config, token2) {
    week[token2] = toInt(input);
  });
  function parseWeekday(input, locale2) {
    if (typeof input !== "string") {
      return input;
    }
    if (!isNaN(input)) {
      return parseInt(input, 10);
    }
    input = locale2.weekdaysParse(input);
    if (typeof input === "number") {
      return input;
    }
    return null;
  }
  function parseIsoWeekday(input, locale2) {
    if (typeof input === "string") {
      return locale2.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
  }
  function shiftWeekdays(ws, n) {
    return ws.slice(n, 7).concat(ws.slice(0, n));
  }
  var defaultLocaleWeekdays = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), defaultLocaleWeekdaysShort = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), defaultLocaleWeekdaysMin = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), defaultWeekdaysRegex = matchWord, defaultWeekdaysShortRegex = matchWord, defaultWeekdaysMinRegex = matchWord;
  function localeWeekdays(m, format2) {
    var weekdays = isArray(this._weekdays) ? this._weekdays : this._weekdays[m && m !== true && this._weekdays.isFormat.test(format2) ? "format" : "standalone"];
    return m === true ? shiftWeekdays(weekdays, this._week.dow) : m ? weekdays[m.day()] : weekdays;
  }
  function localeWeekdaysShort(m) {
    return m === true ? shiftWeekdays(this._weekdaysShort, this._week.dow) : m ? this._weekdaysShort[m.day()] : this._weekdaysShort;
  }
  function localeWeekdaysMin(m) {
    return m === true ? shiftWeekdays(this._weekdaysMin, this._week.dow) : m ? this._weekdaysMin[m.day()] : this._weekdaysMin;
  }
  function handleStrictParse$1(weekdayName, format2, strict) {
    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._minWeekdaysParse = [];
      for (i = 0; i < 7; ++i) {
        mom = createUTC([2e3, 1]).day(i);
        this._minWeekdaysParse[i] = this.weekdaysMin(
          mom,
          ""
        ).toLocaleLowerCase();
        this._shortWeekdaysParse[i] = this.weekdaysShort(
          mom,
          ""
        ).toLocaleLowerCase();
        this._weekdaysParse[i] = this.weekdays(mom, "").toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format2 === "dddd") {
        ii = indexOf.call(this._weekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format2 === "ddd") {
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format2 === "dddd") {
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format2 === "ddd") {
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._minWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeWeekdaysParse(weekdayName, format2, strict) {
    var i, mom, regex;
    if (this._weekdaysParseExact) {
      return handleStrictParse$1.call(this, weekdayName, format2, strict);
    }
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._minWeekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._fullWeekdaysParse = [];
    }
    for (i = 0; i < 7; i++) {
      mom = createUTC([2e3, 1]).day(i);
      if (strict && !this._fullWeekdaysParse[i]) {
        this._fullWeekdaysParse[i] = new RegExp(
          "^" + this.weekdays(mom, "").replace(".", "\\.?") + "$",
          "i"
        );
        this._shortWeekdaysParse[i] = new RegExp(
          "^" + this.weekdaysShort(mom, "").replace(".", "\\.?") + "$",
          "i"
        );
        this._minWeekdaysParse[i] = new RegExp(
          "^" + this.weekdaysMin(mom, "").replace(".", "\\.?") + "$",
          "i"
        );
      }
      if (!this._weekdaysParse[i]) {
        regex = "^" + this.weekdays(mom, "") + "|^" + this.weekdaysShort(mom, "") + "|^" + this.weekdaysMin(mom, "");
        this._weekdaysParse[i] = new RegExp(regex.replace(".", ""), "i");
      }
      if (strict && format2 === "dddd" && this._fullWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format2 === "ddd" && this._shortWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format2 === "dd" && this._minWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
        return i;
      }
    }
  }
  function getSetDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var day = get(this, "Day");
    if (input != null) {
      input = parseWeekday(input, this.localeData());
      return this.add(input - day, "d");
    } else {
      return day;
    }
  }
  function getSetLocaleDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, "d");
  }
  function getSetISODayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      var weekday = parseIsoWeekday(input, this.localeData());
      return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
      return this.day() || 7;
    }
  }
  function weekdaysRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, "_weekdaysRegex")) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysStrictRegex;
      } else {
        return this._weekdaysRegex;
      }
    } else {
      if (!hasOwnProp(this, "_weekdaysRegex")) {
        this._weekdaysRegex = defaultWeekdaysRegex;
      }
      return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;
    }
  }
  function weekdaysShortRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, "_weekdaysRegex")) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysShortStrictRegex;
      } else {
        return this._weekdaysShortRegex;
      }
    } else {
      if (!hasOwnProp(this, "_weekdaysShortRegex")) {
        this._weekdaysShortRegex = defaultWeekdaysShortRegex;
      }
      return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
  }
  function weekdaysMinRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, "_weekdaysRegex")) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysMinStrictRegex;
      } else {
        return this._weekdaysMinRegex;
      }
    } else {
      if (!hasOwnProp(this, "_weekdaysMinRegex")) {
        this._weekdaysMinRegex = defaultWeekdaysMinRegex;
      }
      return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
  }
  function computeWeekdaysParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [], i, mom, minp, shortp, longp;
    for (i = 0; i < 7; i++) {
      mom = createUTC([2e3, 1]).day(i);
      minp = regexEscape(this.weekdaysMin(mom, ""));
      shortp = regexEscape(this.weekdaysShort(mom, ""));
      longp = regexEscape(this.weekdays(mom, ""));
      minPieces.push(minp);
      shortPieces.push(shortp);
      longPieces.push(longp);
      mixedPieces.push(minp);
      mixedPieces.push(shortp);
      mixedPieces.push(longp);
    }
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    this._weekdaysRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;
    this._weekdaysStrictRegex = new RegExp(
      "^(" + longPieces.join("|") + ")",
      "i"
    );
    this._weekdaysShortStrictRegex = new RegExp(
      "^(" + shortPieces.join("|") + ")",
      "i"
    );
    this._weekdaysMinStrictRegex = new RegExp(
      "^(" + minPieces.join("|") + ")",
      "i"
    );
  }
  function hFormat() {
    return this.hours() % 12 || 12;
  }
  function kFormat() {
    return this.hours() || 24;
  }
  addFormatToken("H", ["HH", 2], 0, "hour");
  addFormatToken("h", ["hh", 2], 0, hFormat);
  addFormatToken("k", ["kk", 2], 0, kFormat);
  addFormatToken("hmm", 0, 0, function() {
    return "" + hFormat.apply(this) + zeroFill(this.minutes(), 2);
  });
  addFormatToken("hmmss", 0, 0, function() {
    return "" + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  addFormatToken("Hmm", 0, 0, function() {
    return "" + this.hours() + zeroFill(this.minutes(), 2);
  });
  addFormatToken("Hmmss", 0, 0, function() {
    return "" + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  function meridiem(token2, lowercase) {
    addFormatToken(token2, 0, 0, function() {
      return this.localeData().meridiem(
        this.hours(),
        this.minutes(),
        lowercase
      );
    });
  }
  meridiem("a", true);
  meridiem("A", false);
  function matchMeridiem(isStrict, locale2) {
    return locale2._meridiemParse;
  }
  addRegexToken("a", matchMeridiem);
  addRegexToken("A", matchMeridiem);
  addRegexToken("H", match1to2, match1to2HasZero);
  addRegexToken("h", match1to2, match1to2NoLeadingZero);
  addRegexToken("k", match1to2, match1to2NoLeadingZero);
  addRegexToken("HH", match1to2, match2);
  addRegexToken("hh", match1to2, match2);
  addRegexToken("kk", match1to2, match2);
  addRegexToken("hmm", match3to4);
  addRegexToken("hmmss", match5to6);
  addRegexToken("Hmm", match3to4);
  addRegexToken("Hmmss", match5to6);
  addParseToken(["H", "HH"], HOUR);
  addParseToken(["k", "kk"], function(input, array, config) {
    var kInput = toInt(input);
    array[HOUR] = kInput === 24 ? 0 : kInput;
  });
  addParseToken(["a", "A"], function(input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
  });
  addParseToken(["h", "hh"], function(input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
  });
  addParseToken("hmm", function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken("hmmss", function(input, array, config) {
    var pos1 = input.length - 4, pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken("Hmm", function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
  });
  addParseToken("Hmmss", function(input, array, config) {
    var pos1 = input.length - 4, pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
  });
  function localeIsPM(input) {
    return (input + "").toLowerCase().charAt(0) === "p";
  }
  var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i, getSetHour = makeGetSet("Hours", true);
  function localeMeridiem(hours2, minutes2, isLower) {
    if (hours2 > 11) {
      return isLower ? "pm" : "PM";
    } else {
      return isLower ? "am" : "AM";
    }
  }
  var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
    relativeTime: defaultRelativeTime,
    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,
    week: defaultLocaleWeek,
    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,
    meridiemParse: defaultLocaleMeridiemParse
  };
  var locales = {}, localeFamilies = {}, globalLocale;
  function commonPrefix(arr1, arr2) {
    var i, minl = Math.min(arr1.length, arr2.length);
    for (i = 0; i < minl; i += 1) {
      if (arr1[i] !== arr2[i]) {
        return i;
      }
    }
    return minl;
  }
  function normalizeLocale(key) {
    return key ? key.toLowerCase().replace("_", "-") : key;
  }
  function chooseLocale(names) {
    var i = 0, j, next, locale2, split;
    while (i < names.length) {
      split = normalizeLocale(names[i]).split("-");
      j = split.length;
      next = normalizeLocale(names[i + 1]);
      next = next ? next.split("-") : null;
      while (j > 0) {
        locale2 = loadLocale(split.slice(0, j).join("-"));
        if (locale2) {
          return locale2;
        }
        if (next && next.length >= j && commonPrefix(split, next) >= j - 1) {
          break;
        }
        j--;
      }
      i++;
    }
    return globalLocale;
  }
  function isLocaleNameSane(name) {
    return !!(name && name.match("^[^/\\\\]*$"));
  }
  function loadLocale(name) {
    var oldLocale = null, aliasedRequire;
    if (locales[name] === void 0 && "object" !== "undefined" && module && module.exports && isLocaleNameSane(name)) {
      try {
        oldLocale = globalLocale._abbr;
        aliasedRequire = undefined;
        Object(function webpackMissingModule() { var e = new Error("Cannot find module 'undefined'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
        getSetGlobalLocale(oldLocale);
      } catch (e) {
        locales[name] = null;
      }
    }
    return locales[name];
  }
  function getSetGlobalLocale(key, values) {
    var data;
    if (key) {
      if (isUndefined(values)) {
        data = getLocale(key);
      } else {
        data = defineLocale(key, values);
      }
      if (data) {
        globalLocale = data;
      } else {
        if (typeof console !== "undefined" && console.warn) {
          console.warn(
            "Locale " + key + " not found. Did you forget to load it?"
          );
        }
      }
    }
    return globalLocale._abbr;
  }
  function defineLocale(name, config) {
    if (config !== null) {
      var locale2, parentConfig = baseConfig;
      config.abbr = name;
      if (locales[name] != null) {
        deprecateSimple(
          "defineLocaleOverride",
          "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."
        );
        parentConfig = locales[name]._config;
      } else if (config.parentLocale != null) {
        if (locales[config.parentLocale] != null) {
          parentConfig = locales[config.parentLocale]._config;
        } else {
          locale2 = loadLocale(config.parentLocale);
          if (locale2 != null) {
            parentConfig = locale2._config;
          } else {
            if (!localeFamilies[config.parentLocale]) {
              localeFamilies[config.parentLocale] = [];
            }
            localeFamilies[config.parentLocale].push({
              name,
              config
            });
            return null;
          }
        }
      }
      locales[name] = new Locale(mergeConfigs(parentConfig, config));
      if (localeFamilies[name]) {
        localeFamilies[name].forEach(function(x) {
          defineLocale(x.name, x.config);
        });
      }
      getSetGlobalLocale(name);
      return locales[name];
    } else {
      delete locales[name];
      return null;
    }
  }
  function updateLocale(name, config) {
    if (config != null) {
      var locale2, tmpLocale, parentConfig = baseConfig;
      if (locales[name] != null && locales[name].parentLocale != null) {
        locales[name].set(mergeConfigs(locales[name]._config, config));
      } else {
        tmpLocale = loadLocale(name);
        if (tmpLocale != null) {
          parentConfig = tmpLocale._config;
        }
        config = mergeConfigs(parentConfig, config);
        if (tmpLocale == null) {
          config.abbr = name;
        }
        locale2 = new Locale(config);
        locale2.parentLocale = locales[name];
        locales[name] = locale2;
      }
      getSetGlobalLocale(name);
    } else {
      if (locales[name] != null) {
        if (locales[name].parentLocale != null) {
          locales[name] = locales[name].parentLocale;
          if (name === getSetGlobalLocale()) {
            getSetGlobalLocale(name);
          }
        } else if (locales[name] != null) {
          delete locales[name];
        }
      }
    }
    return locales[name];
  }
  function getLocale(key) {
    var locale2;
    if (key && key._locale && key._locale._abbr) {
      key = key._locale._abbr;
    }
    if (!key) {
      return globalLocale;
    }
    if (!isArray(key)) {
      locale2 = loadLocale(key);
      if (locale2) {
        return locale2;
      }
      key = [key];
    }
    return chooseLocale(key);
  }
  function listLocales() {
    return keys(locales);
  }
  function checkOverflow(m) {
    var overflow, a = m._a;
    if (a && getParsingFlags(m).overflow === -2) {
      overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;
      if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
        overflow = DATE;
      }
      if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
        overflow = WEEK;
      }
      if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
        overflow = WEEKDAY;
      }
      getParsingFlags(m).overflow = overflow;
    }
    return m;
  }
  var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, tzRegex = /Z|[+-]\d\d(?::?\d\d)?/, isoDates = [
    ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
    ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
    ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
    ["GGGG-[W]WW", /\d{4}-W\d\d/, false],
    ["YYYY-DDD", /\d{4}-\d{3}/],
    ["YYYY-MM", /\d{4}-\d\d/, false],
    ["YYYYYYMMDD", /[+-]\d{10}/],
    ["YYYYMMDD", /\d{8}/],
    ["GGGG[W]WWE", /\d{4}W\d{3}/],
    ["GGGG[W]WW", /\d{4}W\d{2}/, false],
    ["YYYYDDD", /\d{7}/],
    ["YYYYMM", /\d{6}/, false],
    ["YYYY", /\d{4}/, false]
  ], isoTimes = [
    ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
    ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
    ["HH:mm:ss", /\d\d:\d\d:\d\d/],
    ["HH:mm", /\d\d:\d\d/],
    ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
    ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
    ["HHmmss", /\d\d\d\d\d\d/],
    ["HHmm", /\d\d\d\d/],
    ["HH", /\d\d/]
  ], aspNetJsonRegex = /^\/?Date\((-?\d+)/i, rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, obsOffsets = {
    UT: 0,
    GMT: 0,
    EDT: -4 * 60,
    EST: -5 * 60,
    CDT: -5 * 60,
    CST: -6 * 60,
    MDT: -6 * 60,
    MST: -7 * 60,
    PDT: -7 * 60,
    PST: -8 * 60
  };
  function configFromISO(config) {
    var i, l, string = config._i, match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string), allowTime, dateFormat, timeFormat, tzFormat, isoDatesLen = isoDates.length, isoTimesLen = isoTimes.length;
    if (match) {
      getParsingFlags(config).iso = true;
      for (i = 0, l = isoDatesLen; i < l; i++) {
        if (isoDates[i][1].exec(match[1])) {
          dateFormat = isoDates[i][0];
          allowTime = isoDates[i][2] !== false;
          break;
        }
      }
      if (dateFormat == null) {
        config._isValid = false;
        return;
      }
      if (match[3]) {
        for (i = 0, l = isoTimesLen; i < l; i++) {
          if (isoTimes[i][1].exec(match[3])) {
            timeFormat = (match[2] || " ") + isoTimes[i][0];
            break;
          }
        }
        if (timeFormat == null) {
          config._isValid = false;
          return;
        }
      }
      if (!allowTime && timeFormat != null) {
        config._isValid = false;
        return;
      }
      if (match[4]) {
        if (tzRegex.exec(match[4])) {
          tzFormat = "Z";
        } else {
          config._isValid = false;
          return;
        }
      }
      config._f = dateFormat + (timeFormat || "") + (tzFormat || "");
      configFromStringAndFormat(config);
    } else {
      config._isValid = false;
    }
  }
  function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
    var result = [
      untruncateYear(yearStr),
      defaultLocaleMonthsShort.indexOf(monthStr),
      parseInt(dayStr, 10),
      parseInt(hourStr, 10),
      parseInt(minuteStr, 10)
    ];
    if (secondStr) {
      result.push(parseInt(secondStr, 10));
    }
    return result;
  }
  function untruncateYear(yearStr) {
    var year = parseInt(yearStr, 10);
    if (year <= 49) {
      return 2e3 + year;
    } else if (year <= 999) {
      return 1900 + year;
    }
    return year;
  }
  function preprocessRFC2822(s) {
    return s.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
  }
  function checkWeekday(weekdayStr, parsedInput, config) {
    if (weekdayStr) {
      var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr), weekdayActual = new Date(
        parsedInput[0],
        parsedInput[1],
        parsedInput[2]
      ).getDay();
      if (weekdayProvided !== weekdayActual) {
        getParsingFlags(config).weekdayMismatch = true;
        config._isValid = false;
        return false;
      }
    }
    return true;
  }
  function calculateOffset(obsOffset, militaryOffset, numOffset) {
    if (obsOffset) {
      return obsOffsets[obsOffset];
    } else if (militaryOffset) {
      return 0;
    } else {
      var hm = parseInt(numOffset, 10), m = hm % 100, h = (hm - m) / 100;
      return h * 60 + m;
    }
  }
  function configFromRFC2822(config) {
    var match = rfc2822.exec(preprocessRFC2822(config._i)), parsedArray;
    if (match) {
      parsedArray = extractFromRFC2822Strings(
        match[4],
        match[3],
        match[2],
        match[5],
        match[6],
        match[7]
      );
      if (!checkWeekday(match[1], parsedArray, config)) {
        return;
      }
      config._a = parsedArray;
      config._tzm = calculateOffset(match[8], match[9], match[10]);
      config._d = createUTCDate.apply(null, config._a);
      config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
      getParsingFlags(config).rfc2822 = true;
    } else {
      config._isValid = false;
    }
  }
  function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);
    if (matched !== null) {
      config._d = /* @__PURE__ */ new Date(+matched[1]);
      return;
    }
    configFromISO(config);
    if (config._isValid === false) {
      delete config._isValid;
    } else {
      return;
    }
    configFromRFC2822(config);
    if (config._isValid === false) {
      delete config._isValid;
    } else {
      return;
    }
    if (config._strict) {
      config._isValid = false;
    } else {
      hooks.createFromInputFallback(config);
    }
  }
  hooks.createFromInputFallback = deprecate(
    "value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
    function(config) {
      config._d = /* @__PURE__ */ new Date(config._i + (config._useUTC ? " UTC" : ""));
    }
  );
  function defaults(a, b, c) {
    if (a != null) {
      return a;
    }
    if (b != null) {
      return b;
    }
    return c;
  }
  function currentDateArray(config) {
    var nowValue = new Date(hooks.now());
    if (config._useUTC) {
      return [
        nowValue.getUTCFullYear(),
        nowValue.getUTCMonth(),
        nowValue.getUTCDate()
      ];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
  }
  function configFromArray(config) {
    var i, date, input = [], currentDate, expectedWeekday, yearToUse;
    if (config._d) {
      return;
    }
    currentDate = currentDateArray(config);
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
      dayOfYearFromWeekInfo(config);
    }
    if (config._dayOfYear != null) {
      yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);
      if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
        getParsingFlags(config)._overflowDayOfYear = true;
      }
      date = createUTCDate(yearToUse, 0, config._dayOfYear);
      config._a[MONTH] = date.getUTCMonth();
      config._a[DATE] = date.getUTCDate();
    }
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
      config._a[i] = input[i] = currentDate[i];
    }
    for (; i < 7; i++) {
      config._a[i] = input[i] = config._a[i] == null ? i === 2 ? 1 : 0 : config._a[i];
    }
    if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {
      config._nextDay = true;
      config._a[HOUR] = 0;
    }
    config._d = (config._useUTC ? createUTCDate : createDate).apply(
      null,
      input
    );
    expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();
    if (config._tzm != null) {
      config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }
    if (config._nextDay) {
      config._a[HOUR] = 24;
    }
    if (config._w && typeof config._w.d !== "undefined" && config._w.d !== expectedWeekday) {
      getParsingFlags(config).weekdayMismatch = true;
    }
  }
  function dayOfYearFromWeekInfo(config) {
    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;
    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
      dow = 1;
      doy = 4;
      weekYear = defaults(
        w.GG,
        config._a[YEAR],
        weekOfYear(createLocal(), 1, 4).year
      );
      week = defaults(w.W, 1);
      weekday = defaults(w.E, 1);
      if (weekday < 1 || weekday > 7) {
        weekdayOverflow = true;
      }
    } else {
      dow = config._locale._week.dow;
      doy = config._locale._week.doy;
      curWeek = weekOfYear(createLocal(), dow, doy);
      weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);
      week = defaults(w.w, curWeek.week);
      if (w.d != null) {
        weekday = w.d;
        if (weekday < 0 || weekday > 6) {
          weekdayOverflow = true;
        }
      } else if (w.e != null) {
        weekday = w.e + dow;
        if (w.e < 0 || w.e > 6) {
          weekdayOverflow = true;
        }
      } else {
        weekday = dow;
      }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
      getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
      getParsingFlags(config)._overflowWeekday = true;
    } else {
      temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
      config._a[YEAR] = temp.year;
      config._dayOfYear = temp.dayOfYear;
    }
  }
  hooks.ISO_8601 = function() {
  };
  hooks.RFC_2822 = function() {
  };
  function configFromStringAndFormat(config) {
    if (config._f === hooks.ISO_8601) {
      configFromISO(config);
      return;
    }
    if (config._f === hooks.RFC_2822) {
      configFromRFC2822(config);
      return;
    }
    config._a = [];
    getParsingFlags(config).empty = true;
    var string = "" + config._i, i, parsedInput, tokens2, token2, skipped, stringLength = string.length, totalParsedInputLength = 0, era, tokenLen;
    tokens2 = expandFormat(config._f, config._locale).match(formattingTokens) || [];
    tokenLen = tokens2.length;
    for (i = 0; i < tokenLen; i++) {
      token2 = tokens2[i];
      parsedInput = (string.match(getParseRegexForToken(token2, config)) || [])[0];
      if (parsedInput) {
        skipped = string.substr(0, string.indexOf(parsedInput));
        if (skipped.length > 0) {
          getParsingFlags(config).unusedInput.push(skipped);
        }
        string = string.slice(
          string.indexOf(parsedInput) + parsedInput.length
        );
        totalParsedInputLength += parsedInput.length;
      }
      if (formatTokenFunctions[token2]) {
        if (parsedInput) {
          getParsingFlags(config).empty = false;
        } else {
          getParsingFlags(config).unusedTokens.push(token2);
        }
        addTimeToArrayFromToken(token2, parsedInput, config);
      } else if (config._strict && !parsedInput) {
        getParsingFlags(config).unusedTokens.push(token2);
      }
    }
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
      getParsingFlags(config).unusedInput.push(string);
    }
    if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {
      getParsingFlags(config).bigHour = void 0;
    }
    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    config._a[HOUR] = meridiemFixWrap(
      config._locale,
      config._a[HOUR],
      config._meridiem
    );
    era = getParsingFlags(config).era;
    if (era !== null) {
      config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);
    }
    configFromArray(config);
    checkOverflow(config);
  }
  function meridiemFixWrap(locale2, hour, meridiem2) {
    var isPm;
    if (meridiem2 == null) {
      return hour;
    }
    if (locale2.meridiemHour != null) {
      return locale2.meridiemHour(hour, meridiem2);
    } else if (locale2.isPM != null) {
      isPm = locale2.isPM(meridiem2);
      if (isPm && hour < 12) {
        hour += 12;
      }
      if (!isPm && hour === 12) {
        hour = 0;
      }
      return hour;
    } else {
      return hour;
    }
  }
  function configFromStringAndArray(config) {
    var tempConfig, bestMoment, scoreToBeat, i, currentScore, validFormatFound, bestFormatIsValid = false, configfLen = config._f.length;
    if (configfLen === 0) {
      getParsingFlags(config).invalidFormat = true;
      config._d = /* @__PURE__ */ new Date(NaN);
      return;
    }
    for (i = 0; i < configfLen; i++) {
      currentScore = 0;
      validFormatFound = false;
      tempConfig = copyConfig({}, config);
      if (config._useUTC != null) {
        tempConfig._useUTC = config._useUTC;
      }
      tempConfig._f = config._f[i];
      configFromStringAndFormat(tempConfig);
      if (isValid(tempConfig)) {
        validFormatFound = true;
      }
      currentScore += getParsingFlags(tempConfig).charsLeftOver;
      currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;
      getParsingFlags(tempConfig).score = currentScore;
      if (!bestFormatIsValid) {
        if (scoreToBeat == null || currentScore < scoreToBeat || validFormatFound) {
          scoreToBeat = currentScore;
          bestMoment = tempConfig;
          if (validFormatFound) {
            bestFormatIsValid = true;
          }
        }
      } else {
        if (currentScore < scoreToBeat) {
          scoreToBeat = currentScore;
          bestMoment = tempConfig;
        }
      }
    }
    extend(config, bestMoment || tempConfig);
  }
  function configFromObject(config) {
    if (config._d) {
      return;
    }
    var i = normalizeObjectUnits(config._i), dayOrDate = i.day === void 0 ? i.date : i.day;
    config._a = map(
      [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],
      function(obj) {
        return obj && parseInt(obj, 10);
      }
    );
    configFromArray(config);
  }
  function createFromConfig(config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
      res.add(1, "d");
      res._nextDay = void 0;
    }
    return res;
  }
  function prepareConfig(config) {
    var input = config._i, format2 = config._f;
    config._locale = config._locale || getLocale(config._l);
    if (input === null || format2 === void 0 && input === "") {
      return createInvalid({ nullInput: true });
    }
    if (typeof input === "string") {
      config._i = input = config._locale.preparse(input);
    }
    if (isMoment(input)) {
      return new Moment(checkOverflow(input));
    } else if (isDate(input)) {
      config._d = input;
    } else if (isArray(format2)) {
      configFromStringAndArray(config);
    } else if (format2) {
      configFromStringAndFormat(config);
    } else {
      configFromInput(config);
    }
    if (!isValid(config)) {
      config._d = null;
    }
    return config;
  }
  function configFromInput(config) {
    var input = config._i;
    if (isUndefined(input)) {
      config._d = new Date(hooks.now());
    } else if (isDate(input)) {
      config._d = new Date(input.valueOf());
    } else if (typeof input === "string") {
      configFromString(config);
    } else if (isArray(input)) {
      config._a = map(input.slice(0), function(obj) {
        return parseInt(obj, 10);
      });
      configFromArray(config);
    } else if (isObject(input)) {
      configFromObject(config);
    } else if (isNumber(input)) {
      config._d = new Date(input);
    } else {
      hooks.createFromInputFallback(config);
    }
  }
  function createLocalOrUTC(input, format2, locale2, strict, isUTC) {
    var c = {};
    if (format2 === true || format2 === false) {
      strict = format2;
      format2 = void 0;
    }
    if (locale2 === true || locale2 === false) {
      strict = locale2;
      locale2 = void 0;
    }
    if (isObject(input) && isObjectEmpty(input) || isArray(input) && input.length === 0) {
      input = void 0;
    }
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale2;
    c._i = input;
    c._f = format2;
    c._strict = strict;
    return createFromConfig(c);
  }
  function createLocal(input, format2, locale2, strict) {
    return createLocalOrUTC(input, format2, locale2, strict, false);
  }
  var prototypeMin = deprecate(
    "moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",
    function() {
      var other = createLocal.apply(null, arguments);
      if (this.isValid() && other.isValid()) {
        return other < this ? this : other;
      } else {
        return createInvalid();
      }
    }
  ), prototypeMax = deprecate(
    "moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",
    function() {
      var other = createLocal.apply(null, arguments);
      if (this.isValid() && other.isValid()) {
        return other > this ? this : other;
      } else {
        return createInvalid();
      }
    }
  );
  function pickBy(fn, moments) {
    var res, i;
    if (moments.length === 1 && isArray(moments[0])) {
      moments = moments[0];
    }
    if (!moments.length) {
      return createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
      if (!moments[i].isValid() || moments[i][fn](res)) {
        res = moments[i];
      }
    }
    return res;
  }
  function min() {
    var args = [].slice.call(arguments, 0);
    return pickBy("isBefore", args);
  }
  function max() {
    var args = [].slice.call(arguments, 0);
    return pickBy("isAfter", args);
  }
  var now = function() {
    return Date.now ? Date.now() : +/* @__PURE__ */ new Date();
  };
  var ordering = [
    "year",
    "quarter",
    "month",
    "week",
    "day",
    "hour",
    "minute",
    "second",
    "millisecond"
  ];
  function isDurationValid(m) {
    var key, unitHasDecimal = false, i, orderLen = ordering.length;
    for (key in m) {
      if (hasOwnProp(m, key) && !(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
        return false;
      }
    }
    for (i = 0; i < orderLen; ++i) {
      if (m[ordering[i]]) {
        if (unitHasDecimal) {
          return false;
        }
        if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
          unitHasDecimal = true;
        }
      }
    }
    return true;
  }
  function isValid$1() {
    return this._isValid;
  }
  function createInvalid$1() {
    return createDuration(NaN);
  }
  function Duration(duration) {
    var normalizedInput = normalizeObjectUnits(duration), years2 = normalizedInput.year || 0, quarters = normalizedInput.quarter || 0, months2 = normalizedInput.month || 0, weeks2 = normalizedInput.week || normalizedInput.isoWeek || 0, days2 = normalizedInput.day || 0, hours2 = normalizedInput.hour || 0, minutes2 = normalizedInput.minute || 0, seconds2 = normalizedInput.second || 0, milliseconds2 = normalizedInput.millisecond || 0;
    this._isValid = isDurationValid(normalizedInput);
    this._milliseconds = +milliseconds2 + seconds2 * 1e3 + // 1000
    minutes2 * 6e4 + // 1000 * 60
    hours2 * 1e3 * 60 * 60;
    this._days = +days2 + weeks2 * 7;
    this._months = +months2 + quarters * 3 + years2 * 12;
    this._data = {};
    this._locale = getLocale();
    this._bubble();
  }
  function isDuration(obj) {
    return obj instanceof Duration;
  }
  function absRound(number) {
    if (number < 0) {
      return Math.round(-1 * number) * -1;
    } else {
      return Math.round(number);
    }
  }
  function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length), lengthDiff = Math.abs(array1.length - array2.length), diffs = 0, i;
    for (i = 0; i < len; i++) {
      if (dontConvert && array1[i] !== array2[i] || !dontConvert && toInt(array1[i]) !== toInt(array2[i])) {
        diffs++;
      }
    }
    return diffs + lengthDiff;
  }
  function offset(token2, separator) {
    addFormatToken(token2, 0, 0, function() {
      var offset2 = this.utcOffset(), sign2 = "+";
      if (offset2 < 0) {
        offset2 = -offset2;
        sign2 = "-";
      }
      return sign2 + zeroFill(~~(offset2 / 60), 2) + separator + zeroFill(~~offset2 % 60, 2);
    });
  }
  offset("Z", ":");
  offset("ZZ", "");
  addRegexToken("Z", matchShortOffset);
  addRegexToken("ZZ", matchShortOffset);
  addParseToken(["Z", "ZZ"], function(input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
  });
  var chunkOffset = /([\+\-]|\d\d)/gi;
  function offsetFromString(matcher, string) {
    var matches = (string || "").match(matcher), chunk, parts, minutes2;
    if (matches === null) {
      return null;
    }
    chunk = matches[matches.length - 1] || [];
    parts = (chunk + "").match(chunkOffset) || ["-", 0, 0];
    minutes2 = +(parts[1] * 60) + toInt(parts[2]);
    return minutes2 === 0 ? 0 : parts[0] === "+" ? minutes2 : -minutes2;
  }
  function cloneWithOffset(input, model) {
    var res, diff2;
    if (model._isUTC) {
      res = model.clone();
      diff2 = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
      res._d.setTime(res._d.valueOf() + diff2);
      hooks.updateOffset(res, false);
      return res;
    } else {
      return createLocal(input).local();
    }
  }
  function getDateOffset(m) {
    return -Math.round(m._d.getTimezoneOffset());
  }
  hooks.updateOffset = function() {
  };
  function getSetOffset(input, keepLocalTime, keepMinutes) {
    var offset2 = this._offset || 0, localAdjust;
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      if (typeof input === "string") {
        input = offsetFromString(matchShortOffset, input);
        if (input === null) {
          return this;
        }
      } else if (Math.abs(input) < 16 && !keepMinutes) {
        input = input * 60;
      }
      if (!this._isUTC && keepLocalTime) {
        localAdjust = getDateOffset(this);
      }
      this._offset = input;
      this._isUTC = true;
      if (localAdjust != null) {
        this.add(localAdjust, "m");
      }
      if (offset2 !== input) {
        if (!keepLocalTime || this._changeInProgress) {
          addSubtract(
            this,
            createDuration(input - offset2, "m"),
            1,
            false
          );
        } else if (!this._changeInProgress) {
          this._changeInProgress = true;
          hooks.updateOffset(this, true);
          this._changeInProgress = null;
        }
      }
      return this;
    } else {
      return this._isUTC ? offset2 : getDateOffset(this);
    }
  }
  function getSetZone(input, keepLocalTime) {
    if (input != null) {
      if (typeof input !== "string") {
        input = -input;
      }
      this.utcOffset(input, keepLocalTime);
      return this;
    } else {
      return -this.utcOffset();
    }
  }
  function setOffsetToUTC(keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
  }
  function setOffsetToLocal(keepLocalTime) {
    if (this._isUTC) {
      this.utcOffset(0, keepLocalTime);
      this._isUTC = false;
      if (keepLocalTime) {
        this.subtract(getDateOffset(this), "m");
      }
    }
    return this;
  }
  function setOffsetToParsedOffset() {
    if (this._tzm != null) {
      this.utcOffset(this._tzm, false, true);
    } else if (typeof this._i === "string") {
      var tZone = offsetFromString(matchOffset, this._i);
      if (tZone != null) {
        this.utcOffset(tZone);
      } else {
        this.utcOffset(0, true);
      }
    }
    return this;
  }
  function hasAlignedHourOffset(input) {
    if (!this.isValid()) {
      return false;
    }
    input = input ? createLocal(input).utcOffset() : 0;
    return (this.utcOffset() - input) % 60 === 0;
  }
  function isDaylightSavingTime() {
    return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
  }
  function isDaylightSavingTimeShifted() {
    if (!isUndefined(this._isDSTShifted)) {
      return this._isDSTShifted;
    }
    var c = {}, other;
    copyConfig(c, this);
    c = prepareConfig(c);
    if (c._a) {
      other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
      this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;
    } else {
      this._isDSTShifted = false;
    }
    return this._isDSTShifted;
  }
  function isLocal() {
    return this.isValid() ? !this._isUTC : false;
  }
  function isUtcOffset() {
    return this.isValid() ? this._isUTC : false;
  }
  function isUtc() {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
  }
  var aspNetRegex = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
  function createDuration(input, key) {
    var duration = input, match = null, sign2, ret, diffRes;
    if (isDuration(input)) {
      duration = {
        ms: input._milliseconds,
        d: input._days,
        M: input._months
      };
    } else if (isNumber(input) || !isNaN(+input)) {
      duration = {};
      if (key) {
        duration[key] = +input;
      } else {
        duration.milliseconds = +input;
      }
    } else if (match = aspNetRegex.exec(input)) {
      sign2 = match[1] === "-" ? -1 : 1;
      duration = {
        y: 0,
        d: toInt(match[DATE]) * sign2,
        h: toInt(match[HOUR]) * sign2,
        m: toInt(match[MINUTE]) * sign2,
        s: toInt(match[SECOND]) * sign2,
        ms: toInt(absRound(match[MILLISECOND] * 1e3)) * sign2
        // the millisecond decimal point is included in the match
      };
    } else if (match = isoRegex.exec(input)) {
      sign2 = match[1] === "-" ? -1 : 1;
      duration = {
        y: parseIso(match[2], sign2),
        M: parseIso(match[3], sign2),
        w: parseIso(match[4], sign2),
        d: parseIso(match[5], sign2),
        h: parseIso(match[6], sign2),
        m: parseIso(match[7], sign2),
        s: parseIso(match[8], sign2)
      };
    } else if (duration == null) {
      duration = {};
    } else if (typeof duration === "object" && ("from" in duration || "to" in duration)) {
      diffRes = momentsDifference(
        createLocal(duration.from),
        createLocal(duration.to)
      );
      duration = {};
      duration.ms = diffRes.milliseconds;
      duration.M = diffRes.months;
    }
    ret = new Duration(duration);
    if (isDuration(input) && hasOwnProp(input, "_locale")) {
      ret._locale = input._locale;
    }
    if (isDuration(input) && hasOwnProp(input, "_isValid")) {
      ret._isValid = input._isValid;
    }
    return ret;
  }
  createDuration.fn = Duration.prototype;
  createDuration.invalid = createInvalid$1;
  function parseIso(inp, sign2) {
    var res = inp && parseFloat(inp.replace(",", "."));
    return (isNaN(res) ? 0 : res) * sign2;
  }
  function positiveMomentsDifference(base, other) {
    var res = {};
    res.months = other.month() - base.month() + (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, "M").isAfter(other)) {
      --res.months;
    }
    res.milliseconds = +other - +base.clone().add(res.months, "M");
    return res;
  }
  function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
      return { milliseconds: 0, months: 0 };
    }
    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
      res = positiveMomentsDifference(base, other);
    } else {
      res = positiveMomentsDifference(other, base);
      res.milliseconds = -res.milliseconds;
      res.months = -res.months;
    }
    return res;
  }
  function createAdder(direction, name) {
    return function(val, period) {
      var dur, tmp;
      if (period !== null && !isNaN(+period)) {
        deprecateSimple(
          name,
          "moment()." + name + "(period, number) is deprecated. Please use moment()." + name + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."
        );
        tmp = val;
        val = period;
        period = tmp;
      }
      dur = createDuration(val, period);
      addSubtract(this, dur, direction);
      return this;
    };
  }
  function addSubtract(mom, duration, isAdding, updateOffset) {
    var milliseconds2 = duration._milliseconds, days2 = absRound(duration._days), months2 = absRound(duration._months);
    if (!mom.isValid()) {
      return;
    }
    updateOffset = updateOffset == null ? true : updateOffset;
    if (months2) {
      setMonth(mom, get(mom, "Month") + months2 * isAdding);
    }
    if (days2) {
      set$1(mom, "Date", get(mom, "Date") + days2 * isAdding);
    }
    if (milliseconds2) {
      mom._d.setTime(mom._d.valueOf() + milliseconds2 * isAdding);
    }
    if (updateOffset) {
      hooks.updateOffset(mom, days2 || months2);
    }
  }
  var add = createAdder(1, "add"), subtract = createAdder(-1, "subtract");
  function isString(input) {
    return typeof input === "string" || input instanceof String;
  }
  function isMomentInput(input) {
    return isMoment(input) || isDate(input) || isString(input) || isNumber(input) || isNumberOrStringArray(input) || isMomentInputObject(input) || input === null || input === void 0;
  }
  function isMomentInputObject(input) {
    var objectTest = isObject(input) && !isObjectEmpty(input), propertyTest = false, properties = [
      "years",
      "year",
      "y",
      "months",
      "month",
      "M",
      "days",
      "day",
      "d",
      "dates",
      "date",
      "D",
      "hours",
      "hour",
      "h",
      "minutes",
      "minute",
      "m",
      "seconds",
      "second",
      "s",
      "milliseconds",
      "millisecond",
      "ms"
    ], i, property, propertyLen = properties.length;
    for (i = 0; i < propertyLen; i += 1) {
      property = properties[i];
      propertyTest = propertyTest || hasOwnProp(input, property);
    }
    return objectTest && propertyTest;
  }
  function isNumberOrStringArray(input) {
    var arrayTest = isArray(input), dataTypeTest = false;
    if (arrayTest) {
      dataTypeTest = input.filter(function(item) {
        return !isNumber(item) && isString(input);
      }).length === 0;
    }
    return arrayTest && dataTypeTest;
  }
  function isCalendarSpec(input) {
    var objectTest = isObject(input) && !isObjectEmpty(input), propertyTest = false, properties = [
      "sameDay",
      "nextDay",
      "lastDay",
      "nextWeek",
      "lastWeek",
      "sameElse"
    ], i, property;
    for (i = 0; i < properties.length; i += 1) {
      property = properties[i];
      propertyTest = propertyTest || hasOwnProp(input, property);
    }
    return objectTest && propertyTest;
  }
  function getCalendarFormat(myMoment, now2) {
    var diff2 = myMoment.diff(now2, "days", true);
    return diff2 < -6 ? "sameElse" : diff2 < -1 ? "lastWeek" : diff2 < 0 ? "lastDay" : diff2 < 1 ? "sameDay" : diff2 < 2 ? "nextDay" : diff2 < 7 ? "nextWeek" : "sameElse";
  }
  function calendar$1(time, formats) {
    if (arguments.length === 1) {
      if (!arguments[0]) {
        time = void 0;
        formats = void 0;
      } else if (isMomentInput(arguments[0])) {
        time = arguments[0];
        formats = void 0;
      } else if (isCalendarSpec(arguments[0])) {
        formats = arguments[0];
        time = void 0;
      }
    }
    var now2 = time || createLocal(), sod = cloneWithOffset(now2, this).startOf("day"), format2 = hooks.calendarFormat(this, sod) || "sameElse", output = formats && (isFunction(formats[format2]) ? formats[format2].call(this, now2) : formats[format2]);
    return this.format(
      output || this.localeData().calendar(format2, this, createLocal(now2))
    );
  }
  function clone() {
    return new Moment(this);
  }
  function isAfter(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(units) || "millisecond";
    if (units === "millisecond") {
      return this.valueOf() > localInput.valueOf();
    } else {
      return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
  }
  function isBefore(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(units) || "millisecond";
    if (units === "millisecond") {
      return this.valueOf() < localInput.valueOf();
    } else {
      return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
  }
  function isBetween(from2, to2, units, inclusivity) {
    var localFrom = isMoment(from2) ? from2 : createLocal(from2), localTo = isMoment(to2) ? to2 : createLocal(to2);
    if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
      return false;
    }
    inclusivity = inclusivity || "()";
    return (inclusivity[0] === "(" ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) && (inclusivity[1] === ")" ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
  }
  function isSame(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input), inputMs;
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(units) || "millisecond";
    if (units === "millisecond") {
      return this.valueOf() === localInput.valueOf();
    } else {
      inputMs = localInput.valueOf();
      return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
  }
  function isSameOrAfter(input, units) {
    return this.isSame(input, units) || this.isAfter(input, units);
  }
  function isSameOrBefore(input, units) {
    return this.isSame(input, units) || this.isBefore(input, units);
  }
  function diff(input, units, asFloat) {
    var that, zoneDelta, output;
    if (!this.isValid()) {
      return NaN;
    }
    that = cloneWithOffset(input, this);
    if (!that.isValid()) {
      return NaN;
    }
    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;
    units = normalizeUnits(units);
    switch (units) {
      case "year":
        output = monthDiff(this, that) / 12;
        break;
      case "month":
        output = monthDiff(this, that);
        break;
      case "quarter":
        output = monthDiff(this, that) / 3;
        break;
      case "second":
        output = (this - that) / 1e3;
        break;
      // 1000
      case "minute":
        output = (this - that) / 6e4;
        break;
      // 1000 * 60
      case "hour":
        output = (this - that) / 36e5;
        break;
      // 1000 * 60 * 60
      case "day":
        output = (this - that - zoneDelta) / 864e5;
        break;
      // 1000 * 60 * 60 * 24, negate dst
      case "week":
        output = (this - that - zoneDelta) / 6048e5;
        break;
      // 1000 * 60 * 60 * 24 * 7, negate dst
      default:
        output = this - that;
    }
    return asFloat ? output : absFloor(output);
  }
  function monthDiff(a, b) {
    if (a.date() < b.date()) {
      return -monthDiff(b, a);
    }
    var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()), anchor = a.clone().add(wholeMonthDiff, "months"), anchor2, adjust;
    if (b - anchor < 0) {
      anchor2 = a.clone().add(wholeMonthDiff - 1, "months");
      adjust = (b - anchor) / (anchor - anchor2);
    } else {
      anchor2 = a.clone().add(wholeMonthDiff + 1, "months");
      adjust = (b - anchor) / (anchor2 - anchor);
    }
    return -(wholeMonthDiff + adjust) || 0;
  }
  hooks.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
  hooks.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
  function toString() {
    return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
  }
  function toISOString(keepOffset) {
    if (!this.isValid()) {
      return null;
    }
    var utc = keepOffset !== true, m = utc ? this.clone().utc() : this;
    if (m.year() < 0 || m.year() > 9999) {
      return formatMoment(
        m,
        utc ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"
      );
    }
    if (isFunction(Date.prototype.toISOString)) {
      if (utc) {
        return this.toDate().toISOString();
      } else {
        return new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", formatMoment(m, "Z"));
      }
    }
    return formatMoment(
      m,
      utc ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ"
    );
  }
  function inspect() {
    if (!this.isValid()) {
      return "moment.invalid(/* " + this._i + " */)";
    }
    var func = "moment", zone = "", prefix, year, datetime, suffix;
    if (!this.isLocal()) {
      func = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone";
      zone = "Z";
    }
    prefix = "[" + func + '("]';
    year = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY";
    datetime = "-MM-DD[T]HH:mm:ss.SSS";
    suffix = zone + '[")]';
    return this.format(prefix + year + datetime + suffix);
  }
  function format(inputString) {
    if (!inputString) {
      inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
  }
  function from(time, withoutSuffix) {
    if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {
      return createDuration({ to: this, from: time }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function fromNow(withoutSuffix) {
    return this.from(createLocal(), withoutSuffix);
  }
  function to(time, withoutSuffix) {
    if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {
      return createDuration({ from: this, to: time }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function toNow(withoutSuffix) {
    return this.to(createLocal(), withoutSuffix);
  }
  function locale(key) {
    var newLocaleData;
    if (key === void 0) {
      return this._locale._abbr;
    } else {
      newLocaleData = getLocale(key);
      if (newLocaleData != null) {
        this._locale = newLocaleData;
      }
      return this;
    }
  }
  var lang = deprecate(
    "moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
    function(key) {
      if (key === void 0) {
        return this.localeData();
      } else {
        return this.locale(key);
      }
    }
  );
  function localeData() {
    return this._locale;
  }
  var MS_PER_SECOND = 1e3, MS_PER_MINUTE = 60 * MS_PER_SECOND, MS_PER_HOUR = 60 * MS_PER_MINUTE, MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;
  function mod$1(dividend, divisor) {
    return (dividend % divisor + divisor) % divisor;
  }
  function localStartOfDate(y, m, d) {
    if (y < 100 && y >= 0) {
      return new Date(y + 400, m, d) - MS_PER_400_YEARS;
    } else {
      return new Date(y, m, d).valueOf();
    }
  }
  function utcStartOfDate(y, m, d) {
    if (y < 100 && y >= 0) {
      return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
    } else {
      return Date.UTC(y, m, d);
    }
  }
  function startOf(units) {
    var time, startOfDate;
    units = normalizeUnits(units);
    if (units === void 0 || units === "millisecond" || !this.isValid()) {
      return this;
    }
    startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;
    switch (units) {
      case "year":
        time = startOfDate(this.year(), 0, 1);
        break;
      case "quarter":
        time = startOfDate(
          this.year(),
          this.month() - this.month() % 3,
          1
        );
        break;
      case "month":
        time = startOfDate(this.year(), this.month(), 1);
        break;
      case "week":
        time = startOfDate(
          this.year(),
          this.month(),
          this.date() - this.weekday()
        );
        break;
      case "isoWeek":
        time = startOfDate(
          this.year(),
          this.month(),
          this.date() - (this.isoWeekday() - 1)
        );
        break;
      case "day":
      case "date":
        time = startOfDate(this.year(), this.month(), this.date());
        break;
      case "hour":
        time = this._d.valueOf();
        time -= mod$1(
          time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
          MS_PER_HOUR
        );
        break;
      case "minute":
        time = this._d.valueOf();
        time -= mod$1(time, MS_PER_MINUTE);
        break;
      case "second":
        time = this._d.valueOf();
        time -= mod$1(time, MS_PER_SECOND);
        break;
    }
    this._d.setTime(time);
    hooks.updateOffset(this, true);
    return this;
  }
  function endOf(units) {
    var time, startOfDate;
    units = normalizeUnits(units);
    if (units === void 0 || units === "millisecond" || !this.isValid()) {
      return this;
    }
    startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;
    switch (units) {
      case "year":
        time = startOfDate(this.year() + 1, 0, 1) - 1;
        break;
      case "quarter":
        time = startOfDate(
          this.year(),
          this.month() - this.month() % 3 + 3,
          1
        ) - 1;
        break;
      case "month":
        time = startOfDate(this.year(), this.month() + 1, 1) - 1;
        break;
      case "week":
        time = startOfDate(
          this.year(),
          this.month(),
          this.date() - this.weekday() + 7
        ) - 1;
        break;
      case "isoWeek":
        time = startOfDate(
          this.year(),
          this.month(),
          this.date() - (this.isoWeekday() - 1) + 7
        ) - 1;
        break;
      case "day":
      case "date":
        time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
        break;
      case "hour":
        time = this._d.valueOf();
        time += MS_PER_HOUR - mod$1(
          time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
          MS_PER_HOUR
        ) - 1;
        break;
      case "minute":
        time = this._d.valueOf();
        time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
        break;
      case "second":
        time = this._d.valueOf();
        time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
        break;
    }
    this._d.setTime(time);
    hooks.updateOffset(this, true);
    return this;
  }
  function valueOf() {
    return this._d.valueOf() - (this._offset || 0) * 6e4;
  }
  function unix() {
    return Math.floor(this.valueOf() / 1e3);
  }
  function toDate() {
    return new Date(this.valueOf());
  }
  function toArray() {
    var m = this;
    return [
      m.year(),
      m.month(),
      m.date(),
      m.hour(),
      m.minute(),
      m.second(),
      m.millisecond()
    ];
  }
  function toObject() {
    var m = this;
    return {
      years: m.year(),
      months: m.month(),
      date: m.date(),
      hours: m.hours(),
      minutes: m.minutes(),
      seconds: m.seconds(),
      milliseconds: m.milliseconds()
    };
  }
  function toJSON() {
    return this.isValid() ? this.toISOString() : null;
  }
  function isValid$2() {
    return isValid(this);
  }
  function parsingFlags() {
    return extend({}, getParsingFlags(this));
  }
  function invalidAt() {
    return getParsingFlags(this).overflow;
  }
  function creationData() {
    return {
      input: this._i,
      format: this._f,
      locale: this._locale,
      isUTC: this._isUTC,
      strict: this._strict
    };
  }
  addFormatToken("N", 0, 0, "eraAbbr");
  addFormatToken("NN", 0, 0, "eraAbbr");
  addFormatToken("NNN", 0, 0, "eraAbbr");
  addFormatToken("NNNN", 0, 0, "eraName");
  addFormatToken("NNNNN", 0, 0, "eraNarrow");
  addFormatToken("y", ["y", 1], "yo", "eraYear");
  addFormatToken("y", ["yy", 2], 0, "eraYear");
  addFormatToken("y", ["yyy", 3], 0, "eraYear");
  addFormatToken("y", ["yyyy", 4], 0, "eraYear");
  addRegexToken("N", matchEraAbbr);
  addRegexToken("NN", matchEraAbbr);
  addRegexToken("NNN", matchEraAbbr);
  addRegexToken("NNNN", matchEraName);
  addRegexToken("NNNNN", matchEraNarrow);
  addParseToken(
    ["N", "NN", "NNN", "NNNN", "NNNNN"],
    function(input, array, config, token2) {
      var era = config._locale.erasParse(input, token2, config._strict);
      if (era) {
        getParsingFlags(config).era = era;
      } else {
        getParsingFlags(config).invalidEra = input;
      }
    }
  );
  addRegexToken("y", matchUnsigned);
  addRegexToken("yy", matchUnsigned);
  addRegexToken("yyy", matchUnsigned);
  addRegexToken("yyyy", matchUnsigned);
  addRegexToken("yo", matchEraYearOrdinal);
  addParseToken(["y", "yy", "yyy", "yyyy"], YEAR);
  addParseToken(["yo"], function(input, array, config, token2) {
    var match;
    if (config._locale._eraYearOrdinalRegex) {
      match = input.match(config._locale._eraYearOrdinalRegex);
    }
    if (config._locale.eraYearOrdinalParse) {
      array[YEAR] = config._locale.eraYearOrdinalParse(input, match);
    } else {
      array[YEAR] = parseInt(input, 10);
    }
  });
  function localeEras(m, format2) {
    var i, l, date, eras = this._eras || getLocale("en")._eras;
    for (i = 0, l = eras.length; i < l; ++i) {
      switch (typeof eras[i].since) {
        case "string":
          date = hooks(eras[i].since).startOf("day");
          eras[i].since = date.valueOf();
          break;
      }
      switch (typeof eras[i].until) {
        case "undefined":
          eras[i].until = Infinity;
          break;
        case "string":
          date = hooks(eras[i].until).startOf("day").valueOf();
          eras[i].until = date.valueOf();
          break;
      }
    }
    return eras;
  }
  function localeErasParse(eraName, format2, strict) {
    var i, l, eras = this.eras(), name, abbr, narrow;
    eraName = eraName.toUpperCase();
    for (i = 0, l = eras.length; i < l; ++i) {
      name = eras[i].name.toUpperCase();
      abbr = eras[i].abbr.toUpperCase();
      narrow = eras[i].narrow.toUpperCase();
      if (strict) {
        switch (format2) {
          case "N":
          case "NN":
          case "NNN":
            if (abbr === eraName) {
              return eras[i];
            }
            break;
          case "NNNN":
            if (name === eraName) {
              return eras[i];
            }
            break;
          case "NNNNN":
            if (narrow === eraName) {
              return eras[i];
            }
            break;
        }
      } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {
        return eras[i];
      }
    }
  }
  function localeErasConvertYear(era, year) {
    var dir = era.since <= era.until ? 1 : -1;
    if (year === void 0) {
      return hooks(era.since).year();
    } else {
      return hooks(era.since).year() + (year - era.offset) * dir;
    }
  }
  function getEraName() {
    var i, l, val, eras = this.localeData().eras();
    for (i = 0, l = eras.length; i < l; ++i) {
      val = this.clone().startOf("day").valueOf();
      if (eras[i].since <= val && val <= eras[i].until) {
        return eras[i].name;
      }
      if (eras[i].until <= val && val <= eras[i].since) {
        return eras[i].name;
      }
    }
    return "";
  }
  function getEraNarrow() {
    var i, l, val, eras = this.localeData().eras();
    for (i = 0, l = eras.length; i < l; ++i) {
      val = this.clone().startOf("day").valueOf();
      if (eras[i].since <= val && val <= eras[i].until) {
        return eras[i].narrow;
      }
      if (eras[i].until <= val && val <= eras[i].since) {
        return eras[i].narrow;
      }
    }
    return "";
  }
  function getEraAbbr() {
    var i, l, val, eras = this.localeData().eras();
    for (i = 0, l = eras.length; i < l; ++i) {
      val = this.clone().startOf("day").valueOf();
      if (eras[i].since <= val && val <= eras[i].until) {
        return eras[i].abbr;
      }
      if (eras[i].until <= val && val <= eras[i].since) {
        return eras[i].abbr;
      }
    }
    return "";
  }
  function getEraYear() {
    var i, l, dir, val, eras = this.localeData().eras();
    for (i = 0, l = eras.length; i < l; ++i) {
      dir = eras[i].since <= eras[i].until ? 1 : -1;
      val = this.clone().startOf("day").valueOf();
      if (eras[i].since <= val && val <= eras[i].until || eras[i].until <= val && val <= eras[i].since) {
        return (this.year() - hooks(eras[i].since).year()) * dir + eras[i].offset;
      }
    }
    return this.year();
  }
  function erasNameRegex(isStrict) {
    if (!hasOwnProp(this, "_erasNameRegex")) {
      computeErasParse.call(this);
    }
    return isStrict ? this._erasNameRegex : this._erasRegex;
  }
  function erasAbbrRegex(isStrict) {
    if (!hasOwnProp(this, "_erasAbbrRegex")) {
      computeErasParse.call(this);
    }
    return isStrict ? this._erasAbbrRegex : this._erasRegex;
  }
  function erasNarrowRegex(isStrict) {
    if (!hasOwnProp(this, "_erasNarrowRegex")) {
      computeErasParse.call(this);
    }
    return isStrict ? this._erasNarrowRegex : this._erasRegex;
  }
  function matchEraAbbr(isStrict, locale2) {
    return locale2.erasAbbrRegex(isStrict);
  }
  function matchEraName(isStrict, locale2) {
    return locale2.erasNameRegex(isStrict);
  }
  function matchEraNarrow(isStrict, locale2) {
    return locale2.erasNarrowRegex(isStrict);
  }
  function matchEraYearOrdinal(isStrict, locale2) {
    return locale2._eraYearOrdinalRegex || matchUnsigned;
  }
  function computeErasParse() {
    var abbrPieces = [], namePieces = [], narrowPieces = [], mixedPieces = [], i, l, erasName, erasAbbr, erasNarrow, eras = this.eras();
    for (i = 0, l = eras.length; i < l; ++i) {
      erasName = regexEscape(eras[i].name);
      erasAbbr = regexEscape(eras[i].abbr);
      erasNarrow = regexEscape(eras[i].narrow);
      namePieces.push(erasName);
      abbrPieces.push(erasAbbr);
      narrowPieces.push(erasNarrow);
      mixedPieces.push(erasName);
      mixedPieces.push(erasAbbr);
      mixedPieces.push(erasNarrow);
    }
    this._erasRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
    this._erasNameRegex = new RegExp("^(" + namePieces.join("|") + ")", "i");
    this._erasAbbrRegex = new RegExp("^(" + abbrPieces.join("|") + ")", "i");
    this._erasNarrowRegex = new RegExp(
      "^(" + narrowPieces.join("|") + ")",
      "i"
    );
  }
  addFormatToken(0, ["gg", 2], 0, function() {
    return this.weekYear() % 100;
  });
  addFormatToken(0, ["GG", 2], 0, function() {
    return this.isoWeekYear() % 100;
  });
  function addWeekYearFormatToken(token2, getter) {
    addFormatToken(0, [token2, token2.length], 0, getter);
  }
  addWeekYearFormatToken("gggg", "weekYear");
  addWeekYearFormatToken("ggggg", "weekYear");
  addWeekYearFormatToken("GGGG", "isoWeekYear");
  addWeekYearFormatToken("GGGGG", "isoWeekYear");
  addRegexToken("G", matchSigned);
  addRegexToken("g", matchSigned);
  addRegexToken("GG", match1to2, match2);
  addRegexToken("gg", match1to2, match2);
  addRegexToken("GGGG", match1to4, match4);
  addRegexToken("gggg", match1to4, match4);
  addRegexToken("GGGGG", match1to6, match6);
  addRegexToken("ggggg", match1to6, match6);
  addWeekParseToken(
    ["gggg", "ggggg", "GGGG", "GGGGG"],
    function(input, week, config, token2) {
      week[token2.substr(0, 2)] = toInt(input);
    }
  );
  addWeekParseToken(["gg", "GG"], function(input, week, config, token2) {
    week[token2] = hooks.parseTwoDigitYear(input);
  });
  function getSetWeekYear(input) {
    return getSetWeekYearHelper.call(
      this,
      input,
      this.week(),
      this.weekday() + this.localeData()._week.dow,
      this.localeData()._week.dow,
      this.localeData()._week.doy
    );
  }
  function getSetISOWeekYear(input) {
    return getSetWeekYearHelper.call(
      this,
      input,
      this.isoWeek(),
      this.isoWeekday(),
      1,
      4
    );
  }
  function getISOWeeksInYear() {
    return weeksInYear(this.year(), 1, 4);
  }
  function getISOWeeksInISOWeekYear() {
    return weeksInYear(this.isoWeekYear(), 1, 4);
  }
  function getWeeksInYear() {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
  }
  function getWeeksInWeekYear() {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);
  }
  function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
      return weekOfYear(this, dow, doy).year;
    } else {
      weeksTarget = weeksInYear(input, dow, doy);
      if (week > weeksTarget) {
        week = weeksTarget;
      }
      return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
  }
  function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy), date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);
    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
  }
  addFormatToken("Q", 0, "Qo", "quarter");
  addRegexToken("Q", match1);
  addParseToken("Q", function(input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
  });
  function getSetQuarter(input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
  }
  addFormatToken("D", ["DD", 2], "Do", "date");
  addRegexToken("D", match1to2, match1to2NoLeadingZero);
  addRegexToken("DD", match1to2, match2);
  addRegexToken("Do", function(isStrict, locale2) {
    return isStrict ? locale2._dayOfMonthOrdinalParse || locale2._ordinalParse : locale2._dayOfMonthOrdinalParseLenient;
  });
  addParseToken(["D", "DD"], DATE);
  addParseToken("Do", function(input, array) {
    array[DATE] = toInt(input.match(match1to2)[0]);
  });
  var getSetDayOfMonth = makeGetSet("Date", true);
  addFormatToken("DDD", ["DDDD", 3], "DDDo", "dayOfYear");
  addRegexToken("DDD", match1to3);
  addRegexToken("DDDD", match3);
  addParseToken(["DDD", "DDDD"], function(input, array, config) {
    config._dayOfYear = toInt(input);
  });
  function getSetDayOfYear(input) {
    var dayOfYear = Math.round(
      (this.clone().startOf("day") - this.clone().startOf("year")) / 864e5
    ) + 1;
    return input == null ? dayOfYear : this.add(input - dayOfYear, "d");
  }
  addFormatToken("m", ["mm", 2], 0, "minute");
  addRegexToken("m", match1to2, match1to2HasZero);
  addRegexToken("mm", match1to2, match2);
  addParseToken(["m", "mm"], MINUTE);
  var getSetMinute = makeGetSet("Minutes", false);
  addFormatToken("s", ["ss", 2], 0, "second");
  addRegexToken("s", match1to2, match1to2HasZero);
  addRegexToken("ss", match1to2, match2);
  addParseToken(["s", "ss"], SECOND);
  var getSetSecond = makeGetSet("Seconds", false);
  addFormatToken("S", 0, 0, function() {
    return ~~(this.millisecond() / 100);
  });
  addFormatToken(0, ["SS", 2], 0, function() {
    return ~~(this.millisecond() / 10);
  });
  addFormatToken(0, ["SSS", 3], 0, "millisecond");
  addFormatToken(0, ["SSSS", 4], 0, function() {
    return this.millisecond() * 10;
  });
  addFormatToken(0, ["SSSSS", 5], 0, function() {
    return this.millisecond() * 100;
  });
  addFormatToken(0, ["SSSSSS", 6], 0, function() {
    return this.millisecond() * 1e3;
  });
  addFormatToken(0, ["SSSSSSS", 7], 0, function() {
    return this.millisecond() * 1e4;
  });
  addFormatToken(0, ["SSSSSSSS", 8], 0, function() {
    return this.millisecond() * 1e5;
  });
  addFormatToken(0, ["SSSSSSSSS", 9], 0, function() {
    return this.millisecond() * 1e6;
  });
  addRegexToken("S", match1to3, match1);
  addRegexToken("SS", match1to3, match2);
  addRegexToken("SSS", match1to3, match3);
  var token, getSetMillisecond;
  for (token = "SSSS"; token.length <= 9; token += "S") {
    addRegexToken(token, matchUnsigned);
  }
  function parseMs(input, array) {
    array[MILLISECOND] = toInt(("0." + input) * 1e3);
  }
  for (token = "S"; token.length <= 9; token += "S") {
    addParseToken(token, parseMs);
  }
  getSetMillisecond = makeGetSet("Milliseconds", false);
  addFormatToken("z", 0, 0, "zoneAbbr");
  addFormatToken("zz", 0, 0, "zoneName");
  function getZoneAbbr() {
    return this._isUTC ? "UTC" : "";
  }
  function getZoneName() {
    return this._isUTC ? "Coordinated Universal Time" : "";
  }
  var proto = Moment.prototype;
  proto.add = add;
  proto.calendar = calendar$1;
  proto.clone = clone;
  proto.diff = diff;
  proto.endOf = endOf;
  proto.format = format;
  proto.from = from;
  proto.fromNow = fromNow;
  proto.to = to;
  proto.toNow = toNow;
  proto.get = stringGet;
  proto.invalidAt = invalidAt;
  proto.isAfter = isAfter;
  proto.isBefore = isBefore;
  proto.isBetween = isBetween;
  proto.isSame = isSame;
  proto.isSameOrAfter = isSameOrAfter;
  proto.isSameOrBefore = isSameOrBefore;
  proto.isValid = isValid$2;
  proto.lang = lang;
  proto.locale = locale;
  proto.localeData = localeData;
  proto.max = prototypeMax;
  proto.min = prototypeMin;
  proto.parsingFlags = parsingFlags;
  proto.set = stringSet;
  proto.startOf = startOf;
  proto.subtract = subtract;
  proto.toArray = toArray;
  proto.toObject = toObject;
  proto.toDate = toDate;
  proto.toISOString = toISOString;
  proto.inspect = inspect;
  if (typeof Symbol !== "undefined" && Symbol.for != null) {
    proto[Symbol.for("nodejs.util.inspect.custom")] = function() {
      return "Moment<" + this.format() + ">";
    };
  }
  proto.toJSON = toJSON;
  proto.toString = toString;
  proto.unix = unix;
  proto.valueOf = valueOf;
  proto.creationData = creationData;
  proto.eraName = getEraName;
  proto.eraNarrow = getEraNarrow;
  proto.eraAbbr = getEraAbbr;
  proto.eraYear = getEraYear;
  proto.year = getSetYear;
  proto.isLeapYear = getIsLeapYear;
  proto.weekYear = getSetWeekYear;
  proto.isoWeekYear = getSetISOWeekYear;
  proto.quarter = proto.quarters = getSetQuarter;
  proto.month = getSetMonth;
  proto.daysInMonth = getDaysInMonth;
  proto.week = proto.weeks = getSetWeek;
  proto.isoWeek = proto.isoWeeks = getSetISOWeek;
  proto.weeksInYear = getWeeksInYear;
  proto.weeksInWeekYear = getWeeksInWeekYear;
  proto.isoWeeksInYear = getISOWeeksInYear;
  proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;
  proto.date = getSetDayOfMonth;
  proto.day = proto.days = getSetDayOfWeek;
  proto.weekday = getSetLocaleDayOfWeek;
  proto.isoWeekday = getSetISODayOfWeek;
  proto.dayOfYear = getSetDayOfYear;
  proto.hour = proto.hours = getSetHour;
  proto.minute = proto.minutes = getSetMinute;
  proto.second = proto.seconds = getSetSecond;
  proto.millisecond = proto.milliseconds = getSetMillisecond;
  proto.utcOffset = getSetOffset;
  proto.utc = setOffsetToUTC;
  proto.local = setOffsetToLocal;
  proto.parseZone = setOffsetToParsedOffset;
  proto.hasAlignedHourOffset = hasAlignedHourOffset;
  proto.isDST = isDaylightSavingTime;
  proto.isLocal = isLocal;
  proto.isUtcOffset = isUtcOffset;
  proto.isUtc = isUtc;
  proto.isUTC = isUtc;
  proto.zoneAbbr = getZoneAbbr;
  proto.zoneName = getZoneName;
  proto.dates = deprecate(
    "dates accessor is deprecated. Use date instead.",
    getSetDayOfMonth
  );
  proto.months = deprecate(
    "months accessor is deprecated. Use month instead",
    getSetMonth
  );
  proto.years = deprecate(
    "years accessor is deprecated. Use year instead",
    getSetYear
  );
  proto.zone = deprecate(
    "moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
    getSetZone
  );
  proto.isDSTShifted = deprecate(
    "isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
    isDaylightSavingTimeShifted
  );
  function createUnix(input) {
    return createLocal(input * 1e3);
  }
  function createInZone() {
    return createLocal.apply(null, arguments).parseZone();
  }
  function preParsePostFormat(string) {
    return string;
  }
  var proto$1 = Locale.prototype;
  proto$1.calendar = calendar;
  proto$1.longDateFormat = longDateFormat;
  proto$1.invalidDate = invalidDate;
  proto$1.ordinal = ordinal;
  proto$1.preparse = preParsePostFormat;
  proto$1.postformat = preParsePostFormat;
  proto$1.relativeTime = relativeTime;
  proto$1.pastFuture = pastFuture;
  proto$1.set = set;
  proto$1.eras = localeEras;
  proto$1.erasParse = localeErasParse;
  proto$1.erasConvertYear = localeErasConvertYear;
  proto$1.erasAbbrRegex = erasAbbrRegex;
  proto$1.erasNameRegex = erasNameRegex;
  proto$1.erasNarrowRegex = erasNarrowRegex;
  proto$1.months = localeMonths;
  proto$1.monthsShort = localeMonthsShort;
  proto$1.monthsParse = localeMonthsParse;
  proto$1.monthsRegex = monthsRegex;
  proto$1.monthsShortRegex = monthsShortRegex;
  proto$1.week = localeWeek;
  proto$1.firstDayOfYear = localeFirstDayOfYear;
  proto$1.firstDayOfWeek = localeFirstDayOfWeek;
  proto$1.weekdays = localeWeekdays;
  proto$1.weekdaysMin = localeWeekdaysMin;
  proto$1.weekdaysShort = localeWeekdaysShort;
  proto$1.weekdaysParse = localeWeekdaysParse;
  proto$1.weekdaysRegex = weekdaysRegex;
  proto$1.weekdaysShortRegex = weekdaysShortRegex;
  proto$1.weekdaysMinRegex = weekdaysMinRegex;
  proto$1.isPM = localeIsPM;
  proto$1.meridiem = localeMeridiem;
  function get$1(format2, index, field, setter) {
    var locale2 = getLocale(), utc = createUTC().set(setter, index);
    return locale2[field](utc, format2);
  }
  function listMonthsImpl(format2, index, field) {
    if (isNumber(format2)) {
      index = format2;
      format2 = void 0;
    }
    format2 = format2 || "";
    if (index != null) {
      return get$1(format2, index, field, "month");
    }
    var i, out = [];
    for (i = 0; i < 12; i++) {
      out[i] = get$1(format2, i, field, "month");
    }
    return out;
  }
  function listWeekdaysImpl(localeSorted, format2, index, field) {
    if (typeof localeSorted === "boolean") {
      if (isNumber(format2)) {
        index = format2;
        format2 = void 0;
      }
      format2 = format2 || "";
    } else {
      format2 = localeSorted;
      index = format2;
      localeSorted = false;
      if (isNumber(format2)) {
        index = format2;
        format2 = void 0;
      }
      format2 = format2 || "";
    }
    var locale2 = getLocale(), shift = localeSorted ? locale2._week.dow : 0, i, out = [];
    if (index != null) {
      return get$1(format2, (index + shift) % 7, field, "day");
    }
    for (i = 0; i < 7; i++) {
      out[i] = get$1(format2, (i + shift) % 7, field, "day");
    }
    return out;
  }
  function listMonths(format2, index) {
    return listMonthsImpl(format2, index, "months");
  }
  function listMonthsShort(format2, index) {
    return listMonthsImpl(format2, index, "monthsShort");
  }
  function listWeekdays(localeSorted, format2, index) {
    return listWeekdaysImpl(localeSorted, format2, index, "weekdays");
  }
  function listWeekdaysShort(localeSorted, format2, index) {
    return listWeekdaysImpl(localeSorted, format2, index, "weekdaysShort");
  }
  function listWeekdaysMin(localeSorted, format2, index) {
    return listWeekdaysImpl(localeSorted, format2, index, "weekdaysMin");
  }
  getSetGlobalLocale("en", {
    eras: [
      {
        since: "0001-01-01",
        until: Infinity,
        offset: 1,
        name: "Anno Domini",
        narrow: "AD",
        abbr: "AD"
      },
      {
        since: "0000-12-31",
        until: -Infinity,
        offset: 1,
        name: "Before Christ",
        narrow: "BC",
        abbr: "BC"
      }
    ],
    dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal: function(number) {
      var b = number % 10, output = toInt(number % 100 / 10) === 1 ? "th" : b === 1 ? "st" : b === 2 ? "nd" : b === 3 ? "rd" : "th";
      return number + output;
    }
  });
  hooks.lang = deprecate(
    "moment.lang is deprecated. Use moment.locale instead.",
    getSetGlobalLocale
  );
  hooks.langData = deprecate(
    "moment.langData is deprecated. Use moment.localeData instead.",
    getLocale
  );
  var mathAbs = Math.abs;
  function abs() {
    var data = this._data;
    this._milliseconds = mathAbs(this._milliseconds);
    this._days = mathAbs(this._days);
    this._months = mathAbs(this._months);
    data.milliseconds = mathAbs(data.milliseconds);
    data.seconds = mathAbs(data.seconds);
    data.minutes = mathAbs(data.minutes);
    data.hours = mathAbs(data.hours);
    data.months = mathAbs(data.months);
    data.years = mathAbs(data.years);
    return this;
  }
  function addSubtract$1(duration, input, value, direction) {
    var other = createDuration(input, value);
    duration._milliseconds += direction * other._milliseconds;
    duration._days += direction * other._days;
    duration._months += direction * other._months;
    return duration._bubble();
  }
  function add$1(input, value) {
    return addSubtract$1(this, input, value, 1);
  }
  function subtract$1(input, value) {
    return addSubtract$1(this, input, value, -1);
  }
  function absCeil(number) {
    if (number < 0) {
      return Math.floor(number);
    } else {
      return Math.ceil(number);
    }
  }
  function bubble() {
    var milliseconds2 = this._milliseconds, days2 = this._days, months2 = this._months, data = this._data, seconds2, minutes2, hours2, years2, monthsFromDays;
    if (!(milliseconds2 >= 0 && days2 >= 0 && months2 >= 0 || milliseconds2 <= 0 && days2 <= 0 && months2 <= 0)) {
      milliseconds2 += absCeil(monthsToDays(months2) + days2) * 864e5;
      days2 = 0;
      months2 = 0;
    }
    data.milliseconds = milliseconds2 % 1e3;
    seconds2 = absFloor(milliseconds2 / 1e3);
    data.seconds = seconds2 % 60;
    minutes2 = absFloor(seconds2 / 60);
    data.minutes = minutes2 % 60;
    hours2 = absFloor(minutes2 / 60);
    data.hours = hours2 % 24;
    days2 += absFloor(hours2 / 24);
    monthsFromDays = absFloor(daysToMonths(days2));
    months2 += monthsFromDays;
    days2 -= absCeil(monthsToDays(monthsFromDays));
    years2 = absFloor(months2 / 12);
    months2 %= 12;
    data.days = days2;
    data.months = months2;
    data.years = years2;
    return this;
  }
  function daysToMonths(days2) {
    return days2 * 4800 / 146097;
  }
  function monthsToDays(months2) {
    return months2 * 146097 / 4800;
  }
  function as(units) {
    if (!this.isValid()) {
      return NaN;
    }
    var days2, months2, milliseconds2 = this._milliseconds;
    units = normalizeUnits(units);
    if (units === "month" || units === "quarter" || units === "year") {
      days2 = this._days + milliseconds2 / 864e5;
      months2 = this._months + daysToMonths(days2);
      switch (units) {
        case "month":
          return months2;
        case "quarter":
          return months2 / 3;
        case "year":
          return months2 / 12;
      }
    } else {
      days2 = this._days + Math.round(monthsToDays(this._months));
      switch (units) {
        case "week":
          return days2 / 7 + milliseconds2 / 6048e5;
        case "day":
          return days2 + milliseconds2 / 864e5;
        case "hour":
          return days2 * 24 + milliseconds2 / 36e5;
        case "minute":
          return days2 * 1440 + milliseconds2 / 6e4;
        case "second":
          return days2 * 86400 + milliseconds2 / 1e3;
        // Math.floor prevents floating point math errors here
        case "millisecond":
          return Math.floor(days2 * 864e5) + milliseconds2;
        default:
          throw new Error("Unknown unit " + units);
      }
    }
  }
  function makeAs(alias) {
    return function() {
      return this.as(alias);
    };
  }
  var asMilliseconds = makeAs("ms"), asSeconds = makeAs("s"), asMinutes = makeAs("m"), asHours = makeAs("h"), asDays = makeAs("d"), asWeeks = makeAs("w"), asMonths = makeAs("M"), asQuarters = makeAs("Q"), asYears = makeAs("y"), valueOf$1 = asMilliseconds;
  function clone$1() {
    return createDuration(this);
  }
  function get$2(units) {
    units = normalizeUnits(units);
    return this.isValid() ? this[units + "s"]() : NaN;
  }
  function makeGetter(name) {
    return function() {
      return this.isValid() ? this._data[name] : NaN;
    };
  }
  var milliseconds = makeGetter("milliseconds"), seconds = makeGetter("seconds"), minutes = makeGetter("minutes"), hours = makeGetter("hours"), days = makeGetter("days"), months = makeGetter("months"), years = makeGetter("years");
  function weeks() {
    return absFloor(this.days() / 7);
  }
  var round = Math.round, thresholds = {
    ss: 44,
    // a few seconds to seconds
    s: 45,
    // seconds to minute
    m: 45,
    // minutes to hour
    h: 22,
    // hours to day
    d: 26,
    // days to month/week
    w: null,
    // weeks to month
    M: 11
    // months to year
  };
  function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale2) {
    return locale2.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
  }
  function relativeTime$1(posNegDuration, withoutSuffix, thresholds2, locale2) {
    var duration = createDuration(posNegDuration).abs(), seconds2 = round(duration.as("s")), minutes2 = round(duration.as("m")), hours2 = round(duration.as("h")), days2 = round(duration.as("d")), months2 = round(duration.as("M")), weeks2 = round(duration.as("w")), years2 = round(duration.as("y")), a = seconds2 <= thresholds2.ss && ["s", seconds2] || seconds2 < thresholds2.s && ["ss", seconds2] || minutes2 <= 1 && ["m"] || minutes2 < thresholds2.m && ["mm", minutes2] || hours2 <= 1 && ["h"] || hours2 < thresholds2.h && ["hh", hours2] || days2 <= 1 && ["d"] || days2 < thresholds2.d && ["dd", days2];
    if (thresholds2.w != null) {
      a = a || weeks2 <= 1 && ["w"] || weeks2 < thresholds2.w && ["ww", weeks2];
    }
    a = a || months2 <= 1 && ["M"] || months2 < thresholds2.M && ["MM", months2] || years2 <= 1 && ["y"] || ["yy", years2];
    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale2;
    return substituteTimeAgo.apply(null, a);
  }
  function getSetRelativeTimeRounding(roundingFunction) {
    if (roundingFunction === void 0) {
      return round;
    }
    if (typeof roundingFunction === "function") {
      round = roundingFunction;
      return true;
    }
    return false;
  }
  function getSetRelativeTimeThreshold(threshold, limit) {
    if (thresholds[threshold] === void 0) {
      return false;
    }
    if (limit === void 0) {
      return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    if (threshold === "s") {
      thresholds.ss = limit - 1;
    }
    return true;
  }
  function humanize(argWithSuffix, argThresholds) {
    if (!this.isValid()) {
      return this.localeData().invalidDate();
    }
    var withSuffix = false, th = thresholds, locale2, output;
    if (typeof argWithSuffix === "object") {
      argThresholds = argWithSuffix;
      argWithSuffix = false;
    }
    if (typeof argWithSuffix === "boolean") {
      withSuffix = argWithSuffix;
    }
    if (typeof argThresholds === "object") {
      th = Object.assign({}, thresholds, argThresholds);
      if (argThresholds.s != null && argThresholds.ss == null) {
        th.ss = argThresholds.s - 1;
      }
    }
    locale2 = this.localeData();
    output = relativeTime$1(this, !withSuffix, th, locale2);
    if (withSuffix) {
      output = locale2.pastFuture(+this, output);
    }
    return locale2.postformat(output);
  }
  var abs$1 = Math.abs;
  function sign(x) {
    return (x > 0) - (x < 0) || +x;
  }
  function toISOString$1() {
    if (!this.isValid()) {
      return this.localeData().invalidDate();
    }
    var seconds2 = abs$1(this._milliseconds) / 1e3, days2 = abs$1(this._days), months2 = abs$1(this._months), minutes2, hours2, years2, s, total = this.asSeconds(), totalSign, ymSign, daysSign, hmsSign;
    if (!total) {
      return "P0D";
    }
    minutes2 = absFloor(seconds2 / 60);
    hours2 = absFloor(minutes2 / 60);
    seconds2 %= 60;
    minutes2 %= 60;
    years2 = absFloor(months2 / 12);
    months2 %= 12;
    s = seconds2 ? seconds2.toFixed(3).replace(/\.?0+$/, "") : "";
    totalSign = total < 0 ? "-" : "";
    ymSign = sign(this._months) !== sign(total) ? "-" : "";
    daysSign = sign(this._days) !== sign(total) ? "-" : "";
    hmsSign = sign(this._milliseconds) !== sign(total) ? "-" : "";
    return totalSign + "P" + (years2 ? ymSign + years2 + "Y" : "") + (months2 ? ymSign + months2 + "M" : "") + (days2 ? daysSign + days2 + "D" : "") + (hours2 || minutes2 || seconds2 ? "T" : "") + (hours2 ? hmsSign + hours2 + "H" : "") + (minutes2 ? hmsSign + minutes2 + "M" : "") + (seconds2 ? hmsSign + s + "S" : "");
  }
  var proto$2 = Duration.prototype;
  proto$2.isValid = isValid$1;
  proto$2.abs = abs;
  proto$2.add = add$1;
  proto$2.subtract = subtract$1;
  proto$2.as = as;
  proto$2.asMilliseconds = asMilliseconds;
  proto$2.asSeconds = asSeconds;
  proto$2.asMinutes = asMinutes;
  proto$2.asHours = asHours;
  proto$2.asDays = asDays;
  proto$2.asWeeks = asWeeks;
  proto$2.asMonths = asMonths;
  proto$2.asQuarters = asQuarters;
  proto$2.asYears = asYears;
  proto$2.valueOf = valueOf$1;
  proto$2._bubble = bubble;
  proto$2.clone = clone$1;
  proto$2.get = get$2;
  proto$2.milliseconds = milliseconds;
  proto$2.seconds = seconds;
  proto$2.minutes = minutes;
  proto$2.hours = hours;
  proto$2.days = days;
  proto$2.weeks = weeks;
  proto$2.months = months;
  proto$2.years = years;
  proto$2.humanize = humanize;
  proto$2.toISOString = toISOString$1;
  proto$2.toString = toISOString$1;
  proto$2.toJSON = toISOString$1;
  proto$2.locale = locale;
  proto$2.localeData = localeData;
  proto$2.toIsoString = deprecate(
    "toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
    toISOString$1
  );
  proto$2.lang = lang;
  addFormatToken("X", 0, 0, "unix");
  addFormatToken("x", 0, 0, "valueOf");
  addRegexToken("x", matchSigned);
  addRegexToken("X", matchTimestamp);
  addParseToken("X", function(input, array, config) {
    config._d = new Date(parseFloat(input) * 1e3);
  });
  addParseToken("x", function(input, array, config) {
    config._d = new Date(toInt(input));
  });
  //! moment.js
  hooks.version = "2.30.1";
  setHookCallback(createLocal);
  hooks.fn = proto;
  hooks.min = min;
  hooks.max = max;
  hooks.now = now;
  hooks.utc = createUTC;
  hooks.unix = createUnix;
  hooks.months = listMonths;
  hooks.isDate = isDate;
  hooks.locale = getSetGlobalLocale;
  hooks.invalid = createInvalid;
  hooks.duration = createDuration;
  hooks.isMoment = isMoment;
  hooks.weekdays = listWeekdays;
  hooks.parseZone = createInZone;
  hooks.localeData = getLocale;
  hooks.isDuration = isDuration;
  hooks.monthsShort = listMonthsShort;
  hooks.weekdaysMin = listWeekdaysMin;
  hooks.defineLocale = defineLocale;
  hooks.updateLocale = updateLocale;
  hooks.locales = listLocales;
  hooks.weekdaysShort = listWeekdaysShort;
  hooks.normalizeUnits = normalizeUnits;
  hooks.relativeTimeRounding = getSetRelativeTimeRounding;
  hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
  hooks.calendarFormat = getCalendarFormat;
  hooks.prototype = proto;
  hooks.HTML5_FMT = {
    DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
    // <input type="datetime-local" />
    DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
    // <input type="datetime-local" step="1" />
    DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
    // <input type="datetime-local" step="0.001" />
    DATE: "YYYY-MM-DD",
    // <input type="date" />
    TIME: "HH:mm",
    // <input type="time" />
    TIME_SECONDS: "HH:mm:ss",
    // <input type="time" step="1" />
    TIME_MS: "HH:mm:ss.SSS",
    // <input type="time" step="0.001" />
    WEEK: "GGGG-[W]WW",
    // <input type="week" />
    MONTH: "YYYY-MM"
    // <input type="month" />
  };
  return hooks;
});


/***/ }),

/***/ "../../node_modules/monaco-editor/esm/vs/base/common/worker lazy recursive ^.*$":
/*!**********************************************************************************************!*\
  !*** ../../node_modules/monaco-editor/esm/vs/base/common/worker/ lazy ^.*$ namespace object ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./simpleWorker": "../../node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js",
	"./simpleWorker.js": "../../node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js"
};

function webpackAsyncContext(req) {
	return Promise.resolve().then(() => {
		if(!__webpack_require__.o(map, req)) {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		}

		var id = map[req];
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "../../node_modules/monaco-editor/esm/vs/base/common/worker lazy recursive ^.*$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "../../node_modules/monaco-editor/esm/vs/editor/common/services lazy recursive ^.*$":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/monaco-editor/esm/vs/editor/common/services/ lazy ^.*$ namespace object ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./editorBaseApi": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js"
	],
	"./editorBaseApi.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js"
	],
	"./editorSimpleWorker": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js"
	],
	"./editorSimpleWorker.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js"
	],
	"./editorWorker": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js"
	],
	"./editorWorker.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js"
	],
	"./editorWorkerHost": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js"
	],
	"./editorWorkerHost.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js"
	],
	"./findSectionHeaders": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js"
	],
	"./findSectionHeaders.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js"
	],
	"./getIconClasses": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js"
	],
	"./getIconClasses.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js"
	],
	"./languageFeatureDebounce": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js"
	],
	"./languageFeatureDebounce.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js"
	],
	"./languageFeatures": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js"
	],
	"./languageFeatures.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js"
	],
	"./languageFeaturesService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js"
	],
	"./languageFeaturesService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js"
	],
	"./languageService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js"
	],
	"./languageService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js"
	],
	"./languagesAssociations": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js"
	],
	"./languagesAssociations.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js"
	],
	"./languagesRegistry": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js"
	],
	"./languagesRegistry.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js"
	],
	"./markerDecorations": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js"
	],
	"./markerDecorations.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js"
	],
	"./markerDecorationsService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js"
	],
	"./markerDecorationsService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js"
	],
	"./model": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/model.js"
	],
	"./model.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/model.js"
	],
	"./modelService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js"
	],
	"./modelService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js"
	],
	"./resolverService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js"
	],
	"./resolverService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js"
	],
	"./semanticTokensDto": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js"
	],
	"./semanticTokensDto.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js"
	],
	"./semanticTokensProviderStyling": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js"
	],
	"./semanticTokensProviderStyling.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js"
	],
	"./semanticTokensStyling": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js"
	],
	"./semanticTokensStyling.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js"
	],
	"./semanticTokensStylingService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js"
	],
	"./semanticTokensStylingService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js"
	],
	"./textModelSync/textModelSync.impl": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js"
	],
	"./textModelSync/textModelSync.impl.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js"
	],
	"./textModelSync/textModelSync.protocol": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js",
		"n.monaco-editor"
	],
	"./textModelSync/textModelSync.protocol.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js",
		"n.monaco-editor"
	],
	"./textResourceConfiguration": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js"
	],
	"./textResourceConfiguration.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js"
	],
	"./treeSitterParserService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js"
	],
	"./treeSitterParserService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js"
	],
	"./treeViewsDnd": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js"
	],
	"./treeViewsDnd.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js"
	],
	"./treeViewsDndService": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js"
	],
	"./treeViewsDndService.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js"
	],
	"./unicodeTextModelHighlighter": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js"
	],
	"./unicodeTextModelHighlighter.js": [
		"../../node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "../../node_modules/monaco-editor/esm/vs/editor/common/services lazy recursive ^.*$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "../../node_modules/monaco-themes/themes/themelist.json":
/*!**************************************************************!*\
  !*** ../../node_modules/monaco-themes/themes/themelist.json ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"active4d":"Active4D","all-hallows-eve":"All Hallows Eve","amy":"Amy","birds-of-paradise":"Birds of Paradise","blackboard":"Blackboard","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","clouds":"Clouds","cobalt":"Cobalt","cobalt2":"Cobalt2","dawn":"Dawn","dracula":"Dracula","dreamweaver":"Dreamweaver","eiffel":"Eiffel","espresso-libre":"Espresso Libre","github-dark":"GitHub Dark","github-light":"GitHub Light","github":"GitHub","idle":"IDLE","katzenmilch":"Katzenmilch","kuroir-theme":"Kuroir Theme","lazy":"LAZY","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","merbivore":"Merbivore","monokai-bright":"Monokai Bright","monokai":"Monokai","night-owl":"Night Owl","nord":"Nord","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","spacecadet":"SpaceCadet","sunburst":"Sunburst","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","tomorrow-night":"Tomorrow-Night","tomorrow":"Tomorrow","twilight":"Twilight","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default","zenburnesque":"Zenburnesque","iplastic":"iPlastic","idlefingers":"idleFingers","krtheme":"krTheme","monoindustrial":"monoindustrial"}');

/***/ }),

/***/ "../../node_modules/redux/dist/redux.mjs":
/*!***********************************************!*\
  !*** ../../node_modules/redux/dist/redux.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __DO_NOT_USE__ActionTypes: () => (/* binding */ actionTypes_default),
/* harmony export */   applyMiddleware: () => (/* binding */ applyMiddleware),
/* harmony export */   bindActionCreators: () => (/* binding */ bindActionCreators),
/* harmony export */   combineReducers: () => (/* binding */ combineReducers),
/* harmony export */   compose: () => (/* binding */ compose),
/* harmony export */   createStore: () => (/* binding */ createStore),
/* harmony export */   isAction: () => (/* binding */ isAction),
/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject),
/* harmony export */   legacy_createStore: () => (/* binding */ legacy_createStore)
/* harmony export */ });
function formatProdErrorMessage(code) {
  return `Minified Redux error #${code}; visit https://redux.js.org/Errors?code=${code} for the full message or use the non-minified dev environment for full errors. `;
}
var $$observable = /* @__PURE__ */ (() => typeof Symbol === "function" && Symbol.observable || "@@observable")();
var symbol_observable_default = $$observable;
var randomString = () => Math.random().toString(36).substring(7).split("").join(".");
var ActionTypes = {
  INIT: `@@redux/INIT${/* @__PURE__ */ randomString()}`,
  REPLACE: `@@redux/REPLACE${/* @__PURE__ */ randomString()}`,
  PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${randomString()}`
};
var actionTypes_default = ActionTypes;
function isPlainObject(obj) {
  if (typeof obj !== "object" || obj === null)
    return false;
  let proto = obj;
  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto);
  }
  return Object.getPrototypeOf(obj) === proto || Object.getPrototypeOf(obj) === null;
}
function miniKindOf(val) {
  if (val === void 0)
    return "undefined";
  if (val === null)
    return "null";
  const type = typeof val;
  switch (type) {
    case "boolean":
    case "string":
    case "number":
    case "symbol":
    case "function": {
      return type;
    }
  }
  if (Array.isArray(val))
    return "array";
  if (isDate(val))
    return "date";
  if (isError(val))
    return "error";
  const constructorName = ctorName(val);
  switch (constructorName) {
    case "Symbol":
    case "Promise":
    case "WeakMap":
    case "WeakSet":
    case "Map":
    case "Set":
      return constructorName;
  }
  return Object.prototype.toString.call(val).slice(8, -1).toLowerCase().replace(/\s/g, "");
}
function ctorName(val) {
  return typeof val.constructor === "function" ? val.constructor.name : null;
}
function isError(val) {
  return val instanceof Error || typeof val.message === "string" && val.constructor && typeof val.constructor.stackTraceLimit === "number";
}
function isDate(val) {
  if (val instanceof Date)
    return true;
  return typeof val.toDateString === "function" && typeof val.getDate === "function" && typeof val.setDate === "function";
}
function kindOf(val) {
  let typeOfVal = typeof val;
  if (true) {
    typeOfVal = miniKindOf(val);
  }
  return typeOfVal;
}
function createStore(reducer, preloadedState, enhancer) {
  if (typeof reducer !== "function") {
    throw new Error( false ? 0 : `Expected the root reducer to be a function. Instead, received: '${kindOf(reducer)}'`);
  }
  if (typeof preloadedState === "function" && typeof enhancer === "function" || typeof enhancer === "function" && typeof arguments[3] === "function") {
    throw new Error( false ? 0 : "It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");
  }
  if (typeof preloadedState === "function" && typeof enhancer === "undefined") {
    enhancer = preloadedState;
    preloadedState = void 0;
  }
  if (typeof enhancer !== "undefined") {
    if (typeof enhancer !== "function") {
      throw new Error( false ? 0 : `Expected the enhancer to be a function. Instead, received: '${kindOf(enhancer)}'`);
    }
    return enhancer(createStore)(reducer, preloadedState);
  }
  let currentReducer = reducer;
  let currentState = preloadedState;
  let currentListeners = /* @__PURE__ */ new Map();
  let nextListeners = currentListeners;
  let listenerIdCounter = 0;
  let isDispatching = false;
  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = /* @__PURE__ */ new Map();
      currentListeners.forEach((listener, key) => {
        nextListeners.set(key, listener);
      });
    }
  }
  function getState() {
    if (isDispatching) {
      throw new Error( false ? 0 : "You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");
    }
    return currentState;
  }
  function subscribe(listener) {
    if (typeof listener !== "function") {
      throw new Error( false ? 0 : `Expected the listener to be a function. Instead, received: '${kindOf(listener)}'`);
    }
    if (isDispatching) {
      throw new Error( false ? 0 : "You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");
    }
    let isSubscribed = true;
    ensureCanMutateNextListeners();
    const listenerId = listenerIdCounter++;
    nextListeners.set(listenerId, listener);
    return function unsubscribe() {
      if (!isSubscribed) {
        return;
      }
      if (isDispatching) {
        throw new Error( false ? 0 : "You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");
      }
      isSubscribed = false;
      ensureCanMutateNextListeners();
      nextListeners.delete(listenerId);
      currentListeners = null;
    };
  }
  function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error( false ? 0 : `Actions must be plain objects. Instead, the actual type was: '${kindOf(action)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);
    }
    if (typeof action.type === "undefined") {
      throw new Error( false ? 0 : 'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');
    }
    if (typeof action.type !== "string") {
      throw new Error( false ? 0 : `Action "type" property must be a string. Instead, the actual type was: '${kindOf(action.type)}'. Value was: '${action.type}' (stringified)`);
    }
    if (isDispatching) {
      throw new Error( false ? 0 : "Reducers may not dispatch actions.");
    }
    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);
    } finally {
      isDispatching = false;
    }
    const listeners = currentListeners = nextListeners;
    listeners.forEach((listener) => {
      listener();
    });
    return action;
  }
  function replaceReducer(nextReducer) {
    if (typeof nextReducer !== "function") {
      throw new Error( false ? 0 : `Expected the nextReducer to be a function. Instead, received: '${kindOf(nextReducer)}`);
    }
    currentReducer = nextReducer;
    dispatch({
      type: actionTypes_default.REPLACE
    });
  }
  function observable() {
    const outerSubscribe = subscribe;
    return {
      /**
       * The minimal observable subscription method.
       * @param observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */
      subscribe(observer) {
        if (typeof observer !== "object" || observer === null) {
          throw new Error( false ? 0 : `Expected the observer to be an object. Instead, received: '${kindOf(observer)}'`);
        }
        function observeState() {
          const observerAsObserver = observer;
          if (observerAsObserver.next) {
            observerAsObserver.next(getState());
          }
        }
        observeState();
        const unsubscribe = outerSubscribe(observeState);
        return {
          unsubscribe
        };
      },
      [symbol_observable_default]() {
        return this;
      }
    };
  }
  dispatch({
    type: actionTypes_default.INIT
  });
  const store = {
    dispatch,
    subscribe,
    getState,
    replaceReducer,
    [symbol_observable_default]: observable
  };
  return store;
}
function legacy_createStore(reducer, preloadedState, enhancer) {
  return createStore(reducer, preloadedState, enhancer);
}
function warning(message) {
  if (typeof console !== "undefined" && typeof console.error === "function") {
    console.error(message);
  }
  try {
    throw new Error(message);
  } catch (e) {
  }
}
function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {
  const reducerKeys = Object.keys(reducers);
  const argumentName = action && action.type === actionTypes_default.INIT ? "preloadedState argument passed to createStore" : "previous state received by the reducer";
  if (reducerKeys.length === 0) {
    return "Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";
  }
  if (!isPlainObject(inputState)) {
    return `The ${argumentName} has unexpected type of "${kindOf(inputState)}". Expected argument to be an object with the following keys: "${reducerKeys.join('", "')}"`;
  }
  const unexpectedKeys = Object.keys(inputState).filter((key) => !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]);
  unexpectedKeys.forEach((key) => {
    unexpectedKeyCache[key] = true;
  });
  if (action && action.type === actionTypes_default.REPLACE)
    return;
  if (unexpectedKeys.length > 0) {
    return `Unexpected ${unexpectedKeys.length > 1 ? "keys" : "key"} "${unexpectedKeys.join('", "')}" found in ${argumentName}. Expected to find one of the known reducer keys instead: "${reducerKeys.join('", "')}". Unexpected keys will be ignored.`;
  }
}
function assertReducerShape(reducers) {
  Object.keys(reducers).forEach((key) => {
    const reducer = reducers[key];
    const initialState = reducer(void 0, {
      type: actionTypes_default.INIT
    });
    if (typeof initialState === "undefined") {
      throw new Error( false ? 0 : `The slice reducer for key "${key}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);
    }
    if (typeof reducer(void 0, {
      type: actionTypes_default.PROBE_UNKNOWN_ACTION()
    }) === "undefined") {
      throw new Error( false ? 0 : `The slice reducer for key "${key}" returned undefined when probed with a random type. Don't try to handle '${actionTypes_default.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`);
    }
  });
}
function combineReducers(reducers) {
  const reducerKeys = Object.keys(reducers);
  const finalReducers = {};
  for (let i = 0; i < reducerKeys.length; i++) {
    const key = reducerKeys[i];
    if (true) {
      if (typeof reducers[key] === "undefined") {
        warning(`No reducer provided for key "${key}"`);
      }
    }
    if (typeof reducers[key] === "function") {
      finalReducers[key] = reducers[key];
    }
  }
  const finalReducerKeys = Object.keys(finalReducers);
  let unexpectedKeyCache;
  if (true) {
    unexpectedKeyCache = {};
  }
  let shapeAssertionError;
  try {
    assertReducerShape(finalReducers);
  } catch (e) {
    shapeAssertionError = e;
  }
  return function combination(state = {}, action) {
    if (shapeAssertionError) {
      throw shapeAssertionError;
    }
    if (true) {
      const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);
      if (warningMessage) {
        warning(warningMessage);
      }
    }
    let hasChanged = false;
    const nextState = {};
    for (let i = 0; i < finalReducerKeys.length; i++) {
      const key = finalReducerKeys[i];
      const reducer = finalReducers[key];
      const previousStateForKey = state[key];
      const nextStateForKey = reducer(previousStateForKey, action);
      if (typeof nextStateForKey === "undefined") {
        const actionType = action && action.type;
        throw new Error( false ? 0 : `When called with an action of type ${actionType ? `"${String(actionType)}"` : "(unknown type)"}, the slice reducer for key "${key}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`);
      }
      nextState[key] = nextStateForKey;
      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
    }
    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;
    return hasChanged ? nextState : state;
  };
}
function bindActionCreator(actionCreator, dispatch) {
  return function(...args) {
    return dispatch(actionCreator.apply(this, args));
  };
}
function bindActionCreators(actionCreators, dispatch) {
  if (typeof actionCreators === "function") {
    return bindActionCreator(actionCreators, dispatch);
  }
  if (typeof actionCreators !== "object" || actionCreators === null) {
    throw new Error( false ? 0 : `bindActionCreators expected an object or a function, but instead received: '${kindOf(actionCreators)}'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`);
  }
  const boundActionCreators = {};
  for (const key in actionCreators) {
    const actionCreator = actionCreators[key];
    if (typeof actionCreator === "function") {
      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
    }
  }
  return boundActionCreators;
}
function compose(...funcs) {
  if (funcs.length === 0) {
    return (arg) => arg;
  }
  if (funcs.length === 1) {
    return funcs[0];
  }
  return funcs.reduce((a, b) => (...args) => a(b(...args)));
}
function applyMiddleware(...middlewares) {
  return (createStore2) => (reducer, preloadedState) => {
    const store = createStore2(reducer, preloadedState);
    let dispatch = () => {
      throw new Error( false ? 0 : "Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.");
    };
    const middlewareAPI = {
      getState: store.getState,
      dispatch: (action, ...args) => dispatch(action, ...args)
    };
    const chain = middlewares.map((middleware) => middleware(middlewareAPI));
    dispatch = compose(...chain)(store.dispatch);
    return {
      ...store,
      dispatch
    };
  };
}
function isAction(action) {
  return isPlainObject(action) && "type" in action && typeof action.type === "string";
}



/***/ }),

/***/ "./components/messagepad/reducers/activeId.ts":
/*!****************************************************!*\
  !*** ./components/messagepad/reducers/activeId.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var jquery_easing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery.easing */ "../../node_modules/jquery.easing/jquery.easing.js");
/* harmony import */ var jquery_easing__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery_easing__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "../../node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


function scrollToViewport() {
  const BOUND_TOP = 60;
  const BOUND_BOTTOM = 20;
  const node = jquery__WEBPACK_IMPORTED_MODULE_1___default()(".messagepad")[0];
  if (node.offsetHeight + BOUND_TOP + BOUND_BOTTOM < window.innerHeight) {
    const rect = node.getBoundingClientRect();
    const rectBody = document.body.getBoundingClientRect();
    let targetScrollTop = null;
    if (rect.top < BOUND_TOP) {
      targetScrollTop = rect.top - rectBody.top - BOUND_TOP;
    } else if (rect.top + node.offsetHeight > window.innerHeight) {
      targetScrollTop = rect.top - rectBody.top + node.offsetHeight + BOUND_BOTTOM - window.innerHeight;
    }
    if (targetScrollTop !== null) {
      jquery__WEBPACK_IMPORTED_MODULE_1___default()("html, body").stop().animate({ scrollTop: targetScrollTop }, 200, "easeOutCubic");
    }
  }
}
function reducer(state = null, action = {}) {
  switch (action.type) {
    case "DIALOGUES_SWITCH_TO": {
      scrollToViewport();
      return action.payload;
    }
    case "DIALOGUES_POST_SEND_FULFILLED": {
      return action.meta.dialogueId;
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/messagepad/reducers/dialogues.js":
/*!*****************************************************!*\
  !*** ./components/messagepad/reducers/dialogues.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);

function reducer(state = {}, action = {}) {
  var _a;
  switch (action.type) {
    case "DIALOGUES_LOAD_DIALOGUES_FULFILLED": {
      const { messages } = action.payload;
      return { ...state, ...lodash__WEBPACK_IMPORTED_MODULE_0___default().keyBy(messages, "udoc._id") };
    }
    case "DIALOGUES_CREATE": {
      const { user } = action.payload;
      if (state[user._id]) return state;
      return {
        ...state,
        [user._id]: {
          _id: user._id,
          udoc: { ...user },
          messages: []
        }
      };
    }
    case "DIALOGUES_POST_SEND_FULFILLED": {
      const id = action.meta.dialogueId;
      const { mdoc } = action.payload;
      return {
        ...state,
        [id]: {
          ...state[id],
          messages: [
            ...state[id].messages,
            mdoc
          ]
        }
      };
    }
    case "DIALOGUES_MESSAGE_PUSH": {
      const { mdoc, udoc } = action.payload;
      const to = mdoc.from === UserContext._id ? mdoc.to : mdoc.from;
      return {
        ...state,
        [to]: {
          ...state[to],
          udoc,
          messages: [
            ...((_a = state[to]) == null ? void 0 : _a.messages) || [],
            mdoc
          ]
        }
      };
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/messagepad/reducers/index.ts":
/*!*************************************************!*\
  !*** ./components/messagepad/reducers/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ "../../node_modules/redux/dist/redux.mjs");
/* harmony import */ var _activeId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activeId */ "./components/messagepad/reducers/activeId.ts");
/* harmony import */ var _dialogues__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dialogues */ "./components/messagepad/reducers/dialogues.js");
/* harmony import */ var _inputs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inputs */ "./components/messagepad/reducers/inputs.js");
/* harmony import */ var _isPosting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isPosting */ "./components/messagepad/reducers/isPosting.ts");





const reducer = (0,redux__WEBPACK_IMPORTED_MODULE_0__.combineReducers)({
  activeId: _activeId__WEBPACK_IMPORTED_MODULE_1__["default"],
  dialogues: _dialogues__WEBPACK_IMPORTED_MODULE_2__["default"],
  inputs: _inputs__WEBPACK_IMPORTED_MODULE_3__["default"],
  isPosting: _isPosting__WEBPACK_IMPORTED_MODULE_4__["default"]
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (reducer);


/***/ }),

/***/ "./components/messagepad/reducers/inputs.js":
/*!**************************************************!*\
  !*** ./components/messagepad/reducers/inputs.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);

function reducer(state = {}, action = {}) {
  switch (action.type) {
    case "DIALOGUES_LOAD_DIALOGUES_FULFILLED": {
      const dialogues = action.payload.messages;
      return { ...state, ...lodash__WEBPACK_IMPORTED_MODULE_0___default().fromPairs(lodash__WEBPACK_IMPORTED_MODULE_0___default().map(dialogues, (d) => [d._id, ""])) };
    }
    case "DIALOGUES_CREATE": {
      const { user } = action.payload;
      return {
        ...state,
        [user._id]: ""
      };
    }
    case "DIALOGUES_INPUT_CHANGED": {
      const id = action.meta.dialogueId;
      return {
        ...state,
        [id]: action.payload
      };
    }
    case "DIALOGUES_POST_SEND_FULFILLED": {
      const id = action.meta.dialogueId;
      return {
        ...state,
        [id]: ""
      };
    }
    case "DIALOGUES_MESSAGE_PUSH": {
      const { udoc } = action.payload;
      if (!state[udoc._id]) {
        return {
          ...state,
          [udoc._id]: ""
        };
      }
      return state;
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/messagepad/reducers/isPosting.ts":
/*!*****************************************************!*\
  !*** ./components/messagepad/reducers/isPosting.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var vj_components_notification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vj/components/notification */ "./components/notification/index.ts");


function reducer(state = {}, action = {}) {
  switch (action.type) {
    case "DIALOGUES_LOAD_DIALOGUES_FULFILLED": {
      const dialogues = action.payload.messages;
      return { ...state, ...lodash__WEBPACK_IMPORTED_MODULE_0___default().fromPairs(lodash__WEBPACK_IMPORTED_MODULE_0___default().map(dialogues, (d) => [d._id, false])) };
    }
    case "DIALOGUES_CREATE": {
      const { user } = action.payload;
      return {
        ...state,
        [user._id]: false
      };
    }
    case "DIALOGUES_POST_SEND_PENDING": {
      const id = action.meta.dialogueId;
      return {
        ...state,
        [id]: true
      };
    }
    case "DIALOGUES_POST_SEND_REJECTED": {
      vj_components_notification__WEBPACK_IMPORTED_MODULE_1__["default"].error(action.payload.message);
      const id = action.meta.dialogueId;
      return {
        ...state,
        [id]: false
      };
    }
    case "DIALOGUES_POST_SEND_FULFILLED": {
      const id = action.meta.dialogueId;
      return {
        ...state,
        [id]: false
      };
    }
    case "DIALOGUES_MESSAGE_PUSH": {
      const { udoc } = action.payload;
      return {
        ...state,
        [udoc._id]: false
      };
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/monaco/index.ts":
/*!************************************!*\
  !*** ./components/monaco/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   customOptions: () => (/* binding */ customOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   loadThemePromise: () => (/* binding */ loadThemePromise),
/* harmony export */   registerAction: () => (/* binding */ registerAction),
/* harmony export */   renderMarkdown: () => (/* reexport safe */ monaco_editor_esm_vs_base_browser_markdownRenderer__WEBPACK_IMPORTED_MODULE_8__.renderMarkdown),
/* harmony export */   saveCustomOptions: () => (/* binding */ saveCustomOptions)
/* harmony export */ });
/* harmony import */ var _monaco_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monaco.styl */ "./components/monaco/monaco.styl");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "../../node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var monaco_editor_esm_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! monaco-editor/esm/vs/editor/browser/editorExtensions */ "../../node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js");
/* harmony import */ var monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! monaco-editor/esm/vs/editor/editor.api */ "include-loader!../../node_modules/monaco-editor/esm/vs/editor/editor.api.js");
/* harmony import */ var monaco_editor_esm_vs_platform_quickinput_common_quickInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! monaco-editor/esm/vs/platform/quickinput/common/quickInput */ "../../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js");
/* harmony import */ var monaco_themes_themes_themelist_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! monaco-themes/themes/themelist.json */ "../../node_modules/monaco-themes/themes/themelist.json");
/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! nanoid */ "../../node_modules/nanoid/index.browser.js");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var monaco_editor_esm_vs_base_browser_markdownRenderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! monaco-editor/esm/vs/base/browser/markdownRenderer */ "../../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js");









/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__);
const customOptions = JSON.parse(localStorage.getItem("editor.config") || "{}");
function saveCustomOptions() {
  localStorage.setItem("editor.config", JSON.stringify(customOptions));
}
const loaded = {};
async function fetchTheme(id, label) {
  if (loaded[id]) return;
  const res = await fetch(`${UiContext.cdn_prefix}monaco/themes/${label}.json`);
  const data = await res.json();
  monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.editor.defineTheme(id, data);
  loaded[id] = true;
}
const loadThemePromise = customOptions.theme ? fetchTheme(customOptions.theme, monaco_themes_themes_themelist_json__WEBPACK_IMPORTED_MODULE_5__[customOptions.theme]) : Promise.resolve();
class ChangeThemeAction extends monaco_editor_esm_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_2__.EditorAction {
  constructor() {
    super({
      id: "hydro.changeEditorTheme",
      label: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Change Theme"),
      alias: "Change Theme"
    });
  }
  async run(accessor, editor) {
    const items = Object.keys(monaco_themes_themes_themelist_json__WEBPACK_IMPORTED_MODULE_5__).map((key) => ({
      label: monaco_themes_themes_themelist_json__WEBPACK_IMPORTED_MODULE_5__[key],
      command: key
    }));
    const quickInputService = accessor.get(monaco_editor_esm_vs_platform_quickinput_common_quickInput__WEBPACK_IMPORTED_MODULE_4__.IQuickInputService);
    const oldTheme = editor._themeService._theme;
    let focus = "";
    const selected = await quickInputService.pick(items, {
      canPickMany: false,
      async onDidFocus(item) {
        focus = item.command;
        await fetchTheme(item.command, item.label);
        if (focus === item.command) monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.editor.setTheme(item.command);
      }
    });
    if (!selected) {
      const themeId = oldTheme.type ? `${oldTheme.base}-${oldTheme.type}` : oldTheme.id;
      return monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.editor.setTheme(themeId);
    }
    await fetchTheme(selected.command, selected.label);
    customOptions.theme = selected.command;
    saveCustomOptions();
    return monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.editor.setTheme(selected.command);
  }
}
(0,monaco_editor_esm_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_2__.registerEditorAction)(ChangeThemeAction);
const pagename = document.documentElement.getAttribute("data-page");
const isProblemPage = ["problem_create", "problem_edit"].includes(pagename);
const isProblemEdit = pagename === "problem_edit";
function handlePasteEvent(editor) {
  window.addEventListener("paste", (ev) => {
    if (!editor.hasTextFocus()) return;
    const selection = editor.getSelection();
    const { items } = ev.clipboardData;
    let wrapper = ["", ""];
    let ext;
    const matches = items[0].type.match(/^image\/(png|jpg|jpeg|gif)$/i);
    if (matches) {
      wrapper = ["![image](", ")"];
      [, ext] = matches;
    } else if (items[0].type === "application/x-zip-compressed") {
      wrapper = ["[file](", ")"];
      ext = "zip";
    }
    if (!ext) return;
    ev.preventDefault();
    ev.stopPropagation();
    const filename = `${(0,nanoid__WEBPACK_IMPORTED_MODULE_6__.nanoid)()}.${ext}`;
    const data = new FormData();
    data.append("filename", filename);
    data.append("file", items[0].getAsFile());
    data.append("operation", "upload_file");
    if (isProblemEdit) data.append("type", "additional_file");
    let range = null;
    editor.executeEdits("", [{
      range: new monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.Range(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn),
      text: `![image](${(0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Preparing Upload...")}) `
    }], (inverseOp) => {
      range = inverseOp[0].range;
      return null;
    });
    editor.setPosition(editor.getSelection().getEndPosition());
    function updateText(text) {
      const pos = editor.getSelection();
      const rangeBefore = range;
      editor.executeEdits("", [{ range, text: `${wrapper[0]}${text}${wrapper[1]} ` }], (inverseOp) => {
        range = inverseOp[0].range;
        if (pos.endLineNumber !== pos.startLineNumber || pos.endLineNumber !== range.endLineNumber) return null;
        const delta = rangeBefore.endColumn - range.endColumn;
        editor.setPosition(new monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.Position(pos.endLineNumber, pos.endColumn - delta));
        return null;
      });
    }
    let progress = 0;
    vj_utils__WEBPACK_IMPORTED_MODULE_7__.request.postFile(isProblemEdit ? "./files" : "/file", data, {
      xhr() {
        const xhr = new XMLHttpRequest();
        xhr.upload.addEventListener("loadstart", () => updateText((0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Uploading...")));
        xhr.upload.addEventListener("progress", (e) => {
          if (!e.lengthComputable) return;
          const percentComplete = Math.round(e.loaded / e.total * 100);
          if (percentComplete === progress) return;
          progress = percentComplete;
          updateText(`${(0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Uploading...")} ${percentComplete}%`);
        }, false);
        return xhr;
      }
    }).then(() => updateText(`${isProblemPage ? "file://" : `/file/${UserContext._id}/`}${filename}`)).catch((e) => {
      console.error(e);
      updateText(`${(0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Upload Failed")}: ${e.message}`);
    });
  }, { capture: true });
}
function registerAction(editor, model, element) {
  var _a;
  if (element) {
    editor.addAction({
      id: "hydro.submitForm",
      label: "Submit",
      keybindings: [
        monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.CtrlCmd | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyCode.Enter,
        monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.WinCtrl | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyCode.Enter
      ],
      run: () => {
        const form = jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).closest("form");
        if (form.find("[data-default-submit]").length) form.find("[data-default-submit]").click();
        else form.submit();
      }
    });
  }
  editor.addCommand(monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.CtrlCmd | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.Shift | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyCode.KeyP, () => {
    editor.getAction("editor.action.quickCommand").run();
  });
  editor.addCommand(monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.Alt | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyMod.Shift | monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.KeyCode.KeyF, () => {
    const action = editor.getAction("editor.action.format") || editor.getAction("editor.action.formatDocument");
    if (action) action.run();
  });
  editor.onDidChangeConfiguration(() => {
    const current = editor.getOption(monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_3__.editor.EditorOptions.fontSize.id);
    customOptions.fontSize = current;
    saveCustomOptions();
  });
  if (model.getLanguageId() === "markdown") {
    const suggestWidget = (_a = editor.getContribution("editor.contrib.suggestController").widget) == null ? void 0 : _a.value;
    if (suggestWidget == null ? void 0 : suggestWidget._setDetailsVisible) suggestWidget._setDetailsVisible(true);
    handlePasteEvent(editor);
  }
  if (!customOptions.theme) return null;
  return loadThemePromise.then(() => editor.updateOptions({ theme: customOptions.theme }));
}


/***/ }),

/***/ "./components/monaco/languages/markdown.ts":
/*!*************************************************!*\
  !*** ./components/monaco/languages/markdown.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var emojis_keywords__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! emojis-keywords */ "../../node_modules/emojis-keywords/index.js");
/* harmony import */ var emojis_keywords__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(emojis_keywords__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emojis_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emojis-list */ "../../node_modules/emojis-list/index.js");
/* harmony import */ var emojis_list__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(emojis_list__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! monaco-editor/esm/vs/editor/editor.api */ "include-loader!../../node_modules/monaco-editor/esm/vs/editor/editor.api.js");
/* harmony import */ var qface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! qface */ "../../node_modules/qface/lib/index.js");
/* harmony import */ var qface__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(qface__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");





function emoji(range) {
  return emojis_keywords__WEBPACK_IMPORTED_MODULE_0___default().map((i, index) => ({
    label: `${(emojis_list__WEBPACK_IMPORTED_MODULE_1___default())[index]} ${i}`,
    kind: monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.languages.CompletionItemKind.Keyword,
    documentation: i,
    insertText: (emojis_list__WEBPACK_IMPORTED_MODULE_1___default())[index],
    range
  }));
}
function qqEmoji(range) {
  return qface__WEBPACK_IMPORTED_MODULE_3___default().data.flatMap((i) => {
    const url = qface__WEBPACK_IMPORTED_MODULE_3___default().getUrl(i.QSid, "https://qq-face.vercel.app");
    return [i.QDes.substring(1), ...i.Input || []].map((input) => ({
      label: `/${input}`,
      kind: monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.languages.CompletionItemKind.Keyword,
      documentation: { value: `![${i.QDes}](${url})`, isTrusted: true },
      insertText: `![${i.Input ? i.Input[0] : i.QDes.substring(1)}](${url} =32x32) `,
      range
    }));
  });
}
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.editor.registerCommand("hydro.openUserPage", (accesser, uid) => {
  window.open(`/user/${uid}`);
});
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.languages.registerCodeLensProvider("markdown", {
  async provideCodeLenses(model) {
    const users = model.findMatches("\\[\\]\\(/user/(\\d+)\\)", true, true, true, null, true);
    if (!users.length) {
      return {
        lenses: [],
        dispose: () => {
        }
      };
    }
    const data = await (0,vj_utils__WEBPACK_IMPORTED_MODULE_4__.api)("users", { ids: users.map((i) => +i.matches[1]) }, ["_id", "uname"]);
    return {
      lenses: users.map((i, index) => {
        var _a;
        return {
          range: i.range,
          id: `${index}.${i.matches[1]}`,
          command: {
            id: "hydro.openUserPage",
            arguments: [i.matches[1]],
            title: `@${((_a = data.find((doc) => doc._id.toString() === i.matches[1])) == null ? void 0 : _a.uname) || i.matches[1]}`
          }
        };
      }),
      dispose: () => {
      }
    };
  },
  resolveCodeLens(model, codeLens) {
    return codeLens;
  }
});
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.languages.registerCompletionItemProvider("markdown", {
  async provideCompletionItems(model, position) {
    const word = model.getWordAtPosition(position);
    if (word.word.length < 2) return { suggestions: [] };
    const prefix = model.getValueInRange({
      startLineNumber: position.lineNumber,
      endLineNumber: position.lineNumber,
      startColumn: word.startColumn - 1,
      endColumn: word.startColumn
    });
    if (![":", "/", "@"].includes(prefix)) return { suggestions: [] };
    const range = {
      startLineNumber: position.lineNumber,
      endLineNumber: position.lineNumber,
      startColumn: word.startColumn - 1,
      endColumn: word.endColumn
    };
    if (prefix === "@") {
      const users = await (0,vj_utils__WEBPACK_IMPORTED_MODULE_4__.api)("users", { search: word.word }, ["_id", "uname"]);
      return {
        suggestions: users.map((i) => ({
          label: { label: `@${i.uname}`, description: `UID=${i._id}` },
          kind: monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_2__.languages.CompletionItemKind.Property,
          documentation: { value: `[](#loader) ![avatar](${new URL(i.avatarUrl, window.location.href)})`, isTrusted: true },
          insertText: `@[](/user/${i._id}) `,
          range,
          sortText: i.priv === 0 ? "0" : "1",
          tags: i.priv === 0 ? [1] : []
        }))
      };
    }
    return {
      suggestions: prefix === ":" ? emoji(range) : qqEmoji(range)
    };
  }
});


/***/ }),

/***/ "./components/monaco/languages/typescript.ts":
/*!***************************************************!*\
  !*** ./components/monaco/languages/typescript.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadTypes: () => (/* binding */ loadTypes)
/* harmony export */ });
/* harmony import */ var monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! monaco-editor/esm/vs/editor/editor.api */ "include-loader!../../node_modules/monaco-editor/esm/vs/editor/editor.api.js");

const types = __webpack_require__("../../node_modules/@types/node lazy-once recursive \\.d\\.ts$");
const diagnosticsOptions = {
  noSemanticValidation: false,
  noSyntaxValidation: false,
  noSuggestionDiagnostics: true
};
const compilerOptions = {
  target: monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.ScriptTarget.ES2020,
  module: monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.ModuleKind.ESNext,
  allowNonTsExtensions: true
};
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.javascriptDefaults.setDiagnosticsOptions(diagnosticsOptions);
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.typescriptDefaults.setDiagnosticsOptions(diagnosticsOptions);
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.javascriptDefaults.setCompilerOptions(compilerOptions);
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);
const libSource = [
  "declare function readline(): string;",
  "declare function print(content: string): void;"
].join("\n");
const libUri = "ts:filename/basic.d.ts";
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.javascriptDefaults.addExtraLib(libSource, libUri);
monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.editor.createModel(libSource, "typescript", monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.Uri.parse(libUri));
const modules = [];
async function loadTypes() {
  for (const key of types.keys()) {
    if (!key.startsWith(".")) continue;
    const m = await types(key);
    const val2 = m.replace("declare var require: NodeRequire;", "");
    if (val2.includes("declare module ")) {
      modules.push(val2.toString().split("declare module '")[1].split("'")[0]);
    }
    const uri = `ts:node/${key.split("./")[1]}`;
    monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.javascriptDefaults.addExtraLib(val2, uri);
    monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.editor.createModel(val2, "typescript", monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.Uri.parse(uri));
  }
  let val = "declare var require:";
  for (const m of modules) val += `((id:'${m}')=>(typeof import('${m}')))&`;
  val += "((id:string)=>any)";
  monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.languages.typescript.javascriptDefaults.addExtraLib(val, "ts:node/require.d.ts");
  monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.editor.createModel(val, "typescript", monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__.Uri.parse("ts:node/require.d.ts"));
}


/***/ }),

/***/ "./components/monaco/languages/yaml.ts":
/*!*********************************************!*\
  !*** ./components/monaco/languages/yaml.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! monaco-editor/esm/vs/editor/editor.api */ "include-loader!../../node_modules/monaco-editor/esm/vs/editor/editor.api.js");
/* harmony import */ var monaco_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! monaco-yaml */ "../../node_modules/monaco-yaml/index.js");
/* harmony import */ var _schema_problemconfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../schema/problemconfig */ "./components/monaco/schema/problemconfig.ts");



(0,monaco_yaml__WEBPACK_IMPORTED_MODULE_1__.configureMonacoYaml)(monaco_editor_esm_vs_editor_editor_api__WEBPACK_IMPORTED_MODULE_0__, {
  validate: true,
  enableSchemaRequest: true,
  hover: true,
  completion: true,
  format: false,
  schemas: [
    {
      uri: "https://hydro.js.org/schema/problemConfig.json",
      fileMatch: ["hydro://problem/file/config.yaml"],
      schema: _schema_problemconfig__WEBPACK_IMPORTED_MODULE_2__["default"]
    },
    {
      uri: new URL("/manage/config/schema.json", window.location.href).toString(),
      fileMatch: ["hydro://system/setting.yaml"]
    }
  ]
});


/***/ }),

/***/ "./components/monaco/monaco.styl":
/*!***************************************!*\
  !*** ./components/monaco/monaco.styl ***!
  \***************************************/
/***/ (() => {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./components/monaco/nls.js":
/*!**********************************!*\
  !*** ./components/monaco/nls.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getNLSLanguage: () => (/* reexport safe */ monaco_editor_esm_vs_nls_messages__WEBPACK_IMPORTED_MODULE_0__.getNLSLanguage),
/* harmony export */   getNLSMessages: () => (/* reexport safe */ monaco_editor_esm_vs_nls_messages__WEBPACK_IMPORTED_MODULE_0__.getNLSMessages),
/* harmony export */   localize: () => (/* binding */ localize),
/* harmony export */   localize2: () => (/* binding */ localize2),
/* harmony export */   setLocaleData: () => (/* binding */ setLocaleData)
/* harmony export */ });
/* harmony import */ var monaco_editor_esm_vs_nls_messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! monaco-editor/esm/vs/nls.messages */ "../../node_modules/monaco-editor/esm/vs/nls.messages.js");

function format(message, args) {
  let result;
  if (!args.length) result = message;
  else {
    result = String(message).replace(/\{(\d+)\}/g, (match, rest) => {
      const index = rest[0];
      return typeof args[index] !== "undefined" ? args[index] : match;
    });
  }
  return result;
}
let CURRENT_LOCALE_DATA = {};
function localize(path, message, ...args) {
  return format(CURRENT_LOCALE_DATA[path.key || path] || CURRENT_LOCALE_DATA[message] || message, args);
}
function localize2(data, message, ...args) {
  const original = localize(data, message, args);
  return {
    value: original,
    original
  };
}
function setLocaleData(data) {
  CURRENT_LOCALE_DATA = Object.assign(...Object.values(data));
}


/***/ }),

/***/ "./components/monaco/schema/problemconfig.ts":
/*!***************************************************!*\
  !*** ./components/monaco/schema/problemconfig.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   testlibCheckers: () => (/* binding */ testlibCheckers)
/* harmony export */ });
const testlibCheckers = [
  "acmp",
  "caseicmp",
  "casencmp",
  "casewcmp",
  "dcmp",
  "fcmp",
  "hcmp",
  "icmp",
  "lcmp",
  "ncmp",
  "nyesno",
  "pointscmp",
  "pointsinfo",
  "rcmp",
  "rcmp4",
  "rcmp6",
  "rcmp9",
  "rncmp",
  "uncmp",
  "wcmp",
  "yesno"
];
const problemConfigSchema = {
  type: "object",
  definitions: {
    cases: { type: "array", items: { $ref: "#/definitions/case" } },
    case: {
      type: "object",
      properties: {
        input: { type: "string" },
        output: { type: "string" },
        time: { $ref: "#/definitions/time" },
        memory: { $ref: "#/definitions/memory" },
        score: { $ref: "#/definitions/score", description: "score" }
      },
      required: ["input"],
      additionalProperties: false
    },
    subtask: {
      description: "Subtask Info",
      type: "object",
      properties: {
        type: { enum: ["min", "max", "sum"] },
        time: { $ref: "#/definitions/time" },
        memory: { $ref: "#/definitions/memory" },
        score: { $ref: "#/definitions/score", description: "score" },
        cases: { $ref: "#/definitions/cases" },
        if: { type: "array", items: { type: "integer" } },
        id: { type: "integer" }
      },
      required: ["score"],
      additionalProperties: false
    },
    time: { type: "string", pattern: "^([0-9]+(?:\\.[0-9]*)?)([mu]?)s?$" },
    memory: { type: "string", pattern: "^([0-9]+(?:\\.[0-9]*)?)([kKmMgG])[bB]?$" },
    score: { type: "integer", maximum: 100, minimum: 1 },
    rateConfig: {
      type: "object",
      patternProperties: {
        "^.+$": {
          type: "number"
        }
      }
    },
    compilableFile: {
      oneOf: [
        { type: "string", pattern: "\\." },
        {
          type: "object",
          properties: {
            file: { type: "string", pattern: "\\." },
            lang: { type: "string" }
          },
          required: ["file", "lang"],
          additionalProperties: false
        }
      ]
    }
  },
  properties: {
    redirect: { type: "string", pattern: "[0-9a-zA-Z_-]+\\/[0-9]+" },
    key: { type: "string", pattern: "[0-9a-f]{32}" },
    type: { enum: ["default", "interactive", "communication", "submit_answer", "objective", "remote_judge"] },
    subType: { type: "string" },
    langs: { type: "array", items: { type: "string" } },
    target: { type: "string" },
    checker_type: { enum: ["default", "lemon", "syzoj", "hustoj", "testlib", "strict", "qduoj", "kattis"] },
    checker: {
      oneOf: [
        { type: "string", enum: testlibCheckers },
        { $ref: "#/definitions/compilableFile" }
      ]
    },
    interactor: { $ref: "#/definitions/compilableFile" },
    manager: { $ref: "#/definitions/compilableFile" },
    num_processes: { type: "number", minimum: 1, maximum: 5 },
    validator: { $ref: "#/definitions/compilableFile" },
    user_extra_files: { type: "array", items: { type: "string" } },
    judge_extra_files: { type: "array", items: { type: "string" } },
    cases: { $ref: "#/definitions/cases" },
    subtasks: { type: "array", items: { $ref: "#/definitions/subtask" } },
    filename: { type: "string" },
    detail: { type: "string", enum: ["full", "case", "none"] },
    time: { $ref: "#/definitions/time" },
    memory: { $ref: "#/definitions/memory" },
    score: { $ref: "#/definitions/score" },
    template: {
      type: "object",
      patternProperties: {
        "^.*$": {
          type: "array",
          minLength: 2,
          maxLength: 2,
          items: { type: "string" }
        }
      },
      additionalProperties: false
    },
    answers: {
      type: "object",
      patternProperties: {
        "^\\d+(-\\d+)?$": {
          type: "array",
          minLength: 2,
          maxLength: 2
        }
      },
      additionalProperties: false
    },
    time_limit_rate: { $ref: "#/definitions/rateConfig" },
    memory_limit_rate: { $ref: "#/definitions/rateConfig" }
  },
  additionalProperties: false
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (problemConfigSchema);


/***/ }),

/***/ "./components/problemconfig/BasicForm.tsx":
/*!************************************************!*\
  !*** ./components/problemconfig/BasicForm.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FormItem: () => (/* binding */ FormItem),
/* harmony export */   ManagedSelect: () => (/* binding */ ManagedSelect),
/* harmony export */   SingleFileSelect: () => (/* binding */ SingleFileSelect)
/* harmony export */ });
/* unused harmony export ManagedInput */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../autocomplete/components/FileSelectAutoComplete */ "./components/autocomplete/components/FileSelectAutoComplete.tsx");
/* harmony import */ var _autocomplete_components_LanguageSelectAutoComplete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../autocomplete/components/LanguageSelectAutoComplete */ "./components/autocomplete/components/LanguageSelectAutoComplete.tsx");





function FormItem({
  columns,
  label,
  children,
  helpText = "",
  disableLabel = false,
  ...props
}) {
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { ...props, className: `${columns && `medium-${columns}`} columns form__item` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", { htmlFor: `${label}-form` }, !disableLabel && (0,vj_utils__WEBPACK_IMPORTED_MODULE_2__.i18n)(label), children, helpText && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", { className: "help-text" }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_2__.i18n)(helpText))));
}
function ManagedInput({ placeholder, formKey }) {
  const value = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => state.config[formKey]);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    "input",
    {
      placeholder: (0,vj_utils__WEBPACK_IMPORTED_MODULE_2__.i18n)(placeholder),
      value: value || "",
      type: typeof value === "number" ? "number" : "text",
      onChange: (ev) => {
        dispatch({ type: "CONFIG_FORM_UPDATE", key: formKey, value: ev.currentTarget.value });
      },
      className: "textbox"
    }
  );
}
function ManagedSelect({ options, formKey }) {
  const value = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => state.config[formKey]);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    "select",
    {
      value: value || "",
      onChange: (ev) => {
        dispatch({ type: "CONFIG_FORM_UPDATE", key: formKey, value: ev.currentTarget.value });
      },
      className: "select"
    },
    options.map((o) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option", { id: o, key: o }, o))
  );
}
function SingleFileSelect({ formKey, withLang = false, label = "Checker" }) {
  const value = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => state.config[formKey]);
  const Files = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => state.testdata);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  const selectedFile = typeof value === "string" ? value : (value == null ? void 0 : value.file) || "";
  const selectedLang = typeof value === "string" ? "auto" : (value == null ? void 0 : value.lang) || "auto";
  const update = (file, lang) => {
    if (file === selectedFile && lang === selectedLang) return;
    if (withLang) dispatch({ type: "CONFIG_FORM_UPDATE", key: formKey, value: file ? { file, lang } : null });
    else dispatch({ type: "CONFIG_FORM_UPDATE", key: formKey, value: file });
  };
  return withLang ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormItem, { columns: 5, label }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_3__["default"],
    {
      width: "100%",
      data: Files,
      selectedKeys: [selectedFile],
      onChange: (val) => update(val, selectedLang)
    }
  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FormItem, { columns: 3, label: "Language" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _autocomplete_components_LanguageSelectAutoComplete__WEBPACK_IMPORTED_MODULE_4__["default"],
    {
      selectedKeys: [selectedLang],
      onChange: (val) => update(selectedFile, val),
      withAuto: true
    }
  ))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_3__["default"],
    {
      width: "100%",
      data: Files,
      selectedKeys: [selectedFile],
      onChange: (val) => update(val, selectedLang)
    }
  );
}


/***/ }),

/***/ "./components/problemconfig/ProblemConfigForm.tsx":
/*!********************************************************!*\
  !*** ./components/problemconfig/ProblemConfigForm.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ProblemConfigForm)
/* harmony export */ });
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/card/card.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/forms/inputGroup.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tag/tag.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../autocomplete/components/FileSelectAutoComplete */ "./components/autocomplete/components/FileSelectAutoComplete.tsx");
/* harmony import */ var _autocomplete_components_LanguageSelectAutoComplete__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../autocomplete/components/LanguageSelectAutoComplete */ "./components/autocomplete/components/LanguageSelectAutoComplete.tsx");
/* harmony import */ var _BasicForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BasicForm */ "./components/problemconfig/BasicForm.tsx");
/* harmony import */ var _ProblemType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ProblemType */ "./components/problemconfig/ProblemType.tsx");









function FileIOConfig() {
  const filename = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.config.filename);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "FileIOConfig", disableLabel: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Card, { style: { padding: 10 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 6, label: "FileIO" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.InputGroup,
    {
      rightElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Tag, { minimal: true }, ".in/.out"),
      value: filename || "",
      onChange: (ev) => {
        dispatch({ type: "problemconfig/updateFileIO", filename: ev.currentTarget.value });
      },
      fill: true
    }
  )))));
}
function ExtraFilesConfig() {
  const Files = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.testdata);
  const userExtraFiles = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.config.user_extra_files || [], lodash__WEBPACK_IMPORTED_MODULE_3__.isEqual);
  const judgeExtraFiles = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.config.judge_extra_files || [], lodash__WEBPACK_IMPORTED_MODULE_3__.isEqual);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "ExtraFilesConfig", disableLabel: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Card, { style: { padding: 10 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: (0,vj_utils__WEBPACK_IMPORTED_MODULE_6__.i18n)("user_extra_files") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_7__["default"],
    {
      data: Files,
      selectedKeys: userExtraFiles,
      onChange: (val) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "user_extra_files", value: val.split(",") }),
      multi: true
    }
  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: (0,vj_utils__WEBPACK_IMPORTED_MODULE_6__.i18n)("judge_extra_files") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_7__["default"],
    {
      data: Files,
      selectedKeys: judgeExtraFiles,
      onChange: (val) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "judge_extra_files", value: val.split(",") }),
      multi: true
    }
  )))));
}
function LangConfig() {
  const langs = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.config.langs) || [];
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "langs", disableLabel: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Card, { style: { padding: 10 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "langs" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(
    _autocomplete_components_LanguageSelectAutoComplete__WEBPACK_IMPORTED_MODULE_8__["default"],
    {
      placeholder: !langs.length ? (0,vj_utils__WEBPACK_IMPORTED_MODULE_6__.i18n)("Unlimited") : (0,vj_utils__WEBPACK_IMPORTED_MODULE_6__.i18n)("Code language"),
      selectedKeys: langs,
      onChange: (value) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "langs", value }),
      multi: true
    }
  )))));
}
function ProblemConfigForm() {
  const Type = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state) => state.config.type);
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div", { className: "row problem-config-form" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_ProblemType__WEBPACK_IMPORTED_MODULE_10__["default"], null), Type === "default" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(FileIOConfig, null), !["submit_answer", "objective"].includes(Type) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(ExtraFilesConfig, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4___default().createElement(LangConfig, null)));
}


/***/ }),

/***/ "./components/problemconfig/ProblemConfigTree.tsx":
/*!********************************************************!*\
  !*** ./components/problemconfig/ProblemConfigTree.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProblemConfigTree: () => (/* binding */ ProblemConfigTree)
/* harmony export */ });
/* unused harmony exports SubtaskNode, SubtaskConfigTree */
/* harmony import */ var _hydrooj_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hydrooj/common */ "../common/subtask.ts");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/common/classes.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/icon/icon.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/popover/popover.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tree/treeNode.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-dnd */ "../../node_modules/react-dnd/dist/hooks/useDrop/useDrop.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dnd */ "../../node_modules/react-dnd/dist/core/DndProvider.js");
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-dnd-html5-backend */ "../../node_modules/react-dnd-html5-backend/dist/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _tree_AddTestcase__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./tree/AddTestcase */ "./components/problemconfig/tree/AddTestcase.tsx");
/* harmony import */ var _tree_SelectionManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tree/SelectionManager */ "./components/problemconfig/tree/SelectionManager.tsx");
/* harmony import */ var _tree_SubtaskSettings__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tree/SubtaskSettings */ "./components/problemconfig/tree/SubtaskSettings.tsx");











function SubtaskNode(props) {
  const { subtaskId } = props;
  const subtaskIds = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((s) => {
    var _a;
    return Object.values(((_a = s.config) == null ? void 0 : _a.subtasks) || []).map((i) => i.id);
  }, lodash__WEBPACK_IMPORTED_MODULE_6__.isEqual);
  const cases = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state) => subtaskId === -1 ? state.config.__cases : state.config.subtasks.find((i) => i.id === subtaskId).cases || []);
  const time = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((s) => {
    var _a;
    return (_a = s.config) == null ? void 0 : _a.time;
  });
  const memory = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((s) => {
    var _a;
    return (_a = s.config) == null ? void 0 : _a.memory;
  });
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useDispatch)();
  const [expand, setExpand] = react__WEBPACK_IMPORTED_MODULE_7___default().useState(true);
  const [, drop] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_8__.useDrop)(() => ({
    accept: "cases",
    canDrop(item) {
      return item.subtaskId !== subtaskId;
    },
    drop(item) {
      dispatch({
        type: "problemconfig/moveTestcases",
        payload: {
          target: subtaskId,
          source: item.subtaskId,
          cases: item.cases
        }
      });
    }
  }));
  function deleteSubtask() {
    dispatch({
      type: "problemconfig/moveTestcases",
      payload: {
        target: -1,
        source: subtaskId,
        cases
      }
    });
    dispatch({
      type: "problemconfig/deleteSubtask",
      id: subtaskId
    });
  }
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_EXPANDED}` }, subtaskId !== -1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT, onClick: () => setExpand((e) => !e) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: expand ? "folder-open" : "folder-close" }), "\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Subtask {0}", subtaskId)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_SECONDARY_LABEL, onClick: (ev) => ev.stopPropagation() }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Popover,
    {
      content: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { style: { padding: 20 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("b", null, (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Are you sure you want to delete this subtask?")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { style: { display: "flex", justifyContent: "flex-end", marginTop: 15 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.Button, { intent: "danger", onClick: deleteSubtask }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Delete"))))
    },
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: "trash" })
  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LIST, ref: drop }, subtaskId !== -1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_tree_SubtaskSettings__WEBPACK_IMPORTED_MODULE_15__.SubtaskSettings, { subtaskId, subtaskIds, time, memory }), expand ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_tree_SelectionManager__WEBPACK_IMPORTED_MODULE_14__.SelectionManager, { subtaskId, subtaskIds }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TreeNode,
    {
      depth: 0,
      id: `s${subtaskId}`,
      onClick: () => setExpand(false),
      icon: "layers",
      label: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement((react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, "\xA0", cases.length, " testcases."),
      path: [0]
    }
  ), !cases.length && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CARET_NONE} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.ICON_STANDARD}` }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LABEL} text-gray` }, subtaskId === -1 ? (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("No testcase here") : (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Drag and drop testcases here:"))))));
}
function SubtaskConfigTree() {
  const ids = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((s) => {
    var _a;
    return Object.values(((_a = s.config) == null ? void 0 : _a.subtasks) || []).map((i) => i.id);
  }, lodash__WEBPACK_IMPORTED_MODULE_6__.isEqual);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useDispatch)();
  const store = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useStore)();
  function autoConfigure() {
    const state = store.getState();
    const subtasks = (0,_hydrooj_common__WEBPACK_IMPORTED_MODULE_0__.readSubtasksFromFiles)(state.testdata.map((t) => t.name), state.config);
    const cases = subtasks.reduce((a, b) => a.concat(b.cases), []);
    dispatch({
      type: "CONFIG_AUTOCASES_UPDATE",
      subtasks: (0,_hydrooj_common__WEBPACK_IMPORTED_MODULE_0__.normalizeSubtasks)(subtasks, (i) => i, state.config.time, state.config.memory, true)
    });
    dispatch({
      type: "problemconfig/delTestcases",
      cases
    });
  }
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LIST} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_ROOT}` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE, onClick: autoConfigure }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT}-0` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: "clean" }), "\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Auto configure")))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_tree_SubtaskSettings__WEBPACK_IMPORTED_MODULE_15__.GlobalSettings, null), ids.map((id) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(SubtaskNode, { key: id, subtaskId: id })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    "li",
    {
      className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE,
      onClick: () => dispatch({ type: "problemconfig/addSubtask" })
    },
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_CONTENT}-0` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: "folder-new" }), "\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_12__.i18n)("Add new subtask")))
  )));
}
function ProblemConfigTree() {
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(react_dnd__WEBPACK_IMPORTED_MODULE_9__.DndProvider, { backend: react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_10__.HTML5Backend }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "medium-6 columns" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(SubtaskConfigTree, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "medium-6 columns" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("ul", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_ROOT} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.TREE_NODE_LIST}` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_tree_AddTestcase__WEBPACK_IMPORTED_MODULE_13__.AddTestcase, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(SubtaskNode, { subtaskId: -1 }))))));
}


/***/ }),

/***/ "./components/problemconfig/ProblemType.tsx":
/*!**************************************************!*\
  !*** ./components/problemconfig/ProblemType.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ProblemType)
/* harmony export */ });
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/card/card.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/common/classes.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/forms/controls.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tabs/tab.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tabs/tabs.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _monaco_schema_problemconfig__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../monaco/schema/problemconfig */ "./components/monaco/schema/problemconfig.ts");
/* harmony import */ var _BasicForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BasicForm */ "./components/problemconfig/BasicForm.tsx");






function ProblemType() {
  const Type = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.type);
  const checkerType = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.checker_type);
  const filename = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.filename);
  const numProcesses = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.num_processes);
  const subType = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.subType);
  const checker = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((state) => state.config.checker);
  const [category, setCategory] = react__WEBPACK_IMPORTED_MODULE_5___default().useState("");
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useDispatch)();
  const dispatcher = (base) => (value) => dispatch({ ...base, value });
  (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {
    if (category || !checker) return;
    const name = typeof checker === "string" ? checker : checker.file;
    if (name.includes(".")) setCategory("custom");
    else setCategory("preset");
  }, [checker]);
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "", disableLabel: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Card, { style: { padding: 10 } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Tabs,
    {
      id: "ProblemTypeTabs",
      selectedTabId: Type,
      onChange: dispatcher({ type: "CONFIG_FORM_UPDATE", key: "type" }),
      defaultSelectedTabId: "default",
      renderActiveTabPanelOnly: true
    },
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.TAB }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Problem Type")),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.TabsExpander, null),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
      {
        id: "default",
        title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("problem_type.default"),
        panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
          _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Tabs,
          {
            id: "CheckerTypeTabs",
            selectedTabId: ["strict", "default"].includes(checkerType) || !checkerType ? "default" : checkerType !== "testlib" ? "other" : "testlib",
            onChange: (value) => {
              dispatch({ type: "CONFIG_FORM_UPDATE", key: "checker_type", value });
              if (value === "testlib" && !category) setCategory("custom");
            },
            renderActiveTabPanelOnly: true
          },
          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.TAB }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("CheckerType")),
          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.TabsExpander, null),
          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
            _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
            {
              id: "default",
              title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("default"),
              panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 12, label: "Config" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
                _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Switch,
                {
                  checked: checkerType !== "strict",
                  label: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Ignore trailing space and enter."),
                  onChange: () => {
                    dispatch({ type: "CONFIG_FORM_UPDATE", key: "checker_type", value: checkerType === "strict" ? "default" : "strict" });
                  }
                }
              )))
            }
          ),
          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
            _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
            {
              id: "testlib",
              title: "testlib",
              panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 4, label: "Type" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
                "select",
                {
                  value: category,
                  onChange: (ev) => {
                    setCategory(ev.currentTarget.value);
                    dispatch({ type: "CONFIG_FORM_UPDATE", key: "checker", value: ev.currentTarget.value === "preset" ? "acmp" : null });
                  },
                  className: "select"
                },
                /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("option", { value: "preset" }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Preset")),
                /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("option", { value: "custom" }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Custom"))
              )), category === "preset" ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 8, label: "Checker" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
                "select",
                {
                  value: typeof checker === "string" ? checker : checker.file,
                  onChange: (ev) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "checker", value: ev.currentTarget.value }),
                  className: "select"
                },
                _monaco_schema_problemconfig__WEBPACK_IMPORTED_MODULE_8__.testlibCheckers.map((c) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("option", { key: c, value: c }, c))
              )) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.SingleFileSelect, { formKey: "checker", label: "Checker", withLang: true }))
            }
          ),
          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
            _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
            {
              id: "other",
              title: "other",
              panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 4, label: "Interface" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.ManagedSelect, { options: ["syzoj", "hustoj", "qduoj", "lemon", "kattis"], formKey: "checker_type" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.SingleFileSelect, { formKey: "checker", label: "Checker", withLang: true }))
            }
          )
        )
      }
    ),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
      {
        id: "interactive",
        title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("problem_type.interactive"),
        panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.SingleFileSelect, { formKey: "interactor", label: "Interactor", withLang: true }))
      }
    ),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
      {
        id: "communication",
        title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("problem_type.communication"),
        panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.SingleFileSelect, { formKey: "manager", label: "Manager", withLang: true }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 4, label: "Number of Processes" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
          "input",
          {
            defaultValue: numProcesses || 2,
            placeholder: "2",
            onChange: (ev) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "num_processes", value: +ev.currentTarget.value }),
            className: "textbox"
          }
        )))
      }
    ),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
      {
        id: "submit_answer",
        title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("problem_type.submit_answer"),
        panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 6, label: "Config", disableLabel: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
          _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Switch,
          {
            checked: subType === "multi",
            label: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Multi-file"),
            onChange: () => {
              dispatch({ type: "CONFIG_FORM_UPDATE", key: "subType", value: subType === "multi" ? "single" : "multi" });
            }
          }
        )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_BasicForm__WEBPACK_IMPORTED_MODULE_9__.FormItem, { columns: 6, label: "Filename" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
          "input",
          {
            defaultValue: filename || "#.txt",
            placeholder: "#.txt",
            disabled: subType !== "multi",
            onChange: (ev) => dispatch({ type: "CONFIG_FORM_UPDATE", key: "filename", value: ev.currentTarget.value }),
            className: "textbox"
          }
        )))
      }
    ),
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Tab,
      {
        id: "objective",
        title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("problem_type.objective"),
        panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("p", null, (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Unsupported configure this type of problem. Please refer to the documentation."))
      }
    )
  )));
}


/***/ }),

/***/ "./components/problemconfig/index.tsx":
/*!********************************************!*\
  !*** ./components/problemconfig/index.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ProblemConfig)
/* harmony export */ });
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialog.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogBody.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogFooter.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tabs/tab.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tabs/tabs.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _ProblemConfigEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProblemConfigEditor */ "./components/problemconfig/ProblemConfigEditor.tsx");
/* harmony import */ var _ProblemConfigForm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ProblemConfigForm */ "./components/problemconfig/ProblemConfigForm.tsx");
/* harmony import */ var _ProblemConfigTree__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ProblemConfigTree */ "./components/problemconfig/ProblemConfigTree.tsx");







function ProblemConfig(props) {
  const [selected, setSelected] = react__WEBPACK_IMPORTED_MODULE_6___default().useState("basic");
  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_6___default().useState(false);
  const valid = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state) => state.config.__valid);
  const errors = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state) => state.config.__errors, (a, b) => JSON.stringify(a) === JSON.stringify(b));
  react__WEBPACK_IMPORTED_MODULE_6___default().useEffect(() => {
    if (valid) setOpen(false);
  }, [valid]);
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", { className: "medium-4 columns" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_ProblemConfigEditor__WEBPACK_IMPORTED_MODULE_9__["default"], null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", { className: "medium-8 columns" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.Tabs, { onChange: (t) => t !== "errors" && setSelected(t.toString()), selectedTabId: valid ? selected : "errors" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Tab, { id: "basic", disabled: !valid, title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Basic"), panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_ProblemConfigForm__WEBPACK_IMPORTED_MODULE_10__["default"], null) }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Tab, { id: "subtasks", disabled: !valid, title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Subtasks"), panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_ProblemConfigTree__WEBPACK_IMPORTED_MODULE_11__.ProblemConfigTree, null) }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.Tab, { id: "errors", disabled: valid, title: errors.length ? `Errors(${errors.length})` : "No Errors", panel: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("div", null, errors.map((i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("pre", { key: i }, i))) })))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.Dialog, { isOpen: open && !valid, onClose: () => setOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.DialogBody, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("p", null, (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Errors detected in the config. Confirm save?"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.DialogFooter, { actions: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement((react__WEBPACK_IMPORTED_MODULE_6___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Button, { onClick: () => setOpen(false) }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Cancel")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.Button, { intent: "warning", onClick: props.onSave }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Save"))) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_6___default().createElement("button", { className: "rounded primary button", onClick: valid ? props.onSave : () => setOpen(true) }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_8__.i18n)("Save")));
}


/***/ }),

/***/ "./components/problemconfig/reducer/config.ts":
/*!****************************************************!*\
  !*** ./components/problemconfig/reducer/config.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var _hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hydrooj/utils/lib/common */ "../utils/lib/common.ts");
/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ajv */ "../../node_modules/ajv/dist/ajv.js");
/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-yaml */ "../../node_modules/js-yaml/dist/js-yaml.mjs");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _monaco_schema_problemconfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../monaco/schema/problemconfig */ "./components/monaco/schema/problemconfig.ts");





const ajv = new (ajv__WEBPACK_IMPORTED_MODULE_1___default())();
const validate = ajv.compile(_monaco_schema_problemconfig__WEBPACK_IMPORTED_MODULE_4__["default"]);
function reducer(state = {
  type: "default",
  __loaded: false,
  __valid: false,
  __errors: [],
  __cases: [],
  subtasks: []
}, action = {}) {
  switch (action.type) {
    case "CONFIG_LOAD_FULFILLED": {
      const c = { ...state, __loaded: true };
      try {
        let data = js_yaml__WEBPACK_IMPORTED_MODULE_2__["default"].load(action.payload.config);
        if (typeof data !== "object") data = { subtasks: [] };
        else data.subtasks || (data.subtasks = []);
        if (!validate(data)) {
          Object.assign(c, data);
          c.__errors = validate.errors.map((i) => `${i.instancePath}: ${i.message}`);
          return c;
        }
        const subtasks = data.subtasks;
        for (const subtask of subtasks) {
          if (typeof subtask.id !== "number") {
            for (let i = 1; ; i++) {
              if (!subtasks.find((s) => s.id === i)) {
                subtask.id = i;
                break;
              }
            }
          }
        }
        Object.assign(c, data);
        c.__valid = true;
      } catch (e) {
        c.__errors.push(e.message);
      }
      return c;
    }
    case "CONFIG_FORM_UPDATE": {
      const next = { ...state, [action.key]: action.value };
      if (action.key === "score" && action.value) next.score = +next.score;
      if (action.key === "checker_type" && action.value === "other") next.checker_type = "syzoj";
      if (!action.value || action.value instanceof Array && !action.value.join("")) delete next[action.key];
      return next;
    }
    case "CONFIG_CODE_UPDATE": {
      try {
        const data = js_yaml__WEBPACK_IMPORTED_MODULE_2__["default"].load(action.payload);
        if (!validate(data)) {
          return {
            ...state,
            __valid: false,
            __errors: validate.errors.map((i) => `${i.instancePath}: ${i.message}`),
            __loaded: true
          };
        }
        return {
          ...state,
          ...data,
          __valid: true,
          __errors: [],
          __loaded: true
        };
      } catch (e) {
        return {
          ...state,
          __valid: false,
          __errors: [e.message],
          __loaded: true
        };
      }
    }
    case "CONFIG_AUTOCASES_UPDATE": {
      const next = { ...state };
      const { subtasks } = action;
      for (const subtask of subtasks) {
        if (subtask.time === (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__.parseTimeMS)(state.time || "1s")) delete subtask.time;
        if (subtask.memory === (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__.parseMemoryMB)(state.memory || "256m")) delete subtask.memory;
        if (subtask.time) subtask.time += "ms";
        if (subtask.memory) subtask.memory += "MB";
        if (typeof subtask.id !== "number") {
          for (let i = 1; ; i++) {
            if (!subtasks.find((s) => s.id === s)) {
              subtask.id = i;
              break;
            }
          }
        }
      }
      if (subtasks.length === 0) next.subtasks = [];
      else {
        next.subtasks = subtasks.map((subtask) => ({ ...subtask, ...{ cases: subtask.cases.map((i) => ({ input: i.input, output: i.output })) } }));
      }
      return next;
    }
    case "problemconfig/updateFileIO": {
      const n = { ...state, filename: action.filename };
      if (!n.filename) delete n.filename;
      return n;
    }
    case "problemconfig/updateGlobalConfig": {
      const n = { ...state, time: action.time, memory: action.memory };
      if (!n.time) delete n.time;
      if (!n.memory) delete n.memory;
      return n;
    }
    case "problemconfig/addSubtask": {
      const subtasks = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(state.subtasks);
      subtasks.push({
        cases: [],
        score: 0,
        id: Object.keys(subtasks).map((i) => subtasks[i].id).reduce((a, b) => Math.max(+a, +b), 0) + 1
      });
      return { ...state, subtasks };
    }
    case "problemconfig/updateSubtaskConfig": {
      if (!state.subtasks.find((i) => i.id === action.id)) return state;
      const subtask = { ...state.subtasks.find((i) => i.id === action.id) };
      const subtasks = [...state.subtasks];
      subtasks.splice(state.subtasks.findIndex((i) => i.id === action.id), 1, subtask);
      if (action.payload.time) subtask.time = action.payload.time;
      if (action.payload.memory) subtask.memory = action.payload.memory;
      if (action.payload.score) subtask.score = +action.payload.score || 0;
      if (action.payload.if) subtask.if = action.payload.if;
      if (action.payload.type) subtask.type = action.payload.type;
      if (!subtask.time) delete subtask.time;
      if (!subtask.memory) delete subtask.memory;
      return { ...state, subtasks };
    }
    case "problemconfig/addTestcases": {
      return { ...state, __cases: (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__.sortFiles)([...state.__cases, ...action.cases], "input") };
    }
    case "problemconfig/moveTestcases": {
      const testcases = action.payload.cases;
      const subtasks = (0,lodash__WEBPACK_IMPORTED_MODULE_3__.cloneDeep)(state.subtasks);
      const __cases = action.payload.source === -1 ? state.__cases.filter((i) => !testcases.find((j) => i.input === j.input && i.output === j.output)) : action.payload.target === -1 ? (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__.sortFiles)([...state.__cases, ...testcases], "input") : state.__cases;
      for (const key in subtasks) {
        const subtask = subtasks[key];
        if (subtask.id === action.payload.source) {
          subtask.cases = subtask.cases.filter((i) => !testcases.find((j) => i.input === j.input && i.output === j.output));
        } else if (subtask.id === action.payload.target) {
          subtask.cases = (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_0__.sortFiles)([...subtask.cases, ...testcases], "input");
        }
      }
      return { ...state, subtasks, __cases };
    }
    case "problemconfig/delTestcases": {
      const testcases = action.cases;
      return { ...state, __cases: state.__cases.filter((i) => !testcases.find((j) => i.input === j.input && i.output === j.output)) };
    }
    case "problemconfig/deleteSubtask": {
      const subtasks = state.subtasks.filter((i) => i.id !== action.id);
      return { ...state, subtasks };
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/problemconfig/reducer/index.ts":
/*!***************************************************!*\
  !*** ./components/problemconfig/reducer/index.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ "../../node_modules/redux/dist/redux.mjs");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ "./components/problemconfig/reducer/config.ts");
/* harmony import */ var _testdata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./testdata */ "./components/problemconfig/reducer/testdata.ts");



const reducer = (0,redux__WEBPACK_IMPORTED_MODULE_0__.combineReducers)({
  config: _config__WEBPACK_IMPORTED_MODULE_1__["default"],
  testdata: _testdata__WEBPACK_IMPORTED_MODULE_2__["default"]
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (reducer);


/***/ }),

/***/ "./components/problemconfig/reducer/testdata.ts":
/*!******************************************************!*\
  !*** ./components/problemconfig/reducer/testdata.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
function reducer(state = [], action = {}) {
  switch (action.type) {
    case "CONFIG_LOAD_FULFILLED": {
      return state.concat(action.payload.testdata);
    }
    case "CONFIG_DELETE_TESTDATA": {
      const next = state.filter((i) => i.name !== action.value[0]);
      return next;
    }
    case "CONFIG_ADD_TESTDATA": {
      return state.concat([action.value]);
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/problemconfig/tree/AddTestcase.tsx":
/*!*******************************************************!*\
  !*** ./components/problemconfig/tree/AddTestcase.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddTestcase: () => (/* binding */ AddTestcase)
/* harmony export */ });
/* harmony import */ var _hydrooj_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hydrooj/common */ "../common/subtask.ts");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialog.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/common/classes.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogBody.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogFooter.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/icon/icon.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");
/* harmony import */ var _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../autocomplete/components/FileSelectAutoComplete */ "./components/autocomplete/components/FileSelectAutoComplete.tsx");






function AddTestcase() {
  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_7___default().useState(false);
  const [input, setInput] = react__WEBPACK_IMPORTED_MODULE_7___default().useState("");
  const [output, setOutput] = react__WEBPACK_IMPORTED_MODULE_7___default().useState("");
  const [valid, setValid] = react__WEBPACK_IMPORTED_MODULE_7___default().useState(false);
  const [autoInput, setAutoInput] = react__WEBPACK_IMPORTED_MODULE_7___default().useState(true);
  const [autoOutput, setAutoOutput] = react__WEBPACK_IMPORTED_MODULE_7___default().useState(true);
  const testdata = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state) => state.testdata);
  const store = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useStore)();
  const refInput = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);
  const refOutput = (0,react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(() => {
    const inputValid = testdata.find((i) => i.name === input);
    if (input) setAutoInput(false);
    else setAutoInput(true);
    setValid(inputValid);
    if (inputValid && autoOutput) {
      const filename = input.substring(0, input.lastIndexOf("."));
      let outputFile = "";
      if (testdata.find((i) => i.name === `${filename}.out`)) outputFile = `${filename}.out`;
      else if (testdata.find((i) => i.name === `${filename}.ans`)) outputFile = `${filename}.ans`;
      if (outputFile) {
        refOutput.current.setSelectedItems([outputFile]);
        setOutput(outputFile);
        setAutoOutput(true);
      }
    }
  }, [input]);
  (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(() => {
    const outputValid = testdata.find((i) => i.name === output);
    if (output) setAutoOutput(false);
    else setAutoOutput(true);
    setValid(outputValid);
    if (outputValid && autoInput) {
      const filename = output.substring(0, output.lastIndexOf("."));
      if (testdata.find((i) => i.name === `${filename}.in`)) {
        refInput.current.setSelectedItems([`${filename}.in`]);
        setInput(`${filename}.in`);
        setAutoInput(true);
      }
    }
  }, [output]);
  function onConfirm() {
    store.dispatch({
      type: "problemconfig/addTestcases",
      cases: [{ input, output }]
    });
    setOpen(false);
  }
  function auto() {
    const state = store.getState();
    const subtasks = (0,_hydrooj_common__WEBPACK_IMPORTED_MODULE_0__.readSubtasksFromFiles)(state.testdata.map((i) => i.name), {});
    const current = state.config.subtasks.flatMap((i) => i.cases).concat(state.config.__cases);
    const pending = [];
    for (const c of subtasks.flatMap((s) => s.cases)) {
      if (!current.find((i) => i.input === c.input && i.output === c.output)) {
        pending.push({
          input: c.input,
          output: c.output
        });
      }
    }
    store.dispatch({
      type: "problemconfig/addTestcases",
      cases: pending
    });
  }
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement((react__WEBPACK_IMPORTED_MODULE_7___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE, onClick: auto }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_CONTENT} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_CONTENT}-0` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Icon, { icon: "clean" }), "\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_9__.i18n)("Auto detect")))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    "li",
    {
      className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE,
      onClick: () => {
        setInput("");
        setOutput("");
        setAutoInput(true);
        setAutoOutput(true);
        setOpen(true);
      }
    },
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_CONTENT} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_CONTENT}-0` }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.Icon, { icon: "clean" }), "\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_9__.i18n)("Add testcase")))
  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Dialog, { title: "Add testcase", icon: "cog", isOpen: open, onClose: () => setOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.DialogBody, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "row" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "columns medium-6" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_10__["default"],
    {
      ref: refInput,
      data: testdata,
      label: "Input",
      width: "100%",
      onChange: (e) => setInput(e),
      placeholder: (0,vj_utils__WEBPACK_IMPORTED_MODULE_9__.i18n)("Input"),
      value: input || ""
    }
  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement("div", { className: "columns medium-6" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    _autocomplete_components_FileSelectAutoComplete__WEBPACK_IMPORTED_MODULE_10__["default"],
    {
      ref: refOutput,
      data: testdata,
      label: "Output",
      width: "100%",
      onChange: (e) => setOutput(e),
      placeholder: (0,vj_utils__WEBPACK_IMPORTED_MODULE_9__.i18n)("Output"),
      value: input || ""
    }
  )))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.DialogFooter,
    {
      actions: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_7___default().createElement(
        _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.Button,
        {
          className: `primary rounded button${valid ? "" : " disabled"}`,
          onClick: onConfirm,
          disabled: !valid,
          intent: "primary",
          text: "Save"
        }
      )
    }
  )));
}


/***/ }),

/***/ "./components/problemconfig/tree/SelectionManager.tsx":
/*!************************************************************!*\
  !*** ./components/problemconfig/tree/SelectionManager.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectionManager: () => (/* binding */ SelectionManager)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var _Testcase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Testcase */ "./components/problemconfig/tree/Testcase.tsx");
/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "../../node_modules/jquery/dist/jquery.js");



function collide(rect1, rect2) {
  if ("getBoundingClientRect" in rect1) rect1 = rect1.getBoundingClientRect();
  if ("getBoundingClientRect" in rect2) rect2 = rect2.getBoundingClientRect();
  const maxX = Math.max(rect1.x + rect1.width, rect2.x + rect2.width);
  const maxY = Math.max(rect1.y + rect1.height, rect2.y + rect2.height);
  const minX = Math.min(rect1.x, rect2.x);
  const minY = Math.min(rect1.y, rect2.y);
  return maxX - minX <= rect1.width + rect2.width && maxY - minY <= rect1.height + rect2.height;
}
function SelectionManager(props) {
  const { subtaskIds, subtaskId } = props;
  const cases = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state) => subtaskId === -1 ? state.config.__cases || [] : state.config.subtasks.find((i) => i.id === subtaskId).cases || []);
  const pos = react__WEBPACK_IMPORTED_MODULE_0___default().useMemo(() => ({
    x: 0,
    y: 0,
    endX: 0,
    endY: 0
  }), []);
  const [start, setStart] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(0);
  const [end, setEnd] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(0);
  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(() => {
    setStart(0);
    setEnd(0);
  }, [JSON.stringify(cases)]);
  const handleMouseDown = react__WEBPACK_IMPORTED_MODULE_0___default().useCallback((event) => {
    pos.x = event.pageX;
    pos.y = event.pageY;
    const selected = Array.from($('[data-selected="true"]'));
    for (const el of selected) {
      if (collide(el, { ...pos, width: 1, height: 1 })) return;
    }
    document.body.addEventListener("mousemove", handleMouseMove);
    document.body.addEventListener("mouseup", handleMouseUp);
    $("body").css("cursor", "crosshair").append('<div id="divSelectArea" style="position:absolute;background-color:#e073d4;"></div>');
    $("#divSelectArea").css({
      top: event.pageY,
      left: event.pageX,
      zIndex: 9999999
    }).fadeTo(12, 0.2);
  }, [JSON.stringify(cases)]);
  const handleMouseMove = react__WEBPACK_IMPORTED_MODULE_0___default().useCallback((event) => {
    pos.endX = event.pageX;
    pos.endY = event.pageY;
    $("#divSelectArea").css({
      top: Math.min(event.pageY, pos.y),
      left: Math.min(event.pageX, pos.x),
      height: Math.abs(event.pageY - pos.y),
      width: Math.abs(event.pageX - pos.x)
    });
  }, [JSON.stringify(cases)]);
  const handleMouseUp = react__WEBPACK_IMPORTED_MODULE_0___default().useCallback(() => {
    document.body.removeEventListener("mousemove", handleMouseMove);
    document.body.removeEventListener("mouseup", handleMouseUp);
    const caseEntries = Array.from($(`[data-subtaskid="${subtaskId}"]`));
    const selected = [];
    for (let i = 0; i < caseEntries.length; i += 1) {
      if (collide(caseEntries[i], $("#divSelectArea")[0])) {
        selected.push(cases.indexOf(cases.find((c) => c.input === caseEntries[i].dataset.index)));
      }
    }
    const sorted = selected.sort((a, b) => a - b);
    $("#divSelectArea").remove();
    $("body").css("cursor", "default");
    pos.x = pos.y = pos.endX = pos.endY = 0;
    if (!sorted.length) return;
    setStart(sorted[0]);
    setEnd(sorted[selected.length - 1] + 1);
  }, [JSON.stringify(cases)]);
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, end > start && cases.slice(0, start).map((c, id) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _Testcase__WEBPACK_IMPORTED_MODULE_2__.TestcaseGroup,
    {
      subtaskId,
      cases: [c],
      key: `${c.input}@${id}`,
      selected: false,
      subtaskIds,
      index: id,
      onMouseDown: handleMouseDown,
      onClick: () => {
        setStart(id);
        setEnd(id + 1);
      }
    }
  )), start <= end && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _Testcase__WEBPACK_IMPORTED_MODULE_2__.TestcaseGroup,
    {
      cases: cases.slice(start, end),
      subtaskId,
      subtaskIds,
      onMouseDown: handleMouseDown,
      selected: true,
      index: start
    }
  ), end < cases.length && cases.slice(end).map((c, id) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
    _Testcase__WEBPACK_IMPORTED_MODULE_2__.TestcaseGroup,
    {
      subtaskId,
      cases: [c],
      key: `${c.input}@${id}`,
      subtaskIds,
      selected: false,
      onMouseDown: handleMouseDown,
      index: id + end,
      onClick: () => {
        setStart(id + end);
        setEnd(id + end + 1);
      }
    }
  )));
}


/***/ }),

/***/ "./components/problemconfig/tree/SubtaskSettings.tsx":
/*!***********************************************************!*\
  !*** ./components/problemconfig/tree/SubtaskSettings.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalSettings: () => (/* binding */ GlobalSettings),
/* harmony export */   SubtaskSettings: () => (/* binding */ SubtaskSettings)
/* harmony export */ });
/* harmony import */ var _hydrooj_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hydrooj/components */ "../components/frontend/autocomplete/CustomSelectAutoComplete.tsx");
/* harmony import */ var _hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hydrooj/utils/lib/common */ "../utils/lib/common.ts");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/button/buttons.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialog.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogBody.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/common/classes.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/dialog/dialogFooter.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/forms/controlGroup.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/forms/inputGroup.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/icon/icon.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tag/tag.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-redux */ "../../node_modules/react-redux/dist/react-redux.mjs");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");







function SubtaskSettings(props) {
  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(false);
  const [depsOpen, setDepsOpen] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(false);
  const subtaskIds = props.subtaskIds.filter((i) => i !== props.subtaskId);
  const score = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state) => state.config.subtasks.find((i) => i.id === props.subtaskId).score);
  const time = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state) => state.config.subtasks.find((i) => i.id === props.subtaskId).time);
  const memory = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state) => state.config.subtasks.find((i) => i.id === props.subtaskId).memory);
  const deps = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state) => state.config.subtasks.find((i) => i.id === props.subtaskId).if || [], lodash__WEBPACK_IMPORTED_MODULE_11__.isEqual);
  const type = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state) => state.config.subtasks.find((i) => i.id === props.subtaskId).type || "min");
  const [ctime, setTime] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(time);
  const [cmemory, setMemory] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(memory);
  const [cscore, setScore] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(score);
  const [cdeps, setDeps] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(deps.join(", "));
  const [ctype, setType] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(type);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useDispatch)();
  (0,react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(() => {
    dispatch({
      type: "problemconfig/updateSubtaskConfig",
      id: props.subtaskId,
      payload: {
        type: ctype
      }
    });
  }, [ctype]);
  function onConfirm() {
    dispatch({
      type: "problemconfig/updateSubtaskConfig",
      id: props.subtaskId,
      payload: {
        time: ctime,
        memory: cmemory,
        score: cscore,
        if: cdeps.split(",").map((i) => i.trim()).filter((i) => +i).map((i) => +i)
      }
    });
    setOpen(false);
    setDepsOpen(false);
  }
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement((react__WEBPACK_IMPORTED_MODULE_12___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Dialog, { title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Set time and memory limits"), icon: "cog", isOpen: open, onClose: () => setOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.DialogBody, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_7__.ControlGroup, { fill: true, vertical: false }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__.InputGroup,
    {
      leftElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "time" }),
      rightElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_10__.Tag, { minimal: true }, "ms"),
      onChange: (ev) => setTime(ev.currentTarget.value ? `${ev.currentTarget.value}ms` : ""),
      placeholder: (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseTimeMS)(props.time, false).toString() || "1000",
      value: ctime ? (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseTimeMS)(ctime, false).toString() || "" : ""
    }
  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__.InputGroup,
    {
      leftElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "comparison" }),
      rightElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_10__.Tag, { minimal: true }, "MB"),
      onChange: (ev) => setMemory(ev.currentTarget.value ? `${ev.currentTarget.value}MB` : ""),
      placeholder: (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseMemoryMB)(props.memory, false).toString() || "256",
      value: cmemory ? (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseMemoryMB)(cmemory, false).toString() || "" : ""
    }
  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__.InputGroup,
    {
      leftElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "star" }),
      onChange: (ev) => setScore(+ev.target.value || 0),
      placeholder: "Score",
      type: "number",
      value: cscore.toString()
    }
  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.DialogFooter, { actions: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Button, { className: "primary rounded button", onClick: onConfirm, intent: "primary", text: "Save" }) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Dialog, { title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Set dependencies"), icon: "cog", isOpen: depsOpen, onClose: () => setDepsOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.DialogBody, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _hydrooj_components__WEBPACK_IMPORTED_MODULE_0__["default"],
    {
      data: subtaskIds.map((i) => ({ _id: i, name: `${(0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Subtask {0}", i)}` })),
      setSelectItems: cdeps.split(",").map((i) => i.trim()).filter((i) => +i).map((i) => +i),
      onChange: (items) => setDeps(items),
      placeholder: "dependencies",
      multi: true
    }
  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.DialogFooter, { actions: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Button, { className: "primary rounded button", onClick: onConfirm, intent: "primary", text: "Save" }) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE, onClick: () => setOpen(true) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CONTENT }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CARET_NONE} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.ICON_STANDARD}` }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "time" }), "\xA0\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_LABEL}${time ? "" : " text-gray"}` }, time || props.time || "1s"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "comparison" }), "\xA0\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_LABEL}${memory ? "" : " text-gray"}` }, memory || props.memory || "256m"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "star" }), " ", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_SECONDARY_LABEL }, score || 0))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE, onClick: () => setDepsOpen(true) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CONTENT }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CARET_NONE} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.ICON_STANDARD}` }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "diagram-tree" }), "\xA0\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Dependencies"), ": ", deps.length ? deps.join(", ") : (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("(None)")))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("li", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("div", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CONTENT }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_CARET_NONE} ${_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.ICON_STANDARD}` }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "asterisk" }), "\xA0\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_LABEL }, (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Scoring method")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: _blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__.TREE_NODE_SECONDARY_LABEL }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("select", { className: "compact select", value: ctype, onChange: (e) => setType(e.target.value) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("option", { value: "min" }, "Min"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("option", { value: "max" }, "Max"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("option", { value: "sum" }, "Sum"))))));
}
function GlobalSettings() {
  const time = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((s) => {
    var _a;
    return (_a = s.config) == null ? void 0 : _a.time;
  });
  const memory = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((s) => {
    var _a;
    return (_a = s.config) == null ? void 0 : _a.memory;
  });
  const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(false);
  const [ctime, setTime] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(time);
  const [cmemory, setMemory] = react__WEBPACK_IMPORTED_MODULE_12___default().useState(memory);
  react__WEBPACK_IMPORTED_MODULE_12___default().useEffect(() => {
    setTime(time);
  }, [time]);
  react__WEBPACK_IMPORTED_MODULE_12___default().useEffect(() => {
    setMemory(memory);
  }, [memory]);
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useDispatch)();
  function onConfirm() {
    dispatch({
      type: "problemconfig/updateGlobalConfig",
      time: ctime,
      memory: cmemory
    });
    setOpen(false);
  }
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement((react__WEBPACK_IMPORTED_MODULE_12___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.Dialog, { title: (0,vj_utils__WEBPACK_IMPORTED_MODULE_14__.i18n)("Set time and memory limits"), icon: "cog", isOpen: open, onClose: () => setOpen(false) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__.DialogBody, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_7__.ControlGroup, { fill: true, vertical: false }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__.InputGroup,
    {
      leftElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "time" }),
      rightElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_10__.Tag, { minimal: true }, "ms"),
      onChange: (ev) => setTime(ev.currentTarget.value ? `${ev.currentTarget.value}ms` : ""),
      placeholder: "1000",
      value: ctime ? (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseTimeMS)(ctime, false).toString() || "" : ""
    }
  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__.InputGroup,
    {
      leftElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "comparison" }),
      rightElement: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_10__.Tag, { minimal: true }, "MB"),
      onChange: (ev) => setMemory(ev.currentTarget.value ? `${ev.currentTarget.value}MB` : ""),
      placeholder: "256",
      value: cmemory ? (0,_hydrooj_utils_lib_common__WEBPACK_IMPORTED_MODULE_1__.parseMemoryMB)(cmemory, false).toString() || "" : ""
    }
  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__.DialogFooter, { actions: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.Button, { className: "primary rounded button", onClick: onConfirm, intent: "primary", text: "Save" }) })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("li", { className: "bp6-tree-node", onClick: () => setOpen(true) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("div", { className: "bp6-tree-node-content" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "time" }), "\xA0\xA0", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `bp6-tree-node-label${time ? "" : " text-gray"}` }, time || "1s"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_9__.Icon, { icon: "comparison" }), " ", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_12___default().createElement("span", { className: `bp6-tree-node-secondary-label${memory ? "" : " text-gray"}` }, memory || "256MB"))));
}


/***/ }),

/***/ "./components/problemconfig/tree/Testcase.tsx":
/*!****************************************************!*\
  !*** ./components/problemconfig/tree/Testcase.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TestcaseGroup: () => (/* binding */ TestcaseGroup)
/* harmony export */ });
/* unused harmony export TestcaseNode */
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/context-menu/contextMenu.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/menu/menu.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/menu/menuItem.js");
/* harmony import */ var _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core */ "../../node_modules/@blueprintjs/core/lib/esm/components/tree/treeNode.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dnd */ "../../node_modules/react-dnd/dist/hooks/useDrag/useDrag.js");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");





function TestcaseNode(props) {
  const {
    c,
    selected,
    onClick,
    subtaskIds,
    subtaskId
  } = props;
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
    _blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__.ContextMenu,
    {
      onContextMenu: onClick,
      "data-subtaskid": subtaskId,
      "data-index": c.input,
      "data-selected": selected,
      content: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_1__.Menu, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.MenuItem, { icon: "drawer-left", text: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Move to subtask") }, subtaskIds.filter((i) => i !== subtaskId).map((i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.MenuItem, { key: i, text: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("Subtask {0}", i) })), subtaskIds.length <= 1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__.MenuItem, { icon: "disable", disabled: true, text: (0,vj_utils__WEBPACK_IMPORTED_MODULE_7__.i18n)("No target available") })))
    },
    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(
      _blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__.TreeNode,
      {
        depth: 0,
        id: c.input,
        isSelected: selected,
        onClick,
        icon: "document",
        label: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement((react__WEBPACK_IMPORTED_MODULE_5___default().Fragment), null, "\xA0", c.input, " / ", c.output),
        path: [0]
      }
    )
  );
}
function TestcaseGroup(props) {
  const {
    cases,
    subtaskId,
    onClick,
    index
  } = props;
  const [collected, drag] = (0,react_dnd__WEBPACK_IMPORTED_MODULE_6__.useDrag)(() => ({
    type: "cases",
    collect: (monitor) => ({
      isDragging: monitor.isDragging()
    }),
    canDrag: props.selected,
    item: { cases, subtaskId }
  }), [JSON.stringify(cases), subtaskId]);
  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement("div", { ref: drag, onClick, onMouseDown: props.onMouseDown, style: { opacity: collected.isDragging ? 0.5 : 1 } }, cases.map((c, id) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_5___default().createElement(TestcaseNode, { c, key: `${c.input}@${index + id}`, ...(0,lodash__WEBPACK_IMPORTED_MODULE_4__.omit)(props, "onClick"), index: index + id })));
}


/***/ }),

/***/ "./components/scratchpad/reducers/editor.ts":
/*!**************************************************!*\
  !*** ./components/scratchpad/reducers/editor.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
var _a;
let cacheKey = `${UserContext._id}/${UiContext.pdoc.domainId}/${UiContext.pdoc.docId}`;
if ((_a = UiContext.tdoc) == null ? void 0 : _a._id) cacheKey += `@${UiContext.tdoc._id}`;
function reducer(state = {
  lang: localStorage.getItem(`${cacheKey}#lang`) || UiContext.codeLang,
  code: localStorage.getItem(cacheKey) || UiContext.codeTemplate
}, action = {}) {
  if (action.type === "SCRATCHPAD_EDITOR_UPDATE_CODE") {
    localStorage.setItem(cacheKey, action.payload);
    return {
      ...state,
      code: action.payload
    };
  }
  if (action.type === "SCRATCHPAD_EDITOR_SET_LANG") {
    localStorage.setItem(`${cacheKey}#lang`, action.payload);
    return {
      ...state,
      lang: action.payload
    };
  }
  return state;
}


/***/ }),

/***/ "./components/scratchpad/reducers/index.ts":
/*!*************************************************!*\
  !*** ./components/scratchpad/reducers/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ "../../node_modules/redux/dist/redux.mjs");
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor */ "./components/scratchpad/reducers/editor.ts");
/* harmony import */ var _pretest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pretest */ "./components/scratchpad/reducers/pretest.ts");
/* harmony import */ var _records__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./records */ "./components/scratchpad/reducers/records.ts");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./state */ "./components/scratchpad/reducers/state.ts");
/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui */ "./components/scratchpad/reducers/ui.ts");






const reducer = (0,redux__WEBPACK_IMPORTED_MODULE_0__.combineReducers)({
  ui: _ui__WEBPACK_IMPORTED_MODULE_5__["default"],
  editor: _editor__WEBPACK_IMPORTED_MODULE_1__["default"],
  pretest: _pretest__WEBPACK_IMPORTED_MODULE_2__["default"],
  records: _records__WEBPACK_IMPORTED_MODULE_3__["default"],
  state: _state__WEBPACK_IMPORTED_MODULE_4__["default"]
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (reducer);


/***/ }),

/***/ "./components/scratchpad/reducers/pretest.ts":
/*!***************************************************!*\
  !*** ./components/scratchpad/reducers/pretest.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var _hydrooj_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hydrooj/common */ "../common/status.ts");

function reducer(state = {
  input: "",
  output: "",
  rid: null
}, action = {}) {
  if (action.type === "SCRATCHPAD_PRETEST_DATA_CHANGE") {
    const { type, value } = action.payload;
    return {
      ...state,
      [type]: value
    };
  }
  if (action.type === "SCRATCHPAD_RECORDS_PUSH") {
    const { rdoc } = action.payload;
    if (rdoc._id === state.rid) {
      const output = [`${_hydrooj_common__WEBPACK_IMPORTED_MODULE_0__.STATUS_TEXTS[rdoc.status]} ${rdoc.time}ms ${rdoc.memory}KiB`];
      if (rdoc.compilerTexts.length) output.push(rdoc.compilerTexts.join("\n"));
      if (rdoc.testCases.length) output.push(rdoc.testCases[0].message || "");
      return {
        ...state,
        output: output.join("\n")
      };
    }
  }
  if (action.type === "SCRATCHPAD_POST_PRETEST_FULFILLED") {
    return {
      ...state,
      rid: action.payload.rid
    };
  }
  return state;
}


/***/ }),

/***/ "./components/scratchpad/reducers/records.ts":
/*!***************************************************!*\
  !*** ./components/scratchpad/reducers/records.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);

function reducer(state = {
  rows: [],
  items: {}
}, action = {}) {
  switch (action.type) {
    case "SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_FULFILLED": {
      const { rdocs } = action.payload;
      return {
        ...state,
        rows: lodash__WEBPACK_IMPORTED_MODULE_0___default().map(rdocs, "_id"),
        items: lodash__WEBPACK_IMPORTED_MODULE_0___default().keyBy(rdocs, "_id")
      };
    }
    case "SCRATCHPAD_RECORDS_PUSH": {
      const { rdoc } = action.payload;
      const rows = [...state.rows];
      if (!rows.includes(rdoc._id)) {
        return {
          ...state,
          rows: [rdoc._id, ...state.rows],
          items: {
            ...state.items,
            [rdoc._id]: rdoc
          }
        };
      }
      return {
        ...state,
        items: {
          ...state.items,
          [rdoc._id]: rdoc
        }
      };
    }
    default:
      return state;
  }
}


/***/ }),

/***/ "./components/scratchpad/reducers/state.ts":
/*!*************************************************!*\
  !*** ./components/scratchpad/reducers/state.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
function reducer(state = {}, action = {}) {
  if (action.type === "SCRATCHPAD_STATE_UPDATE") {
    const { key, value } = action.payload;
    return {
      ...state,
      [key]: value
    };
  }
  return state;
}


/***/ }),

/***/ "./components/scratchpad/reducers/ui.ts":
/*!**********************************************!*\
  !*** ./components/scratchpad/reducers/ui.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var vj_components_notification__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vj/components/notification */ "./components/notification/index.ts");
/* harmony import */ var vj_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vj/utils */ "./utils/index.ts");


function reducer(state = {
  pretest: {
    visible: ((_a) => (_a = UiContext.pdoc.config) == null ? void 0 : _a.type)() === "default" ? localStorage.getItem("scratchpad/pretest") === "true" : false
  },
  records: {
    visible: UiContext.canViewRecord && localStorage.getItem("scratchpad/records") === "true",
    isLoading: false
  },
  settings: {
    visible: false,
    config: JSON.parse(localStorage.getItem("editor.config") || "{}")
  },
  isPosting: false,
  pretestWaitSec: 0,
  submitWaitSec: 0,
  lastTick: 0,
  activePage: "problem",
  pendingCommand: ""
}, action = {}) {
  switch (action.type) {
    case "SCRATCHPAD_UI_SET_VISIBILITY": {
      const { uiElement, visibility } = action.payload;
      localStorage.setItem(`scratchpad/${uiElement}`, visibility.toString());
      return {
        ...state,
        [uiElement]: {
          ...state[uiElement],
          visible: visibility
        }
      };
    }
    case "SCRATCHPAD_UI_TOGGLE_VISIBILITY": {
      const { uiElement } = action.payload;
      localStorage.setItem(`scratchpad/${uiElement}`, (!state[uiElement].visible).toString());
      return {
        ...state,
        [uiElement]: {
          ...state[uiElement],
          visible: !state[uiElement].visible
        }
      };
    }
    case "SCRATCHPAD_SETTING_UPDATE": {
      const { setting, value } = action.payload;
      const config = {
        ...state.settings.config,
        [setting]: value
      };
      localStorage.setItem("editor.config", JSON.stringify(config));
      return {
        ...state,
        settings: {
          ...state.settings,
          config
        }
      };
    }
    case "SCRATCHPAD_TRIGGER_EDITOR_COMMAND": {
      return {
        ...state,
        pendingCommand: action.payload.command
      };
    }
    case "SCRATCHPAD_POST_PRETEST_PENDING":
    case "SCRATCHPAD_POST_SUBMIT_PENDING": {
      return {
        ...state,
        isPosting: true
      };
    }
    case "SCRATCHPAD_POST_PRETEST_FULFILLED":
    case "SCRATCHPAD_POST_SUBMIT_FULFILLED": {
      vj_components_notification__WEBPACK_IMPORTED_MODULE_0__["default"].success((0,vj_utils__WEBPACK_IMPORTED_MODULE_1__.i18n)("Submitted."));
      return action.type === "SCRATCHPAD_POST_SUBMIT_FULFILLED" && UiContext.canViewRecord ? {
        ...state,
        records: {
          ...state.records,
          visible: true
        },
        isPosting: false,
        submitWaitSec: 8
      } : {
        ...state,
        isPosting: false,
        pretestWaitSec: 5
      };
    }
    case "SCRATCHPAD_POST_PRETEST_REJECTED":
    case "SCRATCHPAD_POST_SUBMIT_REJECTED": {
      vj_components_notification__WEBPACK_IMPORTED_MODULE_0__["default"].error(action.payload.message);
      return {
        ...state,
        isPosting: false,
        pretestWaitSec: 3,
        submitWaitSec: 3
      };
    }
    case "SCRATCHPAD_WAITING_TICK": {
      if (Date.now() - state.lastTick < 950) return state;
      return {
        ...state,
        lastTick: Date.now(),
        pretestWaitSec: Math.max(state.pretestWaitSec - 1, 0),
        submitWaitSec: Math.max(state.submitWaitSec - 1, 0)
      };
    }
    case "SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_PENDING": {
      return {
        ...state,
        records: {
          ...state.records,
          isLoading: true
        }
      };
    }
    case "SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_REJECTED": {
      vj_components_notification__WEBPACK_IMPORTED_MODULE_0__["default"].error(action.payload.message);
      return {
        ...state,
        records: {
          ...state.records,
          isLoading: false
        }
      };
    }
    case "SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_FULFILLED": {
      return {
        ...state,
        records: {
          ...state.records,
          isLoading: false
        }
      };
    }
    case "SCRATCHPAD_SWITCH_TO_PAGE": {
      let newPage = action.payload;
      if (newPage === state.activePage) newPage = null;
      return {
        ...state,
        activePage: newPage
      };
    }
    default:
      return state;
  }
}


/***/ })

}]);